/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */

/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */

/*!
 * CanJS - 2.1.4
 * http://canjs.us/
 * Copyright (c) 2014 Bitovi
 * Fri, 21 Nov 2014 22:25:48 GMT
 * Licensed MIT
 * Includes: CanJS default build
 * Download from: http://canjs.us/
 */

/**
 * @license RequireJS text 2.0.14 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/*
 * Framework7 0.9.7
 * Full Featured HTML Framework For Building iOS 7 Apps
 *
 * http://www.idangero.us/framework7
 *
 * Copyright 2014, Vladimir Kharlampidi
 * The iDangero.us
 * http://www.idangero.us/
 *
 * Licensed under MIT
 *
 * Released on: October 7, 2014
*/

/*
 *  Sugar Library v1.4.1
 *
 *  Freely distributable and licensed under the MIT-style license.
 *  Copyright (c) 2013 Andrew Plummer
 *  http://sugarjs.com/
 *
 * ---------------------------- */

/***
     * @method codes([fn])
     * @returns Array
     * @short Runs callback [fn] against each character code in the string. Returns an array of character codes.
     * @example
     *
     *   'jumpy'.codes() -> [106,117,109,112,121]
     *   'jumpy'.codes(function(c) {
     *     // Called 5 times: 106, 117, 109, 112, 121
     *   });
     *
     ***/

/***
     * @method chars([fn])
     * @returns Array
     * @short Runs callback [fn] against each character in the string. Returns an array of characters.
     * @example
     *
     *   'jumpy'.chars() -> ['j','u','m','p','y']
     *   'jumpy'.chars(function(c) {
     *     // Called 5 times: "j","u","m","p","y"
     *   });
     *
     ***/

/*
 * jPlayer Plugin for jQuery JavaScript Library
 * http://www.jplayer.org
 *
 * Copyright (c) 2009 - 2014 Happyworm Ltd
 * Licensed under the MIT license.
 * http://opensource.org/licenses/MIT
 *
 * Author: Mark J Panaghiston
 * Version: 2.7.0
 * Date: 1st September 2014
 */

!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=K.type(e);return"function"===n||K.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function a(e,t,n){if(K.isFunction(t))return K.grep(e,function(e,a){return!!t.call(e,a,e)!==n});if(t.nodeType)return K.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(oe.test(t))return K.filter(t,e,n);t=K.filter(t,e)}return K.grep(e,function(e){return W.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function r(e){var t=fe[e]={};return K.each(e.match(he)||[],function(e,n){t[n]=!0}),t}function s(){Q.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),K.ready()}function o(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=K.expando+o.uid++}function l(e,t,n){var a;if(void 0===n&&1===e.nodeType)if(a="data-"+t.replace(we,"-$1").toLowerCase(),n=e.getAttribute(a),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:be.test(n)?K.parseJSON(n):n}catch(i){}ye.set(e,t,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function d(){try{return Q.activeElement}catch(e){}}function p(e,t){return K.nodeName(e,"table")&&K.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function h(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=Fe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,a=e.length;a>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function g(e,t){var n,a,i,r,s,o,l,u;if(1===t.nodeType){if(ve.hasData(e)&&(r=ve.access(e),s=ve.set(t,r),u=r.events)){delete s.handle,s.events={};for(i in u)for(n=0,a=u[i].length;a>n;n++)K.event.add(t,i,u[i][n])}ye.hasData(e)&&(o=ye.access(e),l=K.extend({},o),ye.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&K.nodeName(e,t)?K.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&_e.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var a,i=K(n.createElement(t)).appendTo(n.body),r=e.getDefaultComputedStyle&&(a=e.getDefaultComputedStyle(i[0]))?a.display:K.css(i[0],"display");return i.detach(),r}function w(e){var t=Q,n=Ie[e];return n||(n=b(e,t),"none"!==n&&n||(Be=(Be||K("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Be[0].contentDocument,t.write(),t.close(),n=b(e,t),Be.detach()),Ie[e]=n),n}function x(e,t,n){var a,i,r,s,o=e.style;return n=n||$e(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||K.contains(e.ownerDocument,e)||(s=K.style(e,t)),ze.test(s)&&He.test(t)&&(a=o.width,i=o.minWidth,r=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=n.width,o.width=a,o.minWidth=i,o.maxWidth=r)),void 0!==s?s+"":s}function C(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function k(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),a=t,i=Ye.length;i--;)if(t=Ye[i]+n,t in e)return t;return a}function _(e,t,n){var a=Ue.exec(t);return a?Math.max(0,a[1]-(n||0))+(a[2]||"px"):t}function T(e,t,n,a,i){for(var r=n===(a?"border":"content")?4:"width"===t?1:0,s=0;4>r;r+=2)"margin"===n&&(s+=K.css(e,n+Ce[r],!0,i)),a?("content"===n&&(s-=K.css(e,"padding"+Ce[r],!0,i)),"margin"!==n&&(s-=K.css(e,"border"+Ce[r]+"Width",!0,i))):(s+=K.css(e,"padding"+Ce[r],!0,i),"padding"!==n&&(s+=K.css(e,"border"+Ce[r]+"Width",!0,i)));return s}function S(e,t,n){var a=!0,i="width"===t?e.offsetWidth:e.offsetHeight,r=$e(e),s="border-box"===K.css(e,"boxSizing",!1,r);if(0>=i||null==i){if(i=x(e,t,r),(0>i||null==i)&&(i=e.style[t]),ze.test(i))return i;a=s&&(J.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+T(e,t,n||(s?"border":"content"),a,r)+"px"}function P(e,t){for(var n,a,i,r=[],s=0,o=e.length;o>s;s++)a=e[s],a.style&&(r[s]=ve.get(a,"olddisplay"),n=a.style.display,t?(r[s]||"none"!==n||(a.style.display=""),""===a.style.display&&ke(a)&&(r[s]=ve.access(a,"olddisplay",w(a.nodeName)))):(i=ke(a),"none"===n&&i||ve.set(a,"olddisplay",i?n:K.css(a,"display"))));for(s=0;o>s;s++)a=e[s],a.style&&(t&&"none"!==a.style.display&&""!==a.style.display||(a.style.display=t?r[s]||"":"none"));return e}function j(e,t,n,a,i){return new j.prototype.init(e,t,n,a,i)}function E(){return setTimeout(function(){Je=void 0}),Je=K.now()}function N(e,t){var n,a=0,i={height:e};for(t=t?1:0;4>a;a+=2-t)n=Ce[a],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function O(e,t,n){for(var a,i=(nt[t]||[]).concat(nt["*"]),r=0,s=i.length;s>r;r++)if(a=i[r].call(n,t,e))return a}function M(e,t,n){var a,i,r,s,o,l,u,c,d=this,p={},h=e.style,f=e.nodeType&&ke(e),m=ve.get(e,"fxshow");n.queue||(o=K._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,K.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],u=K.css(e,"display"),c="none"===u?ve.get(e,"olddisplay")||w(e.nodeName):u,"inline"===c&&"none"===K.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(a in t)if(i=t[a],Ze.exec(i)){if(delete t[a],r=r||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!m||void 0===m[a])continue;f=!0}p[a]=m&&m[a]||K.style(e,a)}else u=void 0;if(K.isEmptyObject(p))"inline"===("none"===u?w(e.nodeName):u)&&(h.display=u);else{m?"hidden"in m&&(f=m.hidden):m=ve.access(e,"fxshow",{}),r&&(m.hidden=!f),f?K(e).show():d.done(function(){K(e).hide()}),d.done(function(){var t;ve.remove(e,"fxshow");for(t in p)K.style(e,t,p[t])});for(a in p)s=O(f?m[a]:0,a,d),a in m||(m[a]=s.start,f&&(s.end=s.start,s.start="width"===a||"height"===a?1:0))}}function A(e,t){var n,a,i,r,s;for(n in e)if(a=K.camelCase(n),i=t[a],r=e[n],K.isArray(r)&&(i=r[1],r=e[n]=r[0]),n!==a&&(e[a]=r,delete e[n]),s=K.cssHooks[a],s&&"expand"in s){r=s.expand(r),delete e[a];for(n in r)n in e||(e[n]=r[n],t[n]=i)}else t[a]=i}function L(e,t,n){var a,i,r=0,s=tt.length,o=K.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=Je||E(),n=Math.max(0,u.startTime+u.duration-t),a=n/u.duration||0,r=1-a,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(r);return o.notifyWith(e,[u,r,n]),1>r&&l?n:(o.resolveWith(e,[u]),!1)},u=o.promise({elem:e,props:K.extend({},t),opts:K.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Je||E(),duration:n.duration,tweens:[],createTween:function(t,n){var a=K.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(a),a},stop:function(t){var n=0,a=t?u.tweens.length:0;if(i)return this;for(i=!0;a>n;n++)u.tweens[n].run(1);return t?o.resolveWith(e,[u,t]):o.rejectWith(e,[u,t]),this}}),c=u.props;for(A(c,u.opts.specialEasing);s>r;r++)if(a=tt[r].call(u,e,c,u.opts))return a;return K.map(c,O,u),K.isFunction(u.opts.start)&&u.opts.start.call(e,u),K.fx.timer(K.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function D(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var a,i=0,r=t.toLowerCase().match(he)||[];if(K.isFunction(n))for(;a=r[i++];)"+"===a[0]?(a=a.slice(1)||"*",(e[a]=e[a]||[]).unshift(n)):(e[a]=e[a]||[]).push(n)}}function F(e,t,n,a){function i(o){var l;return r[o]=!0,K.each(e[o]||[],function(e,o){var u=o(t,n,a);return"string"!=typeof u||s||r[u]?s?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var r={},s=e===bt;return i(t.dataTypes[0])||!r["*"]&&i("*")}function R(e,t){var n,a,i=K.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:a||(a={}))[n]=t[n]);return a&&K.extend(!0,e,a),e}function q(e,t,n){for(var a,i,r,s,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(i in o)if(o[i]&&o[i].test(a)){l.unshift(i);break}if(l[0]in n)r=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){r=i;break}s||(s=i)}r=r||s}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}function B(e,t,n,a){var i,r,s,o,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(r=c.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&a&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=u[l+" "+r]||u["* "+r],!s)for(i in u)if(o=i.split(" "),o[1]===r&&(s=u[l+" "+o[0]]||u["* "+o[0]])){s===!0?s=u[i]:u[i]!==!0&&(r=o[0],c.unshift(o[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function I(e,t,n,a){var i;if(K.isArray(t))K.each(t,function(t,i){n||_t.test(e)?a(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,a)});else if(n||"object"!==K.type(t))a(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,a)}function H(e){return K.isWindow(e)?e:9===e.nodeType&&e.defaultView}var z=[],$=z.slice,V=z.concat,U=z.push,W=z.indexOf,X={},G=X.toString,Y=X.hasOwnProperty,J={},Q=e.document,Z="2.1.4",K=function(e,t){return new K.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,ae=function(e,t){return t.toUpperCase()};K.fn=K.prototype={jquery:Z,constructor:K,selector:"",length:0,toArray:function(){return $.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:$.call(this)},pushStack:function(e){var t=K.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return K.each(this,e,t)},map:function(e){return this.pushStack(K.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack($.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:z.sort,splice:z.splice},K.extend=K.fn.extend=function(){var e,t,n,a,i,r,s=arguments[0]||{},o=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[o]||{},o++),"object"==typeof s||K.isFunction(s)||(s={}),o===l&&(s=this,o--);l>o;o++)if(null!=(e=arguments[o]))for(t in e)n=s[t],a=e[t],s!==a&&(u&&a&&(K.isPlainObject(a)||(i=K.isArray(a)))?(i?(i=!1,r=n&&K.isArray(n)?n:[]):r=n&&K.isPlainObject(n)?n:{},s[t]=K.extend(u,r,a)):void 0!==a&&(s[t]=a));return s},K.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===K.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!K.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==K.type(e)||e.nodeType||K.isWindow(e)?!1:e.constructor&&!Y.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?X[G.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=K.trim(e),e&&(1===e.indexOf("use strict")?(t=Q.createElement("script"),t.text=e,Q.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,ae)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,a){var i,r=0,s=e.length,o=n(e);if(a){if(o)for(;s>r&&(i=t.apply(e[r],a),i!==!1);r++);else for(r in e)if(i=t.apply(e[r],a),i===!1)break}else if(o)for(;s>r&&(i=t.call(e[r],r,e[r]),i!==!1);r++);else for(r in e)if(i=t.call(e[r],r,e[r]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var a=t||[];return null!=e&&(n(Object(e))?K.merge(a,"string"==typeof e?[e]:e):U.call(a,e)),a},inArray:function(e,t,n){return null==t?-1:W.call(t,e,n)},merge:function(e,t){for(var n=+t.length,a=0,i=e.length;n>a;a++)e[i++]=t[a];return e.length=i,e},grep:function(e,t,n){for(var a,i=[],r=0,s=e.length,o=!n;s>r;r++)a=!t(e[r],r),a!==o&&i.push(e[r]);return i},map:function(e,t,a){var i,r=0,s=e.length,o=n(e),l=[];if(o)for(;s>r;r++)i=t(e[r],r,a),null!=i&&l.push(i);else for(r in e)i=t(e[r],r,a),null!=i&&l.push(i);return V.apply([],l)},guid:1,proxy:function(e,t){var n,a,i;return"string"==typeof t&&(n=e[t],t=e,e=n),K.isFunction(e)?(a=$.call(arguments,2),i=function(){return e.apply(t||this,a.concat($.call(arguments)))},i.guid=e.guid=e.guid||K.guid++,i):void 0},now:Date.now,support:J}),K.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){X["[object "+t+"]"]=t.toLowerCase()});var ie=function(e){function t(e,t,n,a){var i,r,s,o,l,u,d,h,f,m;if((t?t.ownerDocument||t:I)!==M&&O(t),t=t||M,n=n||[],o=t.nodeType,"string"!=typeof e||!e||1!==o&&9!==o&&11!==o)return n;if(!a&&L){if(11!==o&&(i=ye.exec(e)))if(s=i[1]){if(9===o){if(r=t.getElementById(s),!r||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(s))&&q(t,r)&&r.id===s)return n.push(r),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&x.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(s)),n}if(x.qsa&&(!D||!D.test(e))){if(h=d=B,f=t,m=1!==o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(u=T(e),(d=t.getAttribute("id"))?h=d.replace(we,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+p(u[l]);f=be.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return Z.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return P(e.replace(le,"$1"),t,n,a)}function n(){function e(n,a){return t.push(n+" ")>C.cacheLength&&delete e[t.shift()],e[n+" "]=a}var t=[];return e}function a(e){return e[B]=!0,e}function i(e){var t=M.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),a=e.length;a--;)C.attrHandle[n[a]]=t}function s(e,t){var n=t&&e,a=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(a)return a;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return a(function(t){return t=+t,a(function(n,a){for(var i,r=e([],n.length,t),s=r.length;s--;)n[i=r[s]]&&(n[i]=!(a[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,a="";n>t;t++)a+=e[t].value;return a}function h(e,t,n){var a=t.dir,i=n&&"parentNode"===a,r=z++;return t.first?function(t,n,r){for(;t=t[a];)if(1===t.nodeType||i)return e(t,n,r)}:function(t,n,s){var o,l,u=[H,r];if(s){for(;t=t[a];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[a];)if(1===t.nodeType||i){if(l=t[B]||(t[B]={}),(o=l[a])&&o[0]===H&&o[1]===r)return u[2]=o[2];if(l[a]=u,u[2]=e(t,n,s))return!0}}}function f(e){return e.length>1?function(t,n,a){for(var i=e.length;i--;)if(!e[i](t,n,a))return!1;return!0}:e[0]}function m(e,n,a){for(var i=0,r=n.length;r>i;i++)t(e,n[i],a);return a}function g(e,t,n,a,i){for(var r,s=[],o=0,l=e.length,u=null!=t;l>o;o++)(r=e[o])&&(!n||n(r,a,i))&&(s.push(r),u&&t.push(o));return s}function v(e,t,n,i,r,s){return i&&!i[B]&&(i=v(i)),r&&!r[B]&&(r=v(r,s)),a(function(a,s,o,l){var u,c,d,p=[],h=[],f=s.length,v=a||m(t||"*",o.nodeType?[o]:o,[]),y=!e||!a&&t?v:g(v,p,e,o,l),b=n?r||(a?e:f||i)?[]:s:y;if(n&&n(y,b,o,l),i)for(u=g(b,h),i(u,[],o,l),c=u.length;c--;)(d=u[c])&&(b[h[c]]=!(y[h[c]]=d));if(a){if(r||e){if(r){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);r(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=r?ee(a,d):p[c])>-1&&(a[u]=!(s[u]=d))}}else b=g(b===s?b.splice(f,b.length):b),r?r(null,s,b,l):Z.apply(s,b)})}function y(e){for(var t,n,a,i=e.length,r=C.relative[e[0].type],s=r||C.relative[" "],o=r?1:0,l=h(function(e){return e===t},s,!0),u=h(function(e){return ee(t,e)>-1},s,!0),c=[function(e,n,a){var i=!r&&(a||n!==j)||((t=n).nodeType?l(e,n,a):u(e,n,a));return t=null,i}];i>o;o++)if(n=C.relative[e[o].type])c=[h(f(c),n)];else{if(n=C.filter[e[o].type].apply(null,e[o].matches),n[B]){for(a=++o;i>a&&!C.relative[e[a].type];a++);return v(o>1&&f(c),o>1&&p(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(le,"$1"),n,a>o&&y(e.slice(o,a)),i>a&&y(e=e.slice(a)),i>a&&p(e))}c.push(n)}return f(c)}function b(e,n){var i=n.length>0,r=e.length>0,s=function(a,s,o,l,u){var c,d,p,h=0,f="0",m=a&&[],v=[],y=j,b=a||r&&C.find.TAG("*",u),w=H+=null==y?1:Math.random()||.1,x=b.length;for(u&&(j=s!==M&&s);f!==x&&null!=(c=b[f]);f++){if(r&&c){for(d=0;p=e[d++];)if(p(c,s,o)){l.push(c);break}u&&(H=w)}i&&((c=!p&&c)&&h--,a&&m.push(c))}if(h+=f,i&&f!==h){for(d=0;p=n[d++];)p(m,v,s,o);if(a){if(h>0)for(;f--;)m[f]||v[f]||(v[f]=J.call(l));v=g(v)}Z.apply(l,v),u&&!a&&v.length>0&&h+n.length>1&&t.uniqueSort(l)}return u&&(H=w,j=y),m};return i?a(s):s}var w,x,C,k,_,T,S,P,j,E,N,O,M,A,L,D,F,R,q,B="sizzle"+1*new Date,I=e.document,H=0,z=0,$=n(),V=n(),U=n(),W=function(e,t){return e===t&&(N=!0),0},X=1<<31,G={}.hasOwnProperty,Y=[],J=Y.pop,Q=Y.push,Z=Y.push,K=Y.slice,ee=function(e,t){for(var n=0,a=e.length;a>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ae="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=ae.replace("w","w#"),re="\\["+ne+"*("+ae+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",se=":("+ae+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",oe=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),pe=new RegExp(se),he=new RegExp("^"+ie+"$"),fe={ID:new RegExp("^#("+ae+")"),CLASS:new RegExp("^\\.("+ae+")"),TAG:new RegExp("^("+ae.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ce=function(e,t,n){var a="0x"+t-65536;return a!==a||n?t:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)},ke=function(){O()};try{Z.apply(Y=K.call(I.childNodes),I.childNodes),Y[I.childNodes.length].nodeType}catch(_e){Z={apply:Y.length?function(e,t){Q.apply(e,K.call(t))}:function(e,t){for(var n=e.length,a=0;e[n++]=t[a++];);e.length=n-1}}}x=t.support={},_=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},O=t.setDocument=function(e){var t,n,a=e?e.ownerDocument||e:I;return a!==M&&9===a.nodeType&&a.documentElement?(M=a,A=a.documentElement,n=a.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",ke,!1):n.attachEvent&&n.attachEvent("onunload",ke)),L=!_(a),x.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=i(function(e){return e.appendChild(a.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ve.test(a.getElementsByClassName),x.getById=i(function(e){return A.appendChild(e).id=B,!a.getElementsByName||!a.getElementsByName(B).length}),x.getById?(C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(xe,Ce);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(xe,Ce);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,a=[],i=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[i++];)1===n.nodeType&&a.push(n);return a}return r},C.find.CLASS=x.getElementsByClassName&&function(e,t){return L?t.getElementsByClassName(e):void 0},F=[],D=[],(x.qsa=ve.test(a.querySelectorAll))&&(i(function(e){A.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||D.push("~="),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||D.push(".#.+[+~]")}),i(function(e){var t=a.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(x.matchesSelector=ve.test(R=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&i(function(e){x.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),F.push("!=",se)}),D=D.length&&new RegExp(D.join("|")),F=F.length&&new RegExp(F.join("|")),t=ve.test(A.compareDocumentPosition),q=t||ve.test(A.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,a=t&&t.parentNode;return e===a||!(!a||1!==a.nodeType||!(n.contains?n.contains(a):e.compareDocumentPosition&&16&e.compareDocumentPosition(a)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return N=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===a||e.ownerDocument===I&&q(I,e)?-1:t===a||t.ownerDocument===I&&q(I,t)?1:E?ee(E,e)-ee(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return N=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,l=[e],u=[t];if(!r||!o)return e===a?-1:t===a?1:r?-1:o?1:E?ee(E,e)-ee(E,t):0;if(r===o)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?s(l[i],u[i]):l[i]===I?-1:u[i]===I?1:0},a):M},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==M&&O(e),n=n.replace(de,"='$1']"),x.matchesSelector&&L&&(!F||!F.test(n))&&(!D||!D.test(n)))try{var a=R.call(e,n);if(a||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return a}catch(i){}return t(n,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&O(e),q(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&O(e);var n=C.attrHandle[t.toLowerCase()],a=n&&G.call(C.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==a?a:x.attributes||!L?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],a=0,i=0;if(N=!x.detectDuplicates,E=!x.sortStable&&e.slice(0),e.sort(W),N){for(;t=e[i++];)t===e[i]&&(a=n.push(i));for(;a--;)e.splice(n[a],1)}return E=null,e},k=t.getText=function(e){var t,n="",a=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[a++];)n+=k(t);return n},C=t.selectors={cacheLength:50,createPseudo:a,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,Ce),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,Ce),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,Ce).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(i){var r=t.attr(i,e);return null==r?"!="===n:n?(r+="","="===n?r===a:"!="===n?r!==a:"^="===n?a&&0===r.indexOf(a):"*="===n?a&&r.indexOf(a)>-1:"$="===n?a&&r.slice(-a.length)===a:"~="===n?(" "+r.replace(oe," ")+" ").indexOf(a)>-1:"|="===n?r===a||r.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,t,n,a,i){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===a&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,p,h,f,m=r!==s?"nextSibling":"previousSibling",g=t.parentNode,v=o&&t.nodeName.toLowerCase(),y=!l&&!o;if(g){if(r){for(;m;){for(d=t;d=d[m];)if(o?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(c=g[B]||(g[B]={}),u=c[e]||[],h=u[0]===H&&u[1],p=u[0]===H&&u[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(p=h=0)||f.pop();)if(1===d.nodeType&&++p&&d===t){c[e]=[H,h,p];break}}else if(y&&(u=(t[B]||(t[B]={}))[e])&&u[0]===H)p=u[1];else for(;(d=++h&&d&&d[m]||(p=h=0)||f.pop())&&((o?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++p||(y&&((d[B]||(d[B]={}))[e]=[H,p]),d!==t)););return p-=i,p===a||p%a===0&&p/a>=0}}},PSEUDO:function(e,n){var i,r=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[B]?r(n):r.length>1?(i=[e,e,"",n],C.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,t){for(var a,i=r(e,n),s=i.length;s--;)a=ee(e,i[s]),e[a]=!(t[a]=i[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:a(function(e){var t=[],n=[],i=S(e.replace(le,"$1"));return i[B]?a(function(e,t,n,a){for(var r,s=i(e,null,a,[]),o=e.length;o--;)(r=s[o])&&(e[o]=!(t[o]=r))}):function(e,a,r){return t[0]=e,i(t,null,r,n),t[0]=null,!n.pop()}}),has:a(function(e){return function(n){return t(e,n).length>0}}),contains:a(function(e){return e=e.replace(xe,Ce),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:a(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,Ce).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var a=0>n?n+t:n;--a>=0;)e.push(a);return e}),gt:u(function(e,t,n){for(var a=0>n?n+t:n;++a<t;)e.push(a);return e})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=o(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return d.prototype=C.filters=C.pseudos,C.setFilters=new d,T=t.tokenize=function(e,n){var a,i,r,s,o,l,u,c=V[e+" "];if(c)return n?0:c.slice(0);for(o=e,l=[],u=C.preFilter;o;){(!a||(i=ue.exec(o)))&&(i&&(o=o.slice(i[0].length)||o),l.push(r=[])),a=!1,(i=ce.exec(o))&&(a=i.shift(),r.push({value:a,type:i[0].replace(le," ")}),o=o.slice(a.length));for(s in C.filter)!(i=fe[s].exec(o))||u[s]&&!(i=u[s](i))||(a=i.shift(),r.push({value:a,type:s,matches:i}),o=o.slice(a.length));if(!a)break}return n?o.length:o?t.error(e):V(e,l).slice(0)},S=t.compile=function(e,t){var n,a=[],i=[],r=U[e+" "];if(!r){for(t||(t=T(e)),n=t.length;n--;)r=y(t[n]),r[B]?a.push(r):i.push(r);r=U(e,b(i,a)),r.selector=e}return r},P=t.select=function(e,t,n,a){var i,r,s,o,l,u="function"==typeof e&&e,d=!a&&T(e=u.selector||e);if(n=n||[],1===d.length){if(r=d[0]=d[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&x.getById&&9===t.nodeType&&L&&C.relative[r[1].type]){if(t=(C.find.ID(s.matches[0].replace(xe,Ce),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(i=fe.needsContext.test(e)?0:r.length;i--&&(s=r[i],!C.relative[o=s.type]);)if((l=C.find[o])&&(a=l(s.matches[0].replace(xe,Ce),be.test(r[0].type)&&c(t.parentNode)||t))){if(r.splice(i,1),e=a.length&&p(r),!e)return Z.apply(n,a),n;break}}return(u||S(e,d))(a,t,!L,n,be.test(e)&&c(t.parentNode)||t),n},x.sortStable=B.split("").sort(W).join("")===B,x.detectDuplicates=!!N,O(),x.sortDetached=i(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||r(te,function(e,t,n){var a;return n?void 0:e[t]===!0?t.toLowerCase():(a=e.getAttributeNode(t))&&a.specified?a.value:null}),t}(e);K.find=ie,K.expr=ie.selectors,K.expr[":"]=K.expr.pseudos,K.unique=ie.uniqueSort,K.text=ie.getText,K.isXMLDoc=ie.isXML,K.contains=ie.contains;var re=K.expr.match.needsContext,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,oe=/^.[^:#\[\.,]*$/;K.filter=function(e,t,n){var a=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===a.nodeType?K.find.matchesSelector(a,e)?[a]:[]:K.find.matches(e,K.grep(t,function(e){return 1===e.nodeType}))},K.fn.extend({find:function(e){var t,n=this.length,a=[],i=this;
if("string"!=typeof e)return this.pushStack(K(e).filter(function(){for(t=0;n>t;t++)if(K.contains(i[t],this))return!0}));for(t=0;n>t;t++)K.find(e,i[t],a);return a=this.pushStack(n>1?K.unique(a):a),a.selector=this.selector?this.selector+" "+e:e,a},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&re.test(e)?K(e):e||[],!1).length}});var le,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=K.fn.init=function(e,t){var n,a;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ue.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof K?t[0]:t,K.merge(this,K.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Q,!0)),se.test(n[1])&&K.isPlainObject(t))for(n in t)K.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return a=Q.getElementById(n[2]),a&&a.parentNode&&(this.length=1,this[0]=a),this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):K.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(K):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),K.makeArray(e,this))};ce.prototype=K.fn,le=K(Q);var de=/^(?:parents|prev(?:Until|All))/,pe={children:!0,contents:!0,next:!0,prev:!0};K.extend({dir:function(e,t,n){for(var a=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&K(e).is(n))break;a.push(e)}return a},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),K.fn.extend({has:function(e){var t=K(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(K.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,a=0,i=this.length,r=[],s=re.test(e)||"string"!=typeof e?K(e,t||this.context):0;i>a;a++)for(n=this[a];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&K.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?K.unique(r):r)},index:function(e){return e?"string"==typeof e?W.call(K(e),this[0]):W.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(K.unique(K.merge(this.get(),K(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),K.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return K.dir(e,"parentNode")},parentsUntil:function(e,t,n){return K.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return K.dir(e,"nextSibling")},prevAll:function(e){return K.dir(e,"previousSibling")},nextUntil:function(e,t,n){return K.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return K.dir(e,"previousSibling",n)},siblings:function(e){return K.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return K.sibling(e.firstChild)},contents:function(e){return e.contentDocument||K.merge([],e.childNodes)}},function(e,t){K.fn[e]=function(n,a){var i=K.map(this,t,n);return"Until"!==e.slice(-5)&&(a=n),a&&"string"==typeof a&&(i=K.filter(a,i)),this.length>1&&(pe[e]||K.unique(i),de.test(e)&&i.reverse()),this.pushStack(i)}});var he=/\S+/g,fe={};K.Callbacks=function(e){e="string"==typeof e?fe[e]||r(e):K.extend({},e);var t,n,a,i,s,o,l=[],u=!e.once&&[],c=function(r){for(t=e.memory&&r,n=!0,o=i||0,i=0,s=l.length,a=!0;l&&s>o;o++)if(l[o].apply(r[0],r[1])===!1&&e.stopOnFalse){t=!1;break}a=!1,l&&(u?u.length&&c(u.shift()):t?l=[]:d.disable())},d={add:function(){if(l){var n=l.length;!function r(t){K.each(t,function(t,n){var a=K.type(n);"function"===a?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==a&&r(n)})}(arguments),a?s=l.length:t&&(i=n,c(t))}return this},remove:function(){return l&&K.each(arguments,function(e,t){for(var n;(n=K.inArray(t,l,n))>-1;)l.splice(n,1),a&&(s>=n&&s--,o>=n&&o--)}),this},has:function(e){return e?K.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=u=t=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,t||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],a?u.push(t):c(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},K.extend({Deferred:function(e){var t=[["resolve","done",K.Callbacks("once memory"),"resolved"],["reject","fail",K.Callbacks("once memory"),"rejected"],["notify","progress",K.Callbacks("memory")]],n="pending",a={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return K.Deferred(function(n){K.each(t,function(t,r){var s=K.isFunction(e[t])&&e[t];i[r[1]](function(){var e=s&&s.apply(this,arguments);e&&K.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===a?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?K.extend(e,a):a}},i={};return a.pipe=a.then,K.each(t,function(e,r){var s=r[2],o=r[3];a[r[1]]=s.add,o&&s.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),i[r[0]]=function(){return i[r[0]+"With"](this===i?a:this,arguments),this},i[r[0]+"With"]=s.fireWith}),a.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,a,i=0,r=$.call(arguments),s=r.length,o=1!==s||e&&K.isFunction(e.promise)?s:0,l=1===o?e:K.Deferred(),u=function(e,n,a){return function(i){n[e]=this,a[e]=arguments.length>1?$.call(arguments):i,a===t?l.notifyWith(n,a):--o||l.resolveWith(n,a)}};if(s>1)for(t=new Array(s),n=new Array(s),a=new Array(s);s>i;i++)r[i]&&K.isFunction(r[i].promise)?r[i].promise().done(u(i,a,r)).fail(l.reject).progress(u(i,n,t)):--o;return o||l.resolveWith(a,r),l.promise()}});var me;K.fn.ready=function(e){return K.ready.promise().done(e),this},K.extend({isReady:!1,readyWait:1,holdReady:function(e){e?K.readyWait++:K.ready(!0)},ready:function(e){(e===!0?--K.readyWait:K.isReady)||(K.isReady=!0,e!==!0&&--K.readyWait>0||(me.resolveWith(Q,[K]),K.fn.triggerHandler&&(K(Q).triggerHandler("ready"),K(Q).off("ready"))))}}),K.ready.promise=function(t){return me||(me=K.Deferred(),"complete"===Q.readyState?setTimeout(K.ready):(Q.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),me.promise(t)},K.ready.promise();var ge=K.access=function(e,t,n,a,i,r,s){var o=0,l=e.length,u=null==n;if("object"===K.type(n)){i=!0;for(o in n)K.access(e,t,o,n[o],!0,r,s)}else if(void 0!==a&&(i=!0,K.isFunction(a)||(s=!0),u&&(s?(t.call(e,a),t=null):(u=t,t=function(e,t,n){return u.call(K(e),n)})),t))for(;l>o;o++)t(e[o],n,s?a:a.call(e[o],o,t(e[o],n)));return i?e:u?t.call(e):l?t(e[0],n):r};K.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},o.uid=1,o.accepts=K.acceptData,o.prototype={key:function(e){if(!o.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=o.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(a){t[this.expando]=n,K.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var a,i=this.key(e),r=this.cache[i];if("string"==typeof t)r[t]=n;else if(K.isEmptyObject(r))K.extend(this.cache[i],t);else for(a in t)r[a]=t[a];return r},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var a;return void 0===t||t&&"string"==typeof t&&void 0===n?(a=this.get(e,t),void 0!==a?a:this.get(e,K.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,a,i,r=this.key(e),s=this.cache[r];if(void 0===t)this.cache[r]={};else{K.isArray(t)?a=t.concat(t.map(K.camelCase)):(i=K.camelCase(t),t in s?a=[t,i]:(a=i,a=a in s?[a]:a.match(he)||[])),n=a.length;for(;n--;)delete s[a[n]]}},hasData:function(e){return!K.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new o,ye=new o,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;K.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),K.fn.extend({data:function(e,t){var n,a,i,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(i=ye.get(r),1===r.nodeType&&!ve.get(r,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(a=s[n].name,0===a.indexOf("data-")&&(a=K.camelCase(a.slice(5)),l(r,a,i[a])));ve.set(r,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ye.set(this,e)}):ge(this,function(t){var n,a=K.camelCase(e);if(r&&void 0===t){if(n=ye.get(r,e),void 0!==n)return n;if(n=ye.get(r,a),void 0!==n)return n;if(n=l(r,a,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,a);ye.set(this,a,t),-1!==e.indexOf("-")&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),K.extend({queue:function(e,t,n){var a;return e?(t=(t||"fx")+"queue",a=ve.get(e,t),n&&(!a||K.isArray(n)?a=ve.access(e,t,K.makeArray(n)):a.push(n)),a||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=K.queue(e,t),a=n.length,i=n.shift(),r=K._queueHooks(e,t),s=function(){K.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),a--),i&&("fx"===t&&n.unshift("inprogress"),delete r.stop,i.call(e,s,r)),!a&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:K.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),K.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?K.queue(this[0],e):void 0===t?this:this.each(function(){var n=K.queue(this,e,t);K._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&K.dequeue(this,e)})},dequeue:function(e){return this.each(function(){K.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,a=1,i=K.Deferred(),r=this,s=this.length,o=function(){--a||i.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=ve.get(r[s],e+"queueHooks"),n&&n.empty&&(a++,n.empty.add(o));return o(),i.promise(t)}});var xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ce=["Top","Right","Bottom","Left"],ke=function(e,t){return e=t||e,"none"===K.css(e,"display")||!K.contains(e.ownerDocument,e)},_e=/^(?:checkbox|radio)$/i;!function(){var e=Q.createDocumentFragment(),t=e.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),J.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Te="undefined";J.focusinBubbles="onfocusin"in e;var Se=/^key/,Pe=/^(?:mouse|pointer|contextmenu)|click/,je=/^(?:focusinfocus|focusoutblur)$/,Ee=/^([^.]*)(?:\.(.+)|)$/;K.event={global:{},add:function(e,t,n,a,i){var r,s,o,l,u,c,d,p,h,f,m,g=ve.get(e);if(g)for(n.handler&&(r=n,n=r.handler,i=r.selector),n.guid||(n.guid=K.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(t){return typeof K!==Te&&K.event.triggered!==t.type?K.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(he)||[""],u=t.length;u--;)o=Ee.exec(t[u])||[],h=m=o[1],f=(o[2]||"").split(".").sort(),h&&(d=K.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,d=K.event.special[h]||{},c=K.extend({type:h,origType:m,data:a,handler:n,guid:n.guid,selector:i,needsContext:i&&K.expr.match.needsContext.test(i),namespace:f.join(".")},r),(p=l[h])||(p=l[h]=[],p.delegateCount=0,d.setup&&d.setup.call(e,a,f,s)!==!1||e.addEventListener&&e.addEventListener(h,s,!1)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),K.event.global[h]=!0)},remove:function(e,t,n,a,i){var r,s,o,l,u,c,d,p,h,f,m,g=ve.hasData(e)&&ve.get(e);if(g&&(l=g.events)){for(t=(t||"").match(he)||[""],u=t.length;u--;)if(o=Ee.exec(t[u])||[],h=m=o[1],f=(o[2]||"").split(".").sort(),h){for(d=K.event.special[h]||{},h=(a?d.delegateType:d.bindType)||h,p=l[h]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=p.length;r--;)c=p[r],!i&&m!==c.origType||n&&n.guid!==c.guid||o&&!o.test(c.namespace)||a&&a!==c.selector&&("**"!==a||!c.selector)||(p.splice(r,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));s&&!p.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||K.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)K.event.remove(e,h+t[u],n,a,!0);K.isEmptyObject(l)&&(delete g.handle,ve.remove(e,"events"))}},trigger:function(t,n,a,i){var r,s,o,l,u,c,d,p=[a||Q],h=Y.call(t,"type")?t.type:t,f=Y.call(t,"namespace")?t.namespace.split("."):[];if(s=o=a=a||Q,3!==a.nodeType&&8!==a.nodeType&&!je.test(h+K.event.triggered)&&(h.indexOf(".")>=0&&(f=h.split("."),h=f.shift(),f.sort()),u=h.indexOf(":")<0&&"on"+h,t=t[K.expando]?t:new K.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=a),n=null==n?[t]:K.makeArray(n,[t]),d=K.event.special[h]||{},i||!d.trigger||d.trigger.apply(a,n)!==!1)){if(!i&&!d.noBubble&&!K.isWindow(a)){for(l=d.delegateType||h,je.test(l+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),o=s;o===(a.ownerDocument||Q)&&p.push(o.defaultView||o.parentWindow||e)}for(r=0;(s=p[r++])&&!t.isPropagationStopped();)t.type=r>1?l:d.bindType||h,c=(ve.get(s,"events")||{})[t.type]&&ve.get(s,"handle"),c&&c.apply(s,n),c=u&&s[u],c&&c.apply&&K.acceptData(s)&&(t.result=c.apply(s,n),t.result===!1&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!K.acceptData(a)||u&&K.isFunction(a[h])&&!K.isWindow(a)&&(o=a[u],o&&(a[u]=null),K.event.triggered=h,a[h](),K.event.triggered=void 0,o&&(a[u]=o)),t.result}},dispatch:function(e){e=K.event.fix(e);var t,n,a,i,r,s=[],o=$.call(arguments),l=(ve.get(this,"events")||{})[e.type]||[],u=K.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=K.event.handlers.call(this,e,l),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,a=((K.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,o),void 0!==a&&(e.result=a)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,a,i,r,s=[],o=t.delegateCount,l=e.target;if(o&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(a=[],n=0;o>n;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?K(i,this).index(l)>=0:K.find(i,this,null,[l]).length),a[i]&&a.push(r);a.length&&s.push({elem:l,handlers:a})}return o<t.length&&s.push({elem:this,handlers:t.slice(o)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,a,i,r=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Q,a=n.documentElement,i=n.body,e.pageX=t.clientX+(a&&a.scrollLeft||i&&i.scrollLeft||0)-(a&&a.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||i&&i.scrollTop||0)-(a&&a.clientTop||i&&i.clientTop||0)),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[K.expando])return e;var t,n,a,i=e.type,r=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Pe.test(i)?this.mouseHooks:Se.test(i)?this.keyHooks:{}),a=s.props?this.props.concat(s.props):this.props,e=new K.Event(r),t=a.length;t--;)n=a[t],e[n]=r[n];return e.target||(e.target=Q),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&K.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return K.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,a){var i=K.extend(new K.Event,n,{type:e,isSimulated:!0,originalEvent:{}});a?K.event.trigger(i,null,t):K.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},K.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},K.Event=function(e,t){return this instanceof K.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?u:c):this.type=e,t&&K.extend(this,t),this.timeStamp=e&&e.timeStamp||K.now(),void(this[K.expando]=!0)):new K.Event(e,t)},K.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},K.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){K.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,a=this,i=e.relatedTarget,r=e.handleObj;return(!i||i!==a&&!K.contains(a,i))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),J.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){K.event.simulate(t,e.target,K.event.fix(e),!0)};K.event.special[t]={setup:function(){var a=this.ownerDocument||this,i=ve.access(a,t);i||a.addEventListener(e,n,!0),ve.access(a,t,(i||0)+1)},teardown:function(){var a=this.ownerDocument||this,i=ve.access(a,t)-1;i?ve.access(a,t,i):(a.removeEventListener(e,n,!0),ve.remove(a,t))}}}),K.fn.extend({on:function(e,t,n,a,i){var r,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==a?(a=t,n=t=void 0):null==a&&("string"==typeof t?(a=n,n=void 0):(a=n,n=t,t=void 0)),a===!1)a=c;else if(!a)return this;return 1===i&&(r=a,a=function(e){return K().off(e),r.apply(this,arguments)},a.guid=r.guid||(r.guid=K.guid++)),this.each(function(){K.event.add(this,e,a,n,t)})},one:function(e,t,n,a){return this.on(e,t,n,a,1)},off:function(e,t,n){var a,i;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,K(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){K.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){K.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?K.event.trigger(e,t,n,!0):void 0}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Oe=/<([\w:]+)/,Me=/<|&#?\w+;/,Ae=/<(?:script|style|link)/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/^$|\/(?:java|ecma)script/i,Fe=/^true\/(.*)/,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,qe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};qe.optgroup=qe.option,qe.tbody=qe.tfoot=qe.colgroup=qe.caption=qe.thead,qe.th=qe.td,K.extend({clone:function(e,t,n){var a,i,r,s,o=e.cloneNode(!0),l=K.contains(e.ownerDocument,e);if(!(J.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||K.isXMLDoc(e)))for(s=v(o),r=v(e),a=0,i=r.length;i>a;a++)y(r[a],s[a]);if(t)if(n)for(r=r||v(e),s=s||v(o),a=0,i=r.length;i>a;a++)g(r[a],s[a]);else g(e,o);return s=v(o,"script"),s.length>0&&m(s,!l&&v(e,"script")),o},buildFragment:function(e,t,n,a){for(var i,r,s,o,l,u,c=t.createDocumentFragment(),d=[],p=0,h=e.length;h>p;p++)if(i=e[p],i||0===i)if("object"===K.type(i))K.merge(d,i.nodeType?[i]:i);else if(Me.test(i)){for(r=r||c.appendChild(t.createElement("div")),s=(Oe.exec(i)||["",""])[1].toLowerCase(),o=qe[s]||qe._default,r.innerHTML=o[1]+i.replace(Ne,"<$1></$2>")+o[2],u=o[0];u--;)r=r.lastChild;K.merge(d,r.childNodes),r=c.firstChild,r.textContent=""}else d.push(t.createTextNode(i));for(c.textContent="",p=0;i=d[p++];)if((!a||-1===K.inArray(i,a))&&(l=K.contains(i.ownerDocument,i),r=v(c.appendChild(i),"script"),l&&m(r),n))for(u=0;i=r[u++];)De.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,a,i,r=K.event.special,s=0;void 0!==(n=e[s]);s++){if(K.acceptData(n)&&(i=n[ve.expando],i&&(t=ve.cache[i]))){if(t.events)for(a in t.events)r[a]?K.event.remove(n,a):K.removeEvent(n,a,t.handle);ve.cache[i]&&delete ve.cache[i]}delete ye.cache[n[ye.expando]]}}}),K.fn.extend({text:function(e){return ge(this,function(e){return void 0===e?K.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,a=e?K.filter(e,this):this,i=0;null!=(n=a[i]);i++)t||1!==n.nodeType||K.cleanData(v(n)),n.parentNode&&(t&&K.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(K.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return K.clone(this,e,t)})},html:function(e){return ge(this,function(e){var t=this[0]||{},n=0,a=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!qe[(Oe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ne,"<$1></$2>");try{for(;a>n;n++)t=this[n]||{},1===t.nodeType&&(K.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,K.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=V.apply([],e);var n,a,i,r,s,o,l=0,u=this.length,c=this,d=u-1,p=e[0],m=K.isFunction(p);if(m||u>1&&"string"==typeof p&&!J.checkClone&&Le.test(p))return this.each(function(n){var a=c.eq(n);m&&(e[0]=p.call(this,n,a.html())),a.domManip(e,t)});if(u&&(n=K.buildFragment(e,this[0].ownerDocument,!1,this),a=n.firstChild,1===n.childNodes.length&&(n=a),a)){for(i=K.map(v(n,"script"),h),r=i.length;u>l;l++)s=n,l!==d&&(s=K.clone(s,!0,!0),r&&K.merge(i,v(s,"script"))),t.call(this[l],s,l);if(r)for(o=i[i.length-1].ownerDocument,K.map(i,f),l=0;r>l;l++)s=i[l],De.test(s.type||"")&&!ve.access(s,"globalEval")&&K.contains(o,s)&&(s.src?K._evalUrl&&K._evalUrl(s.src):K.globalEval(s.textContent.replace(Re,"")))}return this}}),K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){K.fn[e]=function(e){for(var n,a=[],i=K(e),r=i.length-1,s=0;r>=s;s++)n=s===r?this:this.clone(!0),K(i[s])[t](n),U.apply(a,n.get());return this.pushStack(a)}});var Be,Ie={},He=/^margin/,ze=new RegExp("^("+xe+")(?!px)[a-z%]+$","i"),$e=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",i.appendChild(r);var t=e.getComputedStyle(s,null);n="1%"!==t.top,a="4px"===t.width,i.removeChild(r)}var n,a,i=Q.documentElement,r=Q.createElement("div"),s=Q.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===s.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(s),e.getComputedStyle&&K.extend(J,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==a&&t(),a},reliableMarginRight:function(){var t,n=s.appendChild(Q.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",i.appendChild(r),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(r),s.removeChild(n),t}}))}(),K.swap=function(e,t,n,a){var i,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];i=n.apply(e,a||[]);for(r in t)e.style[r]=s[r];return i};var Ve=/^(none|table(?!-c[ea]).+)/,Ue=new RegExp("^("+xe+")(.*)$","i"),We=new RegExp("^([+-])=("+xe+")","i"),Xe={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Ye=["Webkit","O","Moz","ms"];K.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=x(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,r,s,o=K.camelCase(t),l=e.style;return t=K.cssProps[o]||(K.cssProps[o]=k(l,o)),s=K.cssHooks[t]||K.cssHooks[o],void 0===n?s&&"get"in s&&void 0!==(i=s.get(e,!1,a))?i:l[t]:(r=typeof n,"string"===r&&(i=We.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(K.css(e,t)),r="number"),null!=n&&n===n&&("number"!==r||K.cssNumber[o]||(n+="px"),J.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,a))||(l[t]=n)),void 0)}},css:function(e,t,n,a){var i,r,s,o=K.camelCase(t);return t=K.cssProps[o]||(K.cssProps[o]=k(e.style,o)),s=K.cssHooks[t]||K.cssHooks[o],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=x(e,t,a)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(r=parseFloat(i),n===!0||K.isNumeric(r)?r||0:i):i}}),K.each(["height","width"],function(e,t){K.cssHooks[t]={get:function(e,n,a){return n?Ve.test(K.css(e,"display"))&&0===e.offsetWidth?K.swap(e,Xe,function(){return S(e,t,a)}):S(e,t,a):void 0},set:function(e,n,a){var i=a&&$e(e);return _(e,n,a?T(e,t,a,"border-box"===K.css(e,"boxSizing",!1,i),i):0)}}}),K.cssHooks.marginRight=C(J.reliableMarginRight,function(e,t){return t?K.swap(e,{display:"inline-block"},x,[e,"marginRight"]):void 0}),K.each({margin:"",padding:"",border:"Width"},function(e,t){K.cssHooks[e+t]={expand:function(n){for(var a=0,i={},r="string"==typeof n?n.split(" "):[n];4>a;a++)i[e+Ce[a]+t]=r[a]||r[a-2]||r[0];return i}},He.test(e)||(K.cssHooks[e+t].set=_)}),K.fn.extend({css:function(e,t){return ge(this,function(e,t,n){var a,i,r={},s=0;if(K.isArray(t)){for(a=$e(e),i=t.length;i>s;s++)r[t[s]]=K.css(e,t[s],!1,a);return r}return void 0!==n?K.style(e,t,n):K.css(e,t)},e,t,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ke(this)?K(this).show():K(this).hide()})}}),K.Tween=j,j.prototype={constructor:j,init:function(e,t,n,a,i,r){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=a,this.unit=r||(K.cssNumber[n]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,n=j.propHooks[this.prop];return this.options.duration?this.pos=t=K.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=K.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){K.fx.step[e.prop]?K.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[K.cssProps[e.prop]]||K.cssHooks[e.prop])?K.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},K.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},K.fx=j.prototype.init,K.fx.step={};var Je,Qe,Ze=/^(?:toggle|show|hide)$/,Ke=new RegExp("^(?:([+-])=|)("+xe+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[M],nt={"*":[function(e,t){var n=this.createTween(e,t),a=n.cur(),i=Ke.exec(t),r=i&&i[3]||(K.cssNumber[e]?"":"px"),s=(K.cssNumber[e]||"px"!==r&&+a)&&Ke.exec(K.css(n.elem,e)),o=1,l=20;if(s&&s[3]!==r){r=r||s[3],i=i||[],s=+a||1;do o=o||".5",s/=o,K.style(n.elem,e,s+r);while(o!==(o=n.cur()/a)&&1!==o&&--l)}return i&&(s=n.start=+s||+a||0,n.unit=r,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};K.Animation=K.extend(L,{tweener:function(e,t){K.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,a=0,i=e.length;i>a;a++)n=e[a],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),K.speed=function(e,t,n){var a=e&&"object"==typeof e?K.extend({},e):{complete:n||!n&&t||K.isFunction(e)&&e,duration:e,easing:n&&t||t&&!K.isFunction(t)&&t};return a.duration=K.fx.off?0:"number"==typeof a.duration?a.duration:a.duration in K.fx.speeds?K.fx.speeds[a.duration]:K.fx.speeds._default,(null==a.queue||a.queue===!0)&&(a.queue="fx"),a.old=a.complete,a.complete=function(){K.isFunction(a.old)&&a.old.call(this),a.queue&&K.dequeue(this,a.queue)},a},K.fn.extend({fadeTo:function(e,t,n,a){return this.filter(ke).css("opacity",0).show().end().animate({opacity:t},e,n,a)},animate:function(e,t,n,a){var i=K.isEmptyObject(e),r=K.speed(t,n,a),s=function(){var t=L(this,K.extend({},e),r);(i||ve.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(e,t,n){var a=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",r=K.timers,s=ve.get(this);if(i)s[i]&&s[i].stop&&a(s[i]);else for(i in s)s[i]&&s[i].stop&&et.test(i)&&a(s[i]);for(i=r.length;i--;)r[i].elem!==this||null!=e&&r[i].queue!==e||(r[i].anim.stop(n),t=!1,r.splice(i,1));(t||!n)&&K.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),a=n[e+"queue"],i=n[e+"queueHooks"],r=K.timers,s=a?a.length:0;for(n.finish=!0,K.queue(this,e,[]),
i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;s>t;t++)a[t]&&a[t].finish&&a[t].finish.call(this);delete n.finish})}}),K.each(["toggle","show","hide"],function(e,t){var n=K.fn[t];K.fn[t]=function(e,a,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(N(t,!0),e,a,i)}}),K.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){K.fn[e]=function(e,n,a){return this.animate(t,e,n,a)}}),K.timers=[],K.fx.tick=function(){var e,t=0,n=K.timers;for(Je=K.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||K.fx.stop(),Je=void 0},K.fx.timer=function(e){K.timers.push(e),e()?K.fx.start():K.timers.pop()},K.fx.interval=13,K.fx.start=function(){Qe||(Qe=setInterval(K.fx.tick,K.fx.interval))},K.fx.stop=function(){clearInterval(Qe),Qe=null},K.fx.speeds={slow:600,fast:200,_default:400},K.fn.delay=function(e,t){return e=K.fx?K.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var a=setTimeout(t,e);n.stop=function(){clearTimeout(a)}})},function(){var e=Q.createElement("input"),t=Q.createElement("select"),n=t.appendChild(Q.createElement("option"));e.type="checkbox",J.checkOn=""!==e.value,J.optSelected=n.selected,t.disabled=!0,J.optDisabled=!n.disabled,e=Q.createElement("input"),e.value="t",e.type="radio",J.radioValue="t"===e.value}();var at,it,rt=K.expr.attrHandle;K.fn.extend({attr:function(e,t){return ge(this,K.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){K.removeAttr(this,e)})}}),K.extend({attr:function(e,t,n){var a,i,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===Te?K.prop(e,t,n):(1===r&&K.isXMLDoc(e)||(t=t.toLowerCase(),a=K.attrHooks[t]||(K.expr.match.bool.test(t)?it:at)),void 0===n?a&&"get"in a&&null!==(i=a.get(e,t))?i:(i=K.find.attr(e,t),null==i?void 0:i):null!==n?a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void K.removeAttr(e,t))},removeAttr:function(e,t){var n,a,i=0,r=t&&t.match(he);if(r&&1===e.nodeType)for(;n=r[i++];)a=K.propFix[n]||n,K.expr.match.bool.test(n)&&(e[a]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!J.radioValue&&"radio"===t&&K.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),it={set:function(e,t,n){return t===!1?K.removeAttr(e,n):e.setAttribute(n,n),n}},K.each(K.expr.match.bool.source.match(/\w+/g),function(e,t){var n=rt[t]||K.find.attr;rt[t]=function(e,t,a){var i,r;return a||(r=rt[t],rt[t]=i,i=null!=n(e,t,a)?t.toLowerCase():null,rt[t]=r),i}});var st=/^(?:input|select|textarea|button)$/i;K.fn.extend({prop:function(e,t){return ge(this,K.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[K.propFix[e]||e]})}}),K.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var a,i,r,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return r=1!==s||!K.isXMLDoc(e),r&&(t=K.propFix[t]||t,i=K.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(a=i.set(e,n,t))?a:e[t]=n:i&&"get"in i&&null!==(a=i.get(e,t))?a:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||st.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),J.optSelected||(K.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),K.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){K.propFix[this.toLowerCase()]=this});var ot=/[\t\r\n\f]/g;K.fn.extend({addClass:function(e){var t,n,a,i,r,s,o="string"==typeof e&&e,l=0,u=this.length;if(K.isFunction(e))return this.each(function(t){K(this).addClass(e.call(this,t,this.className))});if(o)for(t=(e||"").match(he)||[];u>l;l++)if(n=this[l],a=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ot," "):" ")){for(r=0;i=t[r++];)a.indexOf(" "+i+" ")<0&&(a+=i+" ");s=K.trim(a),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,a,i,r,s,o=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(K.isFunction(e))return this.each(function(t){K(this).removeClass(e.call(this,t,this.className))});if(o)for(t=(e||"").match(he)||[];u>l;l++)if(n=this[l],a=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ot," "):"")){for(r=0;i=t[r++];)for(;a.indexOf(" "+i+" ")>=0;)a=a.replace(" "+i+" "," ");s=e?K.trim(a):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):K.isFunction(e)?this.each(function(n){K(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,a=0,i=K(this),r=e.match(he)||[];t=r[a++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Te||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,a=this.length;a>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ot," ").indexOf(t)>=0)return!0;return!1}});var lt=/\r/g;K.fn.extend({val:function(e){var t,n,a,i=this[0];{if(arguments.length)return a=K.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=a?e.call(this,n,K(this).val()):e,null==i?i="":"number"==typeof i?i+="":K.isArray(i)&&(i=K.map(i,function(e){return null==e?"":e+""})),t=K.valHooks[this.type]||K.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=K.valHooks[i.type]||K.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(lt,""):null==n?"":n)}}}),K.extend({valHooks:{option:{get:function(e){var t=K.find.attr(e,"value");return null!=t?t:K.trim(K.text(e))}},select:{get:function(e){for(var t,n,a=e.options,i=e.selectedIndex,r="select-one"===e.type||0>i,s=r?null:[],o=r?i+1:a.length,l=0>i?o:r?i:0;o>l;l++)if(n=a[l],(n.selected||l===i)&&(J.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!K.nodeName(n.parentNode,"optgroup"))){if(t=K(n).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var n,a,i=e.options,r=K.makeArray(t),s=i.length;s--;)a=i[s],(a.selected=K.inArray(a.value,r)>=0)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]={set:function(e,t){return K.isArray(t)?e.checked=K.inArray(K(e).val(),t)>=0:void 0}},J.checkOn||(K.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){K.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),K.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,a){return this.on(t,e,n,a)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ut=K.now(),ct=/\?/;K.parseJSON=function(e){return JSON.parse(e+"")},K.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(a){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&K.error("Invalid XML: "+e),t};var dt=/#.*$/,pt=/([?&])_=[^&]*/,ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mt=/^(?:GET|HEAD)$/,gt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yt={},bt={},wt="*/".concat("*"),xt=e.location.href,Ct=vt.exec(xt.toLowerCase())||[];K.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt,type:"GET",isLocal:ft.test(Ct[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,K.ajaxSettings),t):R(K.ajaxSettings,e)},ajaxPrefilter:D(yt),ajaxTransport:D(bt),ajax:function(e,t){function n(e,t,n,s){var l,c,v,y,w,C=t;2!==b&&(b=2,o&&clearTimeout(o),a=void 0,r=s||"",x.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(y=q(d,x,n)),y=B(d,y,x,l),l?(d.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(K.lastModified[i]=w),w=x.getResponseHeader("etag"),w&&(K.etag[i]=w)),204===e||"HEAD"===d.type?C="nocontent":304===e?C="notmodified":(C=y.state,c=y.data,v=y.error,l=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),x.status=e,x.statusText=(t||C)+"",l?f.resolveWith(p,[c,C,x]):f.rejectWith(p,[x,C,v]),x.statusCode(g),g=void 0,u&&h.trigger(l?"ajaxSuccess":"ajaxError",[x,d,l?c:v]),m.fireWith(p,[x,C]),u&&(h.trigger("ajaxComplete",[x,d]),--K.active||K.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var a,i,r,s,o,l,u,c,d=K.ajaxSetup({},t),p=d.context||d,h=d.context&&(p.nodeType||p.jquery)?K(p):K.event,f=K.Deferred(),m=K.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!s)for(s={};t=ht.exec(r);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?r:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return a&&a.abort(t),n(0,t),this}};if(f.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,d.url=((e||d.url||xt)+"").replace(dt,"").replace(gt,Ct[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=K.trim(d.dataType||"*").toLowerCase().match(he)||[""],null==d.crossDomain&&(l=vt.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===Ct[1]&&l[2]===Ct[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(Ct[3]||("http:"===Ct[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=K.param(d.data,d.traditional)),F(yt,d,t,x),2===b)return x;u=K.event&&d.global,u&&0===K.active++&&K.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!mt.test(d.type),i=d.url,d.hasContent||(d.data&&(i=d.url+=(ct.test(i)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=pt.test(i)?i.replace(pt,"$1_="+ut++):i+(ct.test(i)?"&":"?")+"_="+ut++)),d.ifModified&&(K.lastModified[i]&&x.setRequestHeader("If-Modified-Since",K.lastModified[i]),K.etag[i]&&x.setRequestHeader("If-None-Match",K.etag[i])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+wt+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)x.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(d.beforeSend.call(p,x,d)===!1||2===b))return x.abort();w="abort";for(c in{success:1,error:1,complete:1})x[c](d[c]);if(a=F(bt,d,t,x)){x.readyState=1,u&&h.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(o=setTimeout(function(){x.abort("timeout")},d.timeout));try{b=1,a.send(v,n)}catch(C){if(!(2>b))throw C;n(-1,C)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return K.get(e,t,n,"json")},getScript:function(e,t){return K.get(e,void 0,t,"script")}}),K.each(["get","post"],function(e,t){K[t]=function(e,n,a,i){return K.isFunction(n)&&(i=i||a,a=n,n=void 0),K.ajax({url:e,type:t,dataType:i,data:n,success:a})}}),K._evalUrl=function(e){return K.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},K.fn.extend({wrapAll:function(e){var t;return K.isFunction(e)?this.each(function(t){K(this).wrapAll(e.call(this,t))}):(this[0]&&(t=K(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return K.isFunction(e)?this.each(function(t){K(this).wrapInner(e.call(this,t))}):this.each(function(){var t=K(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=K.isFunction(e);return this.each(function(n){K(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()}}),K.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},K.expr.filters.visible=function(e){return!K.expr.filters.hidden(e)};var kt=/%20/g,_t=/\[\]$/,Tt=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;K.param=function(e,t){var n,a=[],i=function(e,t){t=K.isFunction(t)?t():null==t?"":t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=K.ajaxSettings&&K.ajaxSettings.traditional),K.isArray(e)||e.jquery&&!K.isPlainObject(e))K.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return a.join("&").replace(kt,"+")},K.fn.extend({serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=K.prop(this,"elements");return e?K.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!K(this).is(":disabled")&&Pt.test(this.nodeName)&&!St.test(e)&&(this.checked||!_e.test(e))}).map(function(e,t){var n=K(this).val();return null==n?null:K.isArray(n)?K.map(n,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:n.replace(Tt,"\r\n")}}).get()}}),K.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var jt=0,Et={},Nt={0:200,1223:204},Ot=K.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Et)Et[e]()}),J.cors=!!Ot&&"withCredentials"in Ot,J.ajax=Ot=!!Ot,K.ajaxTransport(function(e){var t;return J.cors||Ot&&!e.crossDomain?{send:function(n,a){var i,r=e.xhr(),s=++jt;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)r[i]=e.xhrFields[i];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)r.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Et[s],t=r.onload=r.onerror=null,"abort"===e?r.abort():"error"===e?a(r.status,r.statusText):a(Nt[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=t(),r.onerror=t("error"),t=Et[s]=t("abort");try{r.send(e.hasContent&&e.data||null)}catch(o){if(t)throw o}},abort:function(){t&&t()}}:void 0}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return K.globalEval(e),e}}}),K.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),K.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(a,i){t=K("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),Q.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Mt=[],At=/(=)\?(?=&|$)|\?\?/;K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mt.pop()||K.expando+"_"+ut++;return this[e]=!0,e}}),K.ajaxPrefilter("json jsonp",function(t,n,a){var i,r,s,o=t.jsonp!==!1&&(At.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&At.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=K.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(At,"$1"+i):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||K.error(i+" was not called"),s[0]},t.dataTypes[0]="json",r=e[i],e[i]=function(){s=arguments},a.always(function(){e[i]=r,t[i]&&(t.jsonpCallback=n.jsonpCallback,Mt.push(i)),s&&K.isFunction(r)&&r(s[0]),s=r=void 0}),"script"):void 0}),K.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Q;var a=se.exec(e),i=!n&&[];return a?[t.createElement(a[1])]:(a=K.buildFragment([e],t,i),i&&i.length&&K(i).remove(),K.merge([],a.childNodes))};var Lt=K.fn.load;K.fn.load=function(e,t,n){if("string"!=typeof e&&Lt)return Lt.apply(this,arguments);var a,i,r,s=this,o=e.indexOf(" ");return o>=0&&(a=K.trim(e.slice(o)),e=e.slice(0,o)),K.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&K.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){r=arguments,s.html(a?K("<div>").append(K.parseHTML(e)).find(a):e)}).complete(n&&function(e,t){s.each(n,r||[e.responseText,t,e])}),this},K.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){K.fn[t]=function(e){return this.on(t,e)}}),K.expr.filters.animated=function(e){return K.grep(K.timers,function(t){return e===t.elem}).length};var Dt=e.document.documentElement;K.offset={setOffset:function(e,t,n){var a,i,r,s,o,l,u,c=K.css(e,"position"),d=K(e),p={};"static"===c&&(e.style.position="relative"),o=d.offset(),r=K.css(e,"top"),l=K.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1,u?(a=d.position(),s=a.top,i=a.left):(s=parseFloat(r)||0,i=parseFloat(l)||0),K.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(p.top=t.top-o.top+s),null!=t.left&&(p.left=t.left-o.left+i),"using"in t?t.using.call(e,p):d.css(p)}},K.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){K.offset.setOffset(this,e,t)});var t,n,a=this[0],i={top:0,left:0},r=a&&a.ownerDocument;if(r)return t=r.documentElement,K.contains(t,a)?(typeof a.getBoundingClientRect!==Te&&(i=a.getBoundingClientRect()),n=H(r),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],a={top:0,left:0};return"fixed"===K.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),K.nodeName(e[0],"html")||(a=e.offset()),a.top+=K.css(e[0],"borderTopWidth",!0),a.left+=K.css(e[0],"borderLeftWidth",!0)),{top:t.top-a.top-K.css(n,"marginTop",!0),left:t.left-a.left-K.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Dt;e&&!K.nodeName(e,"html")&&"static"===K.css(e,"position");)e=e.offsetParent;return e||Dt})}}),K.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var a="pageYOffset"===n;K.fn[t]=function(i){return ge(this,function(t,i,r){var s=H(t);return void 0===r?s?s[n]:t[i]:void(s?s.scrollTo(a?e.pageXOffset:r,a?r:e.pageYOffset):t[i]=r)},t,i,arguments.length,null)}}),K.each(["top","left"],function(e,t){K.cssHooks[t]=C(J.pixelPosition,function(e,n){return n?(n=x(e,t),ze.test(n)?K(e).position()[t]+"px":n):void 0})}),K.each({Height:"height",Width:"width"},function(e,t){K.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,a){K.fn[a]=function(a,i){var r=arguments.length&&(n||"boolean"!=typeof a),s=n||(a===!0||i===!0?"margin":"border");return ge(this,function(t,n,a){var i;return K.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===a?K.css(t,n,s):K.style(t,n,a,s)},t,r?a:void 0,r,null)}})}),K.fn.size=function(){return this.length},K.fn.andSelf=K.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return K});var Ft=e.jQuery,Rt=e.$;return K.noConflict=function(t){return e.$===K&&(e.$=Rt),t&&e.jQuery===K&&(e.jQuery=Ft),K},typeof t===Te&&(e.jQuery=e.$=K),K}),define("can/util/can",[],function(){var e=window.can||{};("undefined"==typeof GLOBALCAN||GLOBALCAN!==!1)&&(window.can=e),e.k=function(){},e.isDeferred=function(e){return e&&"function"==typeof e.then&&"function"==typeof e.pipe};var t=0;return e.cid=function(e,n){return e._cid||(t++,e._cid=(n||"")+t),e._cid},e.VERSION="2.1.4",e.simpleExtend=function(e,t){for(var n in t)e[n]=t[n];return e},e.frag=function(t){var n;return t&&"string"!=typeof t?11===t.nodeType?t:"number"==typeof t.nodeType?(n=document.createDocumentFragment(),n.appendChild(t),n):"number"==typeof t.length?(n=document.createDocumentFragment(),e.each(t,function(t){n.appendChild(e.frag(t))}),n):(n=e.buildFragment(""+t,document.body),n.childNodes.length||n.appendChild(document.createTextNode("")),n):(n=e.buildFragment(null==t?"":""+t,document.body),n.childNodes.length||n.appendChild(document.createTextNode("")),n)},e.__reading=function(){},e}),define("can/util/attr",["can/util/can"],function(e){var t=window.setImmediate||function(e){return setTimeout(e,0)},n={MutationObserver:window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,map:{"class":"className",value:"value",innerText:"innerText",textContent:"textContent",checked:!0,disabled:!0,readonly:!0,required:!0,src:function(e,t){return null==t||""===t?(e.removeAttribute("src"),null):(e.setAttribute("src",t),t)},style:function(e,t){return e.style.cssText=t||""}},defaultValue:["input","textarea"],set:function(t,a,i){var r;n.MutationObserver||(r=n.get(t,a));var s,o=t.nodeName.toString().toLowerCase(),l=n.map[a];"function"==typeof l?s=l(t,i):l===!0?(s=t[a]=!0,"checked"===a&&"radio"===t.type&&e.inArray(o,n.defaultValue)>=0&&(t.defaultChecked=!0)):l?(s=t[l]=i,"value"===l&&e.inArray(o,n.defaultValue)>=0&&(t.defaultValue=i)):(t.setAttribute(a,i),s=i),n.MutationObserver||s===r||n.trigger(t,a,r)},trigger:function(n,a,i){return e.data(e.$(n),"canHasAttributesBindings")?t(function(){e.trigger(n,{type:"attributes",attributeName:a,target:n,oldValue:i,bubbles:!1},[])}):void 0},get:function(e,t){var a=n.map[t];return"string"==typeof a&&e[a]?e[a]:e.getAttribute(t)},remove:function(e,t){var a;n.MutationObserver||(a=n.get(e,t));var i=n.map[t];"function"==typeof i&&i(e,void 0),i===!0?e[t]=!1:"string"==typeof i?e[i]="":e.removeAttribute(t),n.MutationObserver||null==a||n.trigger(e,t,a)},has:function(){var e=document.createElement("div");return e.hasAttribute?function(e,t){return e.hasAttribute(t)}:function(e,t){return null!==e.getAttribute(t)}}()};return n}),define("can/event",["can/util/can"],function(e){return e.addEvent=function(e,t){var n=this.__bindEvents||(this.__bindEvents={}),a=n[e]||(n[e]=[]);return a.push({handler:t,name:e}),this},e.listenTo=function(t,n,a){var i=this.__listenToEvents;i||(i=this.__listenToEvents={});var r=e.cid(t),s=i[r];s||(s=i[r]={obj:t,events:{}});var o=s.events[n];o||(o=s.events[n]=[]),o.push(a),e.bind.call(t,n,a)},e.stopListening=function(t,n,a){var i=this.__listenToEvents,r=i,s=0;if(!i)return this;if(t){var o=e.cid(t);if((r={})[o]=i[o],!i[o])return this}for(var l in r){var u,c=r[l];t=i[l].obj,n?(u={})[n]=c.events[n]:u=c.events;for(var d in u){var p=u[d]||[];for(s=0;s<p.length;)a&&a===p[s]||!a?(e.unbind.call(t,d,p[s]),p.splice(s,1)):s++;p.length||delete c.events[d]}e.isEmptyObject(c.events)&&delete i[l]}return this},e.removeEvent=function(e,t,n){if(!this.__bindEvents)return this;for(var a,i=this.__bindEvents[e]||[],r=0,s="function"==typeof t;r<i.length;)a=i[r],(n?n(a,e,t):s&&a.handler===t||!s&&(a.cid===t||!t))?i.splice(r,1):r++;return this},e.dispatch=function(e,t){var n=this.__bindEvents;if(n){"string"==typeof e&&(e={type:e});var a=e.type,i=(n[a]||[]).slice(0),r=[e];t&&r.push.apply(r,t);for(var s=0,o=i.length;o>s;s++)i[s].handler.apply(this,r);return e}},e.one=function(t,n){var a=function(){return e.unbind.call(this,t,a),n.apply(this,arguments)};return e.bind.call(this,t,a),this},e.event={on:function(){return 0===arguments.length&&e.Control&&this instanceof e.Control?e.Control.prototype.on.call(this):e.addEvent.apply(this,arguments)},off:function(){return 0===arguments.length&&e.Control&&this instanceof e.Control?e.Control.prototype.off.call(this):e.removeEvent.apply(this,arguments)},bind:e.addEvent,unbind:e.removeEvent,delegate:function(t,n,a){return e.addEvent.call(this,n,a)},undelegate:function(t,n,a){return e.removeEvent.call(this,n,a)},trigger:e.dispatch,one:e.one,addEvent:e.addEvent,removeEvent:e.removeEvent,listenTo:e.listenTo,stopListening:e.stopListening,dispatch:e.dispatch},e.event}),define("can/util/array/each",["can/util/can"],function(e){var t=function(e){var t=e.length;return"function"!=typeof arr&&(0===t||"number"==typeof t&&t>0&&t-1 in e)};return e.each=function(n,a,i){var r,s,o,l=0;if(n)if(t(n))if(e.List&&n instanceof e.List)for(s=n.attr("length");s>l&&(o=n.attr(l),a.call(i||o,o,l,n)!==!1);l++);else for(s=n.length;s>l&&(o=n[l],a.call(i||o,o,l,n)!==!1);l++);else if("object"==typeof n)if(e.Map&&n instanceof e.Map||n===e.route){var u=e.Map.keys(n);for(l=0,s=u.length;s>l&&(r=u[l],o=n.attr(r),a.call(i||o,o,r,n)!==!1);l++);}else for(r in n)if(n.hasOwnProperty(r)&&a.call(i||n[r],n[r],r,n)===!1)break;return n},e}),define("can/util/inserted",["can/util/can"],function(e){e.inserted=function(t){t=e.makeArray(t);for(var n,a,i=!1,r=e.$(document.contains?document:document.body),s=0;void 0!==(a=t[s]);s++){if(!i){if(!a.getElementsByTagName)continue;if(!e.has(r,a).length)return;i=!0}if(i&&a.getElementsByTagName){n=e.makeArray(a.getElementsByTagName("*")),e.trigger(a,"inserted",[],!1);for(var o,l=0;void 0!==(o=n[l]);l++)e.trigger(o,"inserted",[],!1)}}},e.appendChild=function(t,n){var a;a=11===n.nodeType?e.makeArray(n.childNodes):[n],t.appendChild(n),e.inserted(a)},e.insertBefore=function(t,n,a){var i;i=11===n.nodeType?e.makeArray(n.childNodes):[n],t.insertBefore(n,a),e.inserted(i)}}),define("can/util/jquery",["jquery","can/util/can","can/util/attr","can/event","can/util/array/each","can/util/inserted"],function(e,t,n,a){var i=function(e){return e.nodeName&&(1===e.nodeType||9===e.nodeType)||e==window};e.extend(t,e,{trigger:function(n,a,r,s){i(n)?e.event.trigger(a,r,n,!s):n.trigger?n.trigger(a,r):("string"==typeof a&&(a={type:a}),a.target=a.target||n,r&&(r.length&&"string"==typeof r?r=[r]:r.length||(r=[r])),r||(r=[]),t.dispatch.call(n,a,r))},event:t.event,addEvent:t.addEvent,removeEvent:t.removeEvent,buildFragment:function(t,n){var a;return t=[t],n=n||document,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,a=e.buildFragment(t,n),a.cacheable?e.clone(a.fragment):a.fragment||a},$:e,each:t.each,bind:function(n,a){return this.bind&&this.bind!==t.bind?this.bind(n,a):i(this)?e.event.add(this,n,a):t.addEvent.call(this,n,a),this},unbind:function(n,a){return this.unbind&&this.unbind!==t.unbind?this.unbind(n,a):i(this)?e.event.remove(this,n,a):t.removeEvent.call(this,n,a),this},delegate:function(n,a,r){return this.delegate?this.delegate(n,a,r):i(this)?e(this).delegate(n,a,r):t.bind.call(this,a,r),this},undelegate:function(n,a,r){return this.undelegate?this.undelegate(n,a,r):i(this)?e(this).undelegate(n,a,r):t.unbind.call(this,a,r),this},proxy:function(e,t){return function(){return e.apply(t,arguments)}},attr:n}),t.on=t.bind,t.off=t.unbind,e.each(["append","filter","addClass","remove","data","get","has"],function(e,n){t[n]=function(e){return e[n].apply(e,t.makeArray(arguments).slice(1))}});var r=e.cleanData;e.cleanData=function(n){e.each(n,function(e,n){n&&t.trigger(n,"removed",[],!1)}),r(n)};var s,o=e.fn.domManip;if(e.fn.domManip=function(e,t,n){for(var a=1;a<arguments.length;a++)if("function"==typeof arguments[a]){s=a;break}return o.apply(this,arguments)},e(document.createElement("div")).append(document.createElement("div")),e.fn.domManip=2===s?function(e,n,a){return o.call(this,e,n,function(e){var n;11===e.nodeType&&(n=t.makeArray(e.childNodes));var i=a.apply(this,arguments);return t.inserted(n?n:[e]),i})}:function(e,n){return o.call(this,e,function(e){var a;11===e.nodeType&&(a=t.makeArray(e.childNodes));var i=n.apply(this,arguments);return t.inserted(a?a:[e]),i})},t.attr.MutationObserver)e.event.special.attributes={setup:function(){var e=this,n=new t.attr.MutationObserver(function(n){n.forEach(function(n){var a=t.simpleExtend({},n);t.trigger(e,a,[])})});n.observe(this,{attributes:!0,attributeOldValue:!0}),t.data(t.$(this),"canAttributesObserver",n)},teardown:function(){t.data(t.$(this),"canAttributesObserver").disconnect(),e.removeData(this,"canAttributesObserver")}};else{var l=e.attr;e.attr=function(e,n){var a,i;arguments.length>=3&&(a=l.call(this,e,n));var r=l.apply(this,arguments);return arguments.length>=3&&(i=l.call(this,e,n)),i!==a&&t.attr.trigger(e,n,a),r};var u=e.removeAttr;e.removeAttr=function(e,n){var a=l.call(this,e,n),i=u.apply(this,arguments);return null!=a&&t.attr.trigger(e,n,a),i},e.event.special.attributes={setup:function(){t.data(t.$(this),"canHasAttributesBindings",!0)},teardown:function(){e.removeData(this,"canHasAttributesBindings")}}}return function(){var e="<-\n>",n=t.buildFragment(e,document);if(e!==n.childNodes[0].nodeValue){var a=t.buildFragment;t.buildFragment=function(e,t){var n=a(e,t);return 1===n.childNodes.length&&3===n.childNodes[0].nodeType&&(n.childNodes[0].nodeValue=e),n}}}(),e.event.special.inserted={},e.event.special.removed={},t}),define("can/util/library",["can/util/jquery"],function(e){return e}),define("can/util/bind",["can/util/library"],function(e){return e.bindAndSetup=function(){return e.addEvent.apply(this,arguments),this._init||(this._bindings?this._bindings++:(this._bindings=1,this._bindsetup&&this._bindsetup())),this},e.unbindAndTeardown=function(t,n){return e.removeEvent.apply(this,arguments),null===this._bindings?this._bindings=0:this._bindings--,!this._bindings&&this._bindteardown&&this._bindteardown(),this},e}),define("can/map/bubble",["can/util/library"],function(e){var t=e.bubble={event:function(e,t){return e.constructor._bubbleRule(t,e)},childrenOf:function(e,n){e._each(function(a,i){a&&a.bind&&t.toParent(a,e,i,n)})},teardownChildrenFrom:function(e,n){e._each(function(a){t.teardownFromParent(e,a,n)})},toParent:function(t,n,a,i){e.listenTo.call(n,t,i,function(){var i=e.makeArray(arguments),r=i.shift();i[0]=(e.List&&n instanceof e.List?n.indexOf(t):a)+(i[0]?"."+i[0]:""),r.triggeredNS=r.triggeredNS||{},r.triggeredNS[n._cid]||(r.triggeredNS[n._cid]=!0,e.trigger(n,r,i))})},teardownFromParent:function(t,n,a){n&&n.unbind&&e.stopListening.call(t,n,a)},isBubbling:function(e,t){return e._bubbleBindings&&e._bubbleBindings[t]},bind:function(e,n){if(!e._init){var a=t.event(e,n);a&&(e._bubbleBindings||(e._bubbleBindings={}),e._bubbleBindings[a]?e._bubbleBindings[a]++:(e._bubbleBindings[a]=1,t.childrenOf(e,a)))}},unbind:function(n,a){var i=t.event(n,a);i&&(n._bubbleBindings&&n._bubbleBindings[i]--,n._bubbleBindings&&!n._bubbleBindings[i]&&(delete n._bubbleBindings[i],t.teardownChildrenFrom(n,i),e.isEmptyObject(n._bubbleBindings)&&delete n._bubbleBindings))},add:function(n,a,i){if(a instanceof e.Map&&n._bubbleBindings)for(var r in n._bubbleBindings)n._bubbleBindings[r]&&(t.teardownFromParent(n,a,r),t.toParent(a,n,i,r))},removeMany:function(e,n){for(var a=0,i=n.length;i>a;a++)t.remove(e,n[a])},remove:function(n,a){if(a instanceof e.Map&&n._bubbleBindings)for(var i in n._bubbleBindings)n._bubbleBindings[i]&&t.teardownFromParent(n,a,i)},set:function(n,a,i,r){return e.Map.helpers.isObservable(i)&&t.add(n,i,a),e.Map.helpers.isObservable(r)&&t.remove(n,r),i}};return t}),define("can/util/string",["can/util/library"],function(e){var t=/_|-/,n=/\=\=/,a=/([A-Z]+)([A-Z][a-z])/g,i=/([a-z\d])([A-Z])/g,r=/([a-z\d])([A-Z])/g,s=/\{([^\}]+)\}/g,o=/"/g,l=/'/g,u=/-+(.)?/g,c=/[a-z][A-Z]/g,d=function(e,t,n){var a=e[t];return void 0===a&&n===!0&&(a=e[t]={}),a},p=function(e){return/^f|^o/.test(typeof e);
},h=function(e){var t=null===e||void 0===e||isNaN(e)&&""+e=="NaN";return""+(t?"":e)};return e.extend(e,{esc:function(e){return h(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(o,"&#34;").replace(l,"&#39;")},getObject:function(t,n,a){var i,r,s,o,l=t?t.split("."):[],u=l.length,c=0;if(n=e.isArray(n)?n:[n||window],o=n.length,!u)return n[0];for(c;o>c;c++){for(i=n[c],s=void 0,r=0;u>r&&p(i);r++)s=i,i=d(s,l[r]);if(void 0!==s&&void 0!==i)break}if(a===!1&&void 0!==i&&delete s[l[r-1]],a===!0&&void 0===i)for(i=n[0],r=0;u>r&&p(i);r++)i=d(i,l[r],!0);return i},capitalize:function(e,t){return e.charAt(0).toUpperCase()+e.slice(1)},camelize:function(e){return h(e).replace(u,function(e,t){return t?t.toUpperCase():""})},hyphenate:function(e){return h(e).replace(c,function(e,t){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})},underscore:function(e){return e.replace(n,"/").replace(a,"$1_$2").replace(i,"$1_$2").replace(r,"_").toLowerCase()},sub:function(t,n,a){var i=[];return t=t||"",i.push(t.replace(s,function(t,r){var s=e.getObject(r,n,a===!0?!1:void 0);return void 0===s||null===s?(i=null,""):p(s)&&i?(i.push(s),""):""+s})),null===i?i:i.length<=1?i[0]:i},replacer:s,undHash:t}),e}),define("can/construct",["can/util/string"],function(e){var t=0,n=function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return n&&(n.get||n.set)?n:null},a=function(t,a,i){i=i||t;var r;for(var s in t)(r=n(t,s))?this._defineProperty(i,a,s,r):e.Construct._overwrite(i,a,s,t[s])},i=function(t,n,a){a=a||t;for(var i in t)e.Construct._overwrite(a,n,i,t[i])};return e.Construct=function(){return arguments.length?e.Construct.extend.apply(e.Construct,arguments):void 0},e.extend(e.Construct,{constructorExtends:!0,newInstance:function(){var e,t=this.instance();return t.setup&&(e=t.setup.apply(t,arguments)),t.init&&t.init.apply(t,e||arguments),t},_inherit:Object.getOwnPropertyDescriptor?a:i,_defineProperty:function(e,t,n,a){Object.defineProperty(e,n,a)},_overwrite:function(e,t,n,a){e[n]=a},setup:function(t,n){this.defaults=e.extend(!0,{},t.defaults,this.defaults)},instance:function(){t=1;var e=new this;return t=0,e},extend:function(n,a,i){function r(){return t?void 0:this.constructor!==r&&arguments.length&&r.constructorExtends?r.extend.apply(r,arguments):r.newInstance.apply(r,arguments)}var s=n,o=a,l=i;"string"!=typeof s&&(l=o,o=s,s=null),l||(l=o,o=null),l=l||{};var u,c,d,p,h,f,m,g,v=this,y=this.prototype;g=this.instance(),e.Construct._inherit(l,y,g);for(h in v)v.hasOwnProperty(h)&&(r[h]=v[h]);e.Construct._inherit(o,v,r),s&&(u=s.split("."),f=u.pop(),c=e.getObject(u.join("."),window,!0),m=c,d=e.underscore(s.replace(/\./g,"_")),p=e.underscore(f),c[f]=r),e.extend(r,{constructor:r,prototype:g,namespace:m,_shortName:p,fullName:s,_fullName:d}),void 0!==f&&(r.shortName=f),r.prototype.constructor=r;var b=[v].concat(e.makeArray(arguments)),w=r.setup.apply(r,b);return r.init&&r.init.apply(r,w||b),r}}),e.Construct.prototype.setup=function(){},e.Construct.prototype.init=function(){},e.Construct}),define("can/util/batch",["can/util/can"],function(e){var t=1,n=0,a=[],i=[];e.batch={start:function(e){n++,e&&i.push(e)},stop:function(r,s){if(r?n=0:n--,0===n){var o,l,u=a.slice(0),c=i.slice(0);for(a=[],i=[],t++,s&&e.batch.start(),o=0,l=u.length;l>o;o++)e.dispatch.apply(u[o][0],u[o][1]);for(o=0,l=c.length;o<c.length;o++)c[o]()}},trigger:function(i,r,s){if(!i._init){if(0===n)return e.dispatch.call(i,r,s);r="string"==typeof r?{type:r}:r,r.batchNum=t,a.push([i,[r,s]])}}}}),define("can/map",["can/util/library","can/util/bind","can/map/bubble","can/construct","can/util/batch"],function(e,t,n){var a=null,i=function(){for(var e in a)a[e].added&&delete a[e].obj._cid;a=null},r=function(e){return a&&a[e._cid]&&a[e._cid].instance},s=null,o=e.Map=e.Construct.extend({setup:function(){if(e.Construct.setup.apply(this,arguments),e.Map){this.defaults||(this.defaults={}),this._computes=[];for(var t in this.prototype)"define"!==t&&"constructor"!==t&&("function"!=typeof this.prototype[t]||this.prototype[t].prototype instanceof e.Construct)?this.defaults[t]=this.prototype[t]:this.prototype[t].isComputed&&this._computes.push(t);this.helpers.define&&this.helpers.define(this)}!e.List||this.prototype instanceof e.List||(this.List=o.List.extend({Map:this},{}))},_bubble:n,_bubbleRule:function(e){return("change"===e||e.indexOf(".")>=0)&&"change"},_computes:[],bind:e.bindAndSetup,on:e.bindAndSetup,unbind:e.unbindAndTeardown,off:e.unbindAndTeardown,id:"id",helpers:{define:null,attrParts:function(e,t){return t?[e]:"object"==typeof e?e:(""+e).split(".")},addToMap:function(t,n){var r;a||(r=i,a={});var s=t._cid,o=e.cid(t);return a[o]||(a[o]={obj:t,instance:n,added:!s}),r},isObservable:function(t){return t instanceof e.Map||t&&t===e.route},canMakeObserve:function(t){return t&&!e.isDeferred(t)&&(e.isArray(t)||e.isPlainObject(t))},serialize:function(t,n,a){var i=e.cid(t),r=!1;return s||(r=!0,s={attr:{},serialize:{}}),s[n][i]=a,t.each(function(i,r){var l,u=o.helpers.isObservable(i),c=u&&s[n][e.cid(i)];l=c?c:"serialize"===n?o.helpers._serialize(t,r,i):o.helpers._getValue(t,r,i,n),void 0!==l&&(a[r]=l)}),e.__reading(t,"__keys"),r&&(s=null),a},_serialize:function(e,t,n){return o.helpers._getValue(e,t,n,"serialize")},_getValue:function(e,t,n,a){return o.helpers.isObservable(n)?n[a]():n}},keys:function(t){var n=[];e.__reading(t,"__keys");for(var a in t._data)n.push(a);return n}},{setup:function(t){t instanceof e.Map&&(t=t.serialize()),this._data={},e.cid(this,".map"),this._init=1,this._computedBindings={};var n=this._setupDefaults(t);this._setupComputes(n);var a=t&&e.Map.helpers.addToMap(t,this),i=e.extend(e.extend(!0,{},n),t);this.attr(i),a&&a(),this.bind("change",e.proxy(this._changes,this)),delete this._init},_setupComputes:function(){for(var e,t=this.constructor._computes,n=0,a=t.length;a>n;n++)e=t[n],this[e]=this[e].clone(this),this._computedBindings[e]={count:0}},_setupDefaults:function(){return this.constructor.defaults||{}},_bindsetup:function(){},_bindteardown:function(){},_changes:function(t,n,a,i,r){e.batch.trigger(this,{type:n,batchNum:t.batchNum,target:t.target},[i,r])},_triggerChange:function(t,a,i,r){n.isBubbling(this,"change")?e.batch.trigger(this,{type:"change",target:this},[t,a,i,r]):e.batch.trigger(this,t,[i,r]),("remove"===a||"add"===a)&&e.batch.trigger(this,{type:"__keys",target:this})},_each:function(e){var t=this.__get();for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},attr:function(t,n){var a=typeof t;return"string"!==a&&"number"!==a?this._attrs(t,n):1===arguments.length?(e.__reading(this,t),this._get(t)):(this._set(t,n),this)},each:function(){return e.each.apply(void 0,[this].concat(e.makeArray(arguments)))},removeAttr:function(t){var n=e.List&&this instanceof e.List,a=e.Map.helpers.attrParts(t),i=a.shift(),r=n?this[i]:this._data[i];return a.length&&r?r.removeAttr(a):("string"==typeof t&&~t.indexOf(".")&&(i=t),this._remove(i,r),r)},_remove:function(e,t){e in this._data&&(delete this._data[e],e in this.constructor.prototype||delete this[e],this._triggerChange(e,"remove",void 0,t))},_get:function(e){e=""+e;var t=e.indexOf(".");if(t>=0){var n=this.__get(e);if(void 0!==n)return n;var a=e.substr(0,t),i=e.substr(t+1),r=this.__get(a);return r&&r._get?r._get(i):void 0}return this.__get(e)},__get:function(e){return e?this._computedBindings[e]?this[e]():this._data[e]:this._data},__type:function(t,n){if(!(t instanceof e.Map)&&e.Map.helpers.canMakeObserve(t)){var a=r(t);if(a)return a;if(e.isArray(t)){var i=e.List;return new i(t)}var s=this.constructor.Map||e.Map;return new s(t)}return t},_set:function(e,t,n){e=""+e;var a,i=e.indexOf(".");if(!n&&i>=0){var r=e.substr(0,i),s=e.substr(i+1);if(a=this._init?void 0:this.__get(r),!o.helpers.isObservable(a))throw"can.Map: Object does not exist";a._set(s,t)}else this.__convert&&(t=this.__convert(e,t)),a=this._init?void 0:this.__get(e),this.__set(e,this.__type(t,e),a)},__set:function(e,t,n){if(t!==n){var a=void 0!==n||this.__get().hasOwnProperty(e)?"set":"add";this.___set(e,this.constructor._bubble.set(this,e,t,n)),this._triggerChange(e,a,t,n),n&&this.constructor._bubble.teardownFromParent(this,n)}},___set:function(e,t){this._computedBindings[e]?this[e](t):this._data[e]=t,"function"==typeof this.constructor.prototype[e]||this._computedBindings[e]||(this[e]=t)},bind:function(t,n){var a=this._computedBindings&&this._computedBindings[t];if(a)if(a.count)a.count++;else{a.count=1;var i=this;a.handler=function(n,a,r){e.batch.trigger(i,{type:t,batchNum:n.batchNum,target:i},[a,r])},this[t].bind("change",a.handler)}return this.constructor._bubble.bind(this,t),e.bindAndSetup.apply(this,arguments)},unbind:function(t,n){var a=this._computedBindings&&this._computedBindings[t];return a&&(1===a.count?(a.count=0,this[t].unbind("change",a.handler),delete a.handler):a.count--),this.constructor._bubble.unbind(this,t),e.unbindAndTeardown.apply(this,arguments)},serialize:function(){return e.Map.helpers.serialize(this,"serialize",{})},_attrs:function(t,n){if(void 0===t)return o.helpers.serialize(this,"attr",{});t=e.simpleExtend({},t);var a,i,r=this;e.batch.start(),this.each(function(e,a){if("_cid"!==a){if(i=t[a],void 0===i)return void(n&&r.removeAttr(a));r.__convert&&(i=r.__convert(a,i)),o.helpers.isObservable(i)?r.__set(a,r.__type(i,a),e):o.helpers.isObservable(e)&&o.helpers.canMakeObserve(i)?e.attr(i,n):e!==i&&r.__set(a,r.__type(i,a),e),delete t[a]}});for(a in t)"_cid"!==a&&(i=t[a],this._set(a,i,!0));return e.batch.stop(),this},compute:function(t){if(e.isFunction(this.constructor.prototype[t]))return e.compute(this[t],this);var n=t.split("."),a=n.length-1,i={args:[]};return e.compute(function(t){return arguments.length?void e.compute.read(this,n.slice(0,a)).value.attr(n[a],t):e.compute.read(this,n,i).value},this)}});return o.prototype.on=o.prototype.bind,o.prototype.off=o.prototype.unbind,o}),define("can/list",["can/util/library","can/map","can/map/bubble"],function(e,t,n){var a=[].splice,i=function(){var e={0:"a",length:1};return a.call(e,0,1),!e[0]}(),r=t.extend({Map:t},{setup:function(t,n){this.length=0,e.cid(this,".map"),this._init=1,this._computedBindings={},this._setupComputes(),t=t||[];var a;e.isDeferred(t)?this.replace(t):(a=t.length&&e.Map.helpers.addToMap(t,this),this.push.apply(this,e.makeArray(t||[]))),a&&a(),this.bind("change",e.proxy(this._changes,this)),e.simpleExtend(this,n),delete this._init},_triggerChange:function(n,a,i,r){t.prototype._triggerChange.apply(this,arguments);var s=+n;~n.indexOf(".")||isNaN(s)||("add"===a?(e.batch.trigger(this,a,[i,s]),e.batch.trigger(this,"length",[this.length])):"remove"===a?(e.batch.trigger(this,a,[r,s]),e.batch.trigger(this,"length",[this.length])):e.batch.trigger(this,a,[i,s]))},__get:function(t){return t?this[t]&&this[t].isComputed&&e.isFunction(this.constructor.prototype[t])?this[t]():this[t]:this},___set:function(e,t){this[e]=t,+e>=this.length&&(this.length=+e+1)},_remove:function(e,t){isNaN(+e)?(delete this[e],this._triggerChange(e,"remove",void 0,t)):this.splice(e,1)},_each:function(e){for(var t=this.__get(),n=0;n<t.length;n++)e(t[n],n)},serialize:function(){return t.helpers.serialize(this,"serialize",[])},splice:function(t,r){var s,o,l=e.makeArray(arguments),u=[];for(s=2,o=l.length;o>s;s++)l[s]=this.__type(l[s],s),u.push(l[s]);void 0===r&&(r=l[1]=this.length-t);var c=a.apply(this,l);if(!i)for(s=this.length;s<c.length+this.length;s++)delete this[s];if(e.batch.start(),r>0&&(n.removeMany(this,c),this._triggerChange(""+t,"remove",void 0,c)),l.length>2){for(s=0,o=u.length;o>s;s++)n.set(this,s,u[s]);this._triggerChange(""+t,"add",u,c)}return e.batch.stop(),c},_attrs:function(n,a){return void 0===n?t.helpers.serialize(this,"attr",[]):(n=e.makeArray(n),e.batch.start(),this._updateAttrs(n,a),void e.batch.stop())},_updateAttrs:function(e,n){for(var a=Math.min(e.length,this.length),i=0;a>i;i++){var r=this[i],s=e[i];t.helpers.isObservable(r)&&t.helpers.canMakeObserve(s)?r.attr(s,n):r!==s&&this._set(i,s)}e.length>this.length?this.push.apply(this,e.slice(this.length)):e.length<this.length&&n&&this.splice(e.length)}}),s=function(t){return t[0]&&e.isArray(t[0])?t[0]:e.makeArray(t)};return e.each({push:"length",unshift:0},function(e,t){var a=[][t];r.prototype[t]=function(){for(var t,i,r=[],s=e?this.length:0,o=arguments.length;o--;)i=arguments[o],r[o]=n.set(this,o,this.__type(i,o));return t=a.apply(this,r),(!this.comparator||r.length)&&this._triggerChange(""+s,"add",r,void 0),t}}),e.each({pop:"length",shift:0},function(e,t){r.prototype[t]=function(){var a=s(arguments),i=e&&this.length?this.length-1:0,r=[][t].apply(this,a);return this._triggerChange(""+i,"remove",void 0,[r]),r&&r.unbind&&n.remove(this,r),r}}),e.extend(r.prototype,{indexOf:function(t,n){return this.attr("length"),e.inArray(t,this,n)},join:function(){return[].join.apply(this.attr(),arguments)},reverse:function(){var t=e.makeArray([].reverse.call(this));this.replace(t)},slice:function(){var e=Array.prototype.slice.apply(this,arguments);return new this.constructor(e)},concat:function(){var t=[];return e.each(e.makeArray(arguments),function(n,a){t[a]=n instanceof e.List?n.serialize():n}),new this.constructor(Array.prototype.concat.apply(this.serialize(),t))},forEach:function(t,n){return e.each(this,t,n||this)},replace:function(t){return e.isDeferred(t)?t.then(e.proxy(this.replace,this)):this.splice.apply(this,[0,this.length].concat(e.makeArray(t||[]))),this},filter:function(t,n){var a,i=new e.List,r=this;return this.each(function(e,s,o){a=t.call(n|r,e,s,r),a&&i.push(e)}),i}}),e.List=t.List=r,e.List}),define("can/util/string/deparam",["can/util/library","can/util/string"],function(e){var t=/^\d+$/,n=/([^\[\]]+)|(\[\])/g,a=/([^?#]*)(#.*)?$/,i=function(e){return decodeURIComponent(e.replace(/\+/g," "))};return e.extend(e,{deparam:function(r){var s,o,l={};return r&&a.test(r)&&(s=r.split("&"),e.each(s,function(e){var a=e.split("="),r=i(a.shift()),s=i(a.join("=")),u=l;if(r){a=r.match(n);for(var c=0,d=a.length-1;d>c;c++)u[a[c]]||(u[a[c]]=t.test(a[c+1])||"[]"===a[c+1]?[]:{}),u=u[a[c]];o=a.pop(),"[]"===o?u.push(s):u[o]=s}})),l}}),e}),define("can/route",["can/util/library","can/map","can/list","can/util/string/deparam"],function(e){var t,n,a,i,r=/\:([\w\.]+)/g,s=/^(?:&[^=]+=[^&]*)+/,o=function(t){var n=[];return e.each(t,function(t,a){n.push(("className"===a?"class":a)+'="'+("href"===a?t:e.esc(t))+'"')}),n.join(" ")},l=function(e,t){var n=0,a=0,i={};for(var r in e.defaults)e.defaults[r]===t[r]&&(i[r]=1,n++);for(;a<e.names.length;a++){if(!t.hasOwnProperty(e.names[a]))return-1;i[e.names[a]]||n++}return n},u=window.location,c=function(e){return(e+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},d=e.each,p=e.extend,h=function(t){return t&&"object"==typeof t?(t=t instanceof e.Map?t.attr():e.isFunction(t.slice)?t.slice():e.extend({},t),e.each(t,function(e,n){t[n]=h(e)})):void 0!==t&&null!==t&&e.isFunction(t.toString)&&(t=t.toString()),t},f=function(e){return e.replace(/\\/g,"")},m=function(n,r,s,o){i=1,clearTimeout(t),t=setTimeout(function(){i=0;var t=e.route.data.serialize(),n=e.route.param(t,!0);e.route._call("setURL",n),e.batch.trigger(g,"__url",[n,a]),a=n},10)},g=e.extend({},e.event);e.route=function(t,n){var a=e.route._call("root");a.lastIndexOf("/")===a.length-1&&0===t.indexOf("/")&&(t=t.substr(1)),n=n||{};for(var i,s,o=[],l="",u=r.lastIndex=0,d=e.route._call("querySeparator"),p=e.route._call("matchSlashes");i=r.exec(t);)o.push(i[1]),l+=f(t.substring(u,r.lastIndex-i[0].length)),s="\\"+(f(t.substr(r.lastIndex,1))||d+(p?"":"|/")),l+="([^"+s+"]"+(n[i[1]]?"*":"+")+")",u=r.lastIndex;return l+=t.substr(u).replace("\\",""),e.route.routes[t]={test:new RegExp("^"+l+"($|"+c(d)+")"),route:t,names:o,defaults:n,length:t.split("/").length},e.route},p(e.route,{param:function(t,n){var a,i,s=0,o=t.route,u=0;if(delete t.route,d(t,function(){u++}),d(e.route.routes,function(e,n){return i=l(e,t),i>s&&(a=e,s=i),i>=u?!1:void 0}),e.route.routes[o]&&l(e.route.routes[o],t)===s&&(a=e.route.routes[o]),a){var c,h=p({},t),f=a.route.replace(r,function(e,n){return delete h[n],t[n]===a.defaults[n]?"":encodeURIComponent(t[n])}).replace("\\","");return d(a.defaults,function(e,t){h[t]===e&&delete h[t]}),c=e.param(h),n&&e.route.attr("route",a.route),f+(c?e.route._call("querySeparator")+c:"")}return e.isEmptyObject(t)?"":e.route._call("querySeparator")+e.param(t)},deparam:function(t){var n=e.route._call("root");n.lastIndexOf("/")===n.length-1&&0===t.indexOf("/")&&(t=t.substr(1));var a={length:-1},i=e.route._call("querySeparator"),r=e.route._call("paramsMatcher");if(d(e.route.routes,function(e,n){e.test.test(t)&&e.length>a.length&&(a=e)}),a.length>-1){var s=t.match(a.test),o=s.shift(),l=t.substr(o.length-(s[s.length-1]===i?1:0)),u=l&&r.test(l)?e.deparam(l.slice(1)):{};return u=p(!0,{},a.defaults,u),d(s,function(e,t){e&&e!==i&&(u[a.names[t]]=decodeURIComponent(e))}),u.route=a.route,u}return t.charAt(0)!==i&&(t=i+t),r.test(t)?e.deparam(t.slice(1)):{}},data:new e.Map({}),map:function(t){var n;n=t.prototype instanceof e.Map?new t:t,e.route.data=n},routes:{},ready:function(t){return t!==!0&&(e.route._setup(),e.route.setState()),e.route},url:function(t,n){return n&&(t=e.extend({},e.route.deparam(e.route._call("matchingPartOfURL")),t)),e.route._call("root")+e.route.param(t)},link:function(t,n,a,i){return"<a "+o(p({href:e.route.url(n,i)},a))+">"+t+"</a>"},current:function(t){return e.__reading(g,"__url"),this._call("matchingPartOfURL")===e.route.param(t)},bindings:{hashchange:{paramsMatcher:s,querySeparator:"&",matchSlashes:!1,bind:function(){e.bind.call(window,"hashchange",v)},unbind:function(){e.unbind.call(window,"hashchange",v)},matchingPartOfURL:function(){return u.href.split(/#!?/)[1]||""},setURL:function(e){return u.hash="#!"+e,e},root:"#!"}},defaultBinding:"hashchange",currentBinding:null,_setup:function(){e.route.currentBinding||(e.route._call("bind"),e.route.bind("change",m),e.route.currentBinding=e.route.defaultBinding)},_teardown:function(){e.route.currentBinding&&(e.route._call("unbind"),e.route.unbind("change",m),e.route.currentBinding=null),clearTimeout(t),i=0},_call:function(){var t=e.makeArray(arguments),n=t.shift(),a=e.route.bindings[e.route.currentBinding||e.route.defaultBinding],i=a[n];return i.apply?i.apply(a,t):i}}),d(["bind","unbind","on","off","delegate","undelegate","removeAttr","compute","_get","__get","each"],function(t){e.route[t]=function(){return e.route.data[t]?e.route.data[t].apply(e.route.data,arguments):void 0}}),e.route.attr=function(t,n){var a,i=typeof t;return a=void 0===n?arguments:"string"!==i&&"number"!==i?[h(t),n]:[t,h(n)],e.route.data.attr.apply(e.route.data,a)};var v=e.route.setState=function(){var t=e.route._call("matchingPartOfURL"),r=n;if(n=e.route.deparam(t),!i||t!==a){e.batch.start();for(var s in r)n[s]||e.route.removeAttr(s);e.route.attr(n),e.batch.trigger(g,"__url",[t,a]),e.batch.stop()}};return e.route}),define("can/control",["can/util/library","can/construct"],function(e){var t,n=function(t,n,a){return e.bind.call(t,n,a),function(){e.unbind.call(t,n,a)}},a=e.isFunction,i=e.extend,r=e.each,s=[].slice,o=/\{([^\}]+)\}/g,l=e.getObject("$.event.special",[e])||{},u=function(t,n,a,i){return e.delegate.call(t,n,a,i),function(){e.undelegate.call(t,n,a,i)}},c=function(t,a,i,r){return r?u(t,e.trim(r),a,i):n(t,a,i)},d=e.Control=e.Construct({setup:function(){if(e.Construct.setup.apply(this,arguments),e.Control){var t,n=this;n.actions={};for(t in n.prototype)n._isAction(t)&&(n.actions[t]=n._action(t))}},_shifter:function(t,n){var i="string"==typeof n?t[n]:n;return a(i)||(i=t[i]),function(){return t.called=n,i.apply(t,[this.nodeName?e.$(this):this].concat(s.call(arguments,0)))}},_isAction:function(e){var t=this.prototype[e],n=typeof t;return"constructor"!==e&&("function"===n||"string"===n&&a(this.prototype[t]))&&!!(l[e]||p[e]||/[^\w]/.test(e))},_action:function(n,a){if(o.lastIndex=0,a||!o.test(n)){var i=a?e.sub(n,this._lookup(a)):n;if(!i)return null;var r=e.isArray(i),s=r?i[1]:i,l=s.split(/\s+/g),u=l.pop();return{processor:p[u]||t,parts:[s,l.join(" "),u],delegate:r?i[0]:void 0}}},_lookup:function(e){return[e,window]},processors:{},defaults:{}},{setup:function(t,n){var a,r=this.constructor,s=r.pluginName||r._fullName;return this.element=e.$(t),s&&"can_control"!==s&&this.element.addClass(s),a=e.data(this.element,"controls"),a||(a=[],e.data(this.element,"controls",a)),a.push(this),this.options=i({},r.defaults,n),this.on(),[this.element,this.options]},on:function(t,n,a,i){if(!t){this.off();var r,s,o=this.constructor,l=this._bindings,u=o.actions,d=this.element,p=e.Control._shifter(this,"destroy");for(r in u)u.hasOwnProperty(r)&&(s=u[r]||o._action(r,this.options,this),s&&(l.control[r]=s.processor(s.delegate||d,s.parts[2],s.parts[1],r,this)));return e.bind.call(d,"removed",p),l.user.push(function(t){e.unbind.call(t,"removed",p)}),l.user.length}return"string"==typeof t&&(i=a,a=n,n=t,t=this.element),void 0===i&&(i=a,a=n,n=null),"string"==typeof i&&(i=e.Control._shifter(this,i)),this._bindings.user.push(c(t,a,i,n)),this._bindings.user.length},off:function(){var e=this.element[0],t=this._bindings;t&&(r(t.user||[],function(t){t(e)}),r(t.control||{},function(t){t(e)})),this._bindings={user:[],control:{}}},destroy:function(){if(null!==this.element){var t,n=this.constructor,a=n.pluginName||n._fullName;this.off(),a&&"can_control"!==a&&this.element.removeClass(a),t=e.data(this.element,"controls"),t.splice(e.inArray(this,t),1),e.trigger(this,"destroyed"),this.element=null}}}),p=e.Control.processors;return t=function(t,n,a,i,r){return c(t,n,e.Control._shifter(r,i),a)},r(["change","click","contextmenu","dblclick","keydown","keyup","keypress","mousedown","mousemove","mouseout","mouseover","mouseup","reset","resize","scroll","select","submit","focusin","focusout","mouseenter","mouseleave","touchstart","touchmove","touchcancel","touchend","touchleave","inserted","removed"],function(e){p[e]=t}),d}),define("can/control/route",["can/util/library","can/route","can/control"],function(e){return e.Control.processors.route=function(t,n,a,i,r){a=a||"",e.route.routes[a]||("/"===a[0]&&(a=a.substring(1)),e.route(a));var s,o=function(t,n,o){if(e.route.attr("route")===a&&(void 0===t.batchNum||t.batchNum!==s)){s=t.batchNum;var l=e.route.attr();delete l.route,e.isFunction(r[i])?r[i](l):r[r[i]](l)}};return e.route.bind("change",o),function(){e.route.unbind("change",o)}},e}),define("can/model",["can/util/library","can/map","can/list"],function(e){var t=function(t,n,a){var i=new e.Deferred;return t.then(function(){var t=e.makeArray(arguments),r=!0;try{t[0]=a.apply(n,t)}catch(s){r=!1,i.rejectWith(i,[s].concat(t))}r&&i.resolveWith(i,t)},function(){i.rejectWith(this,arguments)}),"function"==typeof t.abort&&(i.abort=function(){return t.abort()}),i},n=0,a=function(t){return e.__reading(t,t.constructor.id),t.__get(t.constructor.id)},i=function(t,n,a,i,r,s){var o={};if("string"==typeof t){var l=t.split(/\s+/);o.url=l.pop(),l.length&&(o.type=l.pop())}else e.extend(o,t);return o.data="object"!=typeof n||e.isArray(n)?n:e.extend(o.data||{},n),o.url=e.sub(o.url,o.data,!0),e.ajax(e.extend({type:a||"post",dataType:i||"json",success:r,error:s},o))},r=function(n,i,r,s,o){var l;e.isArray(n)?(l=n[1],n=n[0]):l=n.serialize(),l=[l];var u,c,d=n.constructor;return("update"===i||"destroy"===i)&&l.unshift(a(n)),c=d[i].apply(d,l),u=t(c,n,function(e){return n[o||i+"d"](e,c),n}),c.abort&&(u.abort=function(){c.abort()}),u.then(r,s),u},s={models:function(t,n,a){if(e.Model._reqs++,t){if(t instanceof this.List)return t;var i=this,r=[],s=i.List||f,o=n instanceof e.List?n:new s,l=t instanceof f,u=l?t.serialize():t;if(u=i.parseModels(u,a),u.data&&(t=u,u=u.data),"undefined"==typeof u)throw new Error("Could not get any raw data while converting using .models");return o.length&&o.splice(0),e.each(u,function(e){r.push(i.model(e,a))}),o.push.apply(o,r),e.isArray(t)||e.each(t,function(e,t){"data"!==t&&o.attr(t,e)}),setTimeout(e.proxy(this._clean,this),1),o}},model:function(t,n,a){if(t){t="function"==typeof t.serialize?t.serialize():this.parseModel(t,a);var i=t[this.id];(i||0===i)&&this.store[i]&&(n=this.store[i]);var r=n&&e.isFunction(n.attr)?n.attr(t,this.removeAttr||!1):new this(t);return r}}},o={parseModel:function(t){return function(n){return t?e.getObject(t,n):n}},parseModels:function(t){return function(n){if(e.isArray(n))return n;t=t||"data";var a=e.getObject(t,n);if(!e.isArray(a))throw new Error("Could not get any raw data while converting using .models");return a}}},l={create:{url:"_shortName",type:"post"},update:{data:function(t,n){n=n||{};var a=this.id;return n[a]&&n[a]!==t&&(n["new"+e.capitalize(t)]=n[a],delete n[a]),n[a]=t,n},type:"put"},destroy:{type:"delete",data:function(e,t){return t=t||{},t.id=t[this.id]=e,t}},findAll:{url:"_shortName"},findOne:{}},u=function(e,t){return function(n){return n=e.data?e.data.apply(this,arguments):n,i(t||this[e.url||"_url"],n,e.type||"get")}},c=function(e,t){if(e.resource){var n=e.resource.replace(/\/+$/,"");return"findAll"===t||"create"===t?n:n+"/{"+e.id+"}"}};e.Model=e.Map.extend({fullName:"can.Model",_reqs:0,setup:function(t,a,i,r){if("string"!=typeof a&&(r=i,i=a),r||(r=i),this.store={},e.Map.setup.apply(this,arguments),e.Model){i&&i.List?(this.List=i.List,this.List.Map=this):this.List=t.List.extend({Map:this},{});var d=this,p=e.proxy(this._clean,d);e.each(l,function(n,a){if(i&&i[a]&&("string"==typeof i[a]||"object"==typeof i[a])?d[a]=u(n,i[a]):i&&i.resource&&!e.isFunction(i[a])&&(d[a]=u(n,c(d,a))),d["make"+e.capitalize(a)]){var r=d["make"+e.capitalize(a)](d[a]);e.Construct._overwrite(d,t,a,function(){e.Model._reqs++;var t=r.apply(this,arguments),n=t.then(p,p);return n.abort=t.abort,n})}});var h={};e.each(s,function(n,a){var r="parse"+e.capitalize(a),s=i&&i[a]||d[a];"string"==typeof s?(d[r]=s,e.Construct._overwrite(d,t,a,n)):i&&i[a]&&(h[r]=!0)}),e.each(o,function(n,a){var r=i&&i[a]||d[a];if("string"==typeof r)e.Construct._overwrite(d,t,a,n(r));else if(!(i&&e.isFunction(i[a])||d[a])){var s=n();s.useModelConverter=h[a],e.Construct._overwrite(d,t,a,s)}}),"can.Model"!==d.fullName&&d.fullName||(d.fullName="Model"+ ++n),e.Model._reqs=0,this._url=this._shortName+"/{"+this.id+"}"}},_ajax:u,_makeRequest:r,_clean:function(){if(e.Model._reqs--,!e.Model._reqs)for(var t in this.store)this.store[t]._bindings||delete this.store[t];return arguments[0]},models:s.models,model:s.model},{setup:function(t){var n=t&&t[this.constructor.id];e.Model._reqs&&null!=n&&(this.constructor.store[n]=this),e.Map.prototype.setup.apply(this,arguments)},isNew:function(){var e=a(this);return!(e||0===e)},save:function(e,t){return r(this,this.isNew()?"create":"update",e,t)},destroy:function(t,n){if(this.isNew()){var a=this,i=e.Deferred();return i.then(t,n),i.done(function(e){a.destroyed(e)}).resolve(a)}return r(this,"destroy",t,n,"destroyed")},_bindsetup:function(){return this.constructor.store[this.__get(this.constructor.id)]=this,e.Map.prototype._bindsetup.apply(this,arguments)},_bindteardown:function(){return delete this.constructor.store[a(this)],e.Map.prototype._bindteardown.apply(this,arguments)},___set:function(t,n){e.Map.prototype.___set.call(this,t,n),t===this.constructor.id&&this._bindings&&(this.constructor.store[a(this)]=this)}});var d=function(e){return function(t,n,a){return this[e](t,null,a)}},p=function(e){return this.parseModel.useModelConverter?this.model(e):this.parseModel(e)},h={makeFindAll:d("models"),makeFindOne:d("model"),makeCreate:p,makeUpdate:p};e.each(h,function(n,a){e.Model[a]=function(a){return function(){var i=e.makeArray(arguments),r=e.isFunction(i[1])?i.splice(0,1):i.splice(0,2),s=t(a.apply(this,r),this,n);return s.then(i[0],i[1]),s}}}),e.each(["created","updated","destroyed"],function(t){e.Model.prototype[t]=function(n){var a=this,i=a.constructor;n&&"object"==typeof n&&this.attr(e.isFunction(n.attr)?n.attr():n),e.dispatch.call(this,{type:"change",target:this},[t]),e.dispatch.call(i,t,[this])}});var f=e.Model.List=e.List.extend({_bubbleRule:function(t,n){return e.List._bubbleRule(t,n)||"destroyed"}},{setup:function(t){e.isPlainObject(t)&&!e.isArray(t)?(e.List.prototype.setup.apply(this),this.replace(e.isDeferred(t)?t:this.constructor.Map.findAll(t))):e.List.prototype.setup.apply(this,arguments),this._init=1,this.bind("destroyed",e.proxy(this._destroyed,this)),delete this._init},_destroyed:function(e,t){if(/\w+/.test(t))for(var n;(n=this.indexOf(e.target))>-1;)this.splice(n,1)}});return e.Model}),define("can/view",["can/util/library"],function(e){var t=e.isFunction,n=e.makeArray,a=1,i=function(e){var t=function(){return u.frag(e.apply(this,arguments))};return t.render=function(){return e.apply(e,arguments)},t},r=function(e,t){if(!e.length)throw"can.view: No template or empty template:"+t},s=function(n,a){if(t(n)){var i=e.Deferred();return i.resolve(n)}var s,o,l,c="string"==typeof n?n:n.url,d=n.engine&&"."+n.engine||c.match(/\.[\w\d]+$/);if(c.match(/^#/)&&(c=c.substr(1)),(o=document.getElementById(c))&&(d="."+o.type.match(/\/(x\-)?(.+)/)[2]),d||u.cached[c]||(c+=d=u.ext),e.isArray(d)&&(d=d[0]),l=u.toId(c),c.match(/^\/\//)&&(c=c.substr(2),c=window.steal?steal.config().root.mapJoin(""+steal.id(c)):c),window.require&&require.toUrl&&(c=require.toUrl(c)),s=u.types[d],u.cached[l])return u.cached[l];if(o)return u.registerView(l,o.innerHTML,s);var p=new e.Deferred;return e.ajax({async:a,url:c,dataType:"text",error:function(e){r("",c),p.reject(e)},success:function(e){r(e,c),u.registerView(l,e,s,p)}}),p},o=function(t){var n=[];if(e.isDeferred(t))return[t];for(var a in t)e.isDeferred(t[a])&&n.push(t[a]);return n},l=function(t){return e.isArray(t)&&"success"===t[1]?t[0]:t},u=e.view=e.template=function(e,n,a,i){return t(a)&&(i=a,a=void 0),u.renderAs("fragment",e,n,a,i)};return e.extend(u,{frag:function(e,t){return u.hookup(u.fragment(e),t)},fragment:function(t){if("string"!=typeof t&&11===t.nodeType)return t;var n=e.buildFragment(t,document.body);return n.childNodes.length||n.appendChild(document.createTextNode("")),n},toId:function(t){return e.map(t.toString().split(/\/|\./g),function(e){return e?e:void 0}).join("_")},toStr:function(e){return null==e?"":""+e},hookup:function(t,n){var a,i,r=[];return e.each(t.childNodes?e.makeArray(t.childNodes):t,function(t){1===t.nodeType&&(r.push(t),r.push.apply(r,e.makeArray(t.getElementsByTagName("*"))))}),e.each(r,function(e){e.getAttribute&&(a=e.getAttribute("data-view-id"))&&(i=u.hookups[a])&&(i(e,n,a),delete u.hookups[a],e.removeAttribute("data-view-id"))}),t},hookups:{},hook:function(e){return u.hookups[++a]=e," data-view-id='"+a+"'"},cached:{},cachedRenderers:{},cache:!0,register:function(t){this.types["."+t.suffix]=t,e[t.suffix]=u[t.suffix]=function(e,n){var a,r;if(!n)return r=function(){return a||(a=t.fragRenderer?t.fragRenderer(null,e):i(t.renderer(null,e))),a.apply(this,arguments)},r.render=function(){var n=t.renderer(null,e);return n.apply(n,arguments)},r;var s=function(){return a||(a=t.fragRenderer?t.fragRenderer(e,n):t.renderer(e,n)),a.apply(this,arguments)};return t.fragRenderer?u.preload(e,s):u.preloadStringRenderer(e,s)}},types:{},ext:".ejs",registerScript:function(e,t,n){return"can.view.preloadStringRenderer('"+t+"',"+u.types["."+e].script(t,n)+");"},preload:function(t,n){var a=u.cached[t]=(new e.Deferred).resolve(function(e,t){return n.call(e,e,t)});return a.__view_id=t,u.cachedRenderers[t]=n,n},preloadStringRenderer:function(e,t){return this.preload(e,i(t))},render:function(t,n,a,i){return e.view.renderAs("string",t,n,a,i)},renderTo:function(e,t,n,a){return("string"===e&&t.render?t.render:t)(n,a)},renderAs:function(a,i,r,c,d){t(c)&&(d=c,c=void 0);var p,h,f,m,g,v=o(r);if(v.length)return h=new e.Deferred,f=e.extend({},r),v.push(s(i,!0)),e.when.apply(e,v).then(function(t){var i,s=n(arguments),o=s.pop();if(e.isDeferred(r))f=l(t);else for(var u in r)e.isDeferred(r[u])&&(f[u]=l(s.shift()));i=e.view.renderTo(a,o,f,c),h.resolve(i,f),d&&d(i,f)},function(){h.reject.apply(h,arguments)}),h;if(p=e.__clearReading(),m=t(d),h=s(i,m),p&&e.__setReading(p),m)g=h,h.then(function(t){d(r?e.view.renderTo(a,t,r,c):t)});else{if("resolved"===h.state()&&h.__view_id){var y=u.cachedRenderers[h.__view_id];
return r?e.view.renderTo(a,y,r,c):y}h.then(function(t){g=r?e.view.renderTo(a,t,r,c):t})}return g},registerView:function(t,n,a,r){var s,o="object"==typeof a?a:u.types[a||u.ext];return s=o.fragRenderer?o.fragRenderer(t,n):i(o.renderer(t,n)),r=r||new e.Deferred,u.cache&&(u.cached[t]=r,r.__view_id=t,u.cachedRenderers[t]=s),r.resolve(s)}}),e}),define("can/compute",["can/util/library","can/util/bind","can/util/batch"],function(e,t){var n=[];e.__read=function(e,t){n.push({});var a=e.call(t);return{value:a,observed:n.pop()}},e.__reading=function(e,t){n.length&&(n[n.length-1][e._cid+"|"+t]={obj:e,event:t+""})},e.__clearReading=function(){if(n.length){var e=n[n.length-1];return n[n.length-1]={},e}},e.__setReading=function(e){n.length&&(n[n.length-1]=e)},e.__addReading=function(t){n.length&&e.simpleExtend(n[n.length-1],t)};var a=function(t,n,a,r){var o=e.__read(t,n),l=o.observed;return i(a,l,r),s(a,r),o},i=function(e,t,n){for(var a in t)r(e,t,a,n)},r=function(e,t,n,a){if(e[n])delete e[n];else{var i=t[n];i.obj.bind(i.event,a)}},s=function(e,t){for(var n in e){var a=e[n];a.obj.unbind(a.event,t)}},o=function(t,n,a,i){n!==a&&e.batch.trigger(t,i?{type:"change",batchNum:i}:"change",[n,a])},l=function(t,n,i,r){var s,o,l;return{on:function(u){o||(o=function(e){if(t.bound&&(void 0===e.batchNum||e.batchNum!==l)){var r=s.value;s=a(n,i,s.observed,o),u(s.value,r,e.batchNum),l=l=e.batchNum}}),s=a(n,i,{},o),r(s.value),t.hasDependencies=!e.isEmptyObject(s.observed)},off:function(e){for(var t in s.observed){var n=s.observed[t];n.obj.unbind(n.event,o)}}}},u=function(t,n,i,r){var s,o,l,u;return{on:function(c){l||(l=function(a){if(t.bound&&(void 0===a.batchNum||a.batchNum!==u)){var r=e.__clearReading(),s=n.call(i);e.__setReading(r),c(s,o,a.batchNum),o=s,u=u=a.batchNum}}),s=a(n,i,{},l),o=s.value,r(s.value),t.hasDependencies=!e.isEmptyObject(s.observed)},off:function(e){for(var t in s.observed){var n=s.observed[t];n.obj.unbind(n.event,l)}}}},c=function(t){return t instanceof e.Map||t&&t.__get},d=function(){};e.compute=function(t,a,i,r){if(t&&t.isComputed)return t;for(var s,c,p,h=d,f=d,m=function(){return c},g=function(e){c=e},v=g,y=[],b=function(e,t,n){v(e),o(s,e,t,n)},w=0,x=arguments.length;x>w;w++)y[w]=arguments[w];if(s=function(t){if(arguments.length){var i=c,r=g.call(a,t,i);return s.hasDependencies?m.call(a):(c=void 0===r?m.call(a):r,o(s,c,i),c)}return n.length&&s.canReadForChangeEvent!==!1&&(e.__reading(s,"change"),s.bound||e.compute.temporarilyBind(s)),s.bound?c:m.call(a)},"function"==typeof t){g=t,m=t,s.canReadForChangeEvent=i===!1?!1:!0;var C=r?u(s,t,a||this,v):l(s,t,a||this,v);h=C.on,f=C.off}else if(a)if("string"==typeof a){var k=a,_=t instanceof e.Map;if(_){s.hasDependencies=!0;var T;m=function(){return t.attr(k)},g=function(e){t.attr(k,e)},h=function(n){T=function(e,t,a){n(t,a,e.batchNum)},t.bind(i||k,T),c=e.__read(m).value},f=function(e){t.unbind(i||k,T)}}else m=function(){return t[k]},g=function(e){t[k]=e},h=function(n){T=function(){n(m(),c)},e.bind.call(t,i||k,T),c=e.__read(m).value},f=function(n){e.unbind.call(t,i||k,T)}}else if("function"==typeof a)c=t,g=a,a=i,p="setter";else{c=t;var S=a,P=b;if(a=S.context||S,m=S.get||m,g=S.set||function(){return c},S.fn){var j,E=S.fn;m=function(){return E.call(a,c)},0===E.length?j=l(s,E,a,v):1===E.length?j=l(s,function(){return E.call(a,c)},a,v):(b=function(e){void 0!==e&&P(e,c)},j=l(s,function(){var e=E.call(a,c,function(e){P(e,c)});return void 0!==e?e:c},a,v)),h=j.on,f=j.off}else b=function(){var e=m.call(a);P(e,c)};h=S.on||h,f=S.off||f}else c=t;return e.cid(s,"compute"),e.simpleExtend(s,{isComputed:!0,_bindsetup:function(){this.bound=!0;var t=e.__clearReading();h.call(this,b),e.__setReading(t)},_bindteardown:function(){f.call(this,b),this.bound=!1},bind:e.bindAndSetup,unbind:e.unbindAndTeardown,clone:function(t){return t&&("setter"===p?y[2]=t:y[1]=t),e.compute.apply(e,y)}})};var p,h=function(){for(var e=0,t=p.length;t>e;e++)p[e].unbind("change",d);p=null};return e.compute.temporarilyBind=function(e){e.bind("change",d),p||(p=[],setTimeout(h,10)),p.push(e)},e.compute.truthy=function(t){return e.compute(function(){var e=t();return"function"==typeof e&&(e=e()),!!e})},e.compute.async=function(t,n,a){return e.compute(t,{fn:n,context:a})},e.compute.read=function(t,n,a){a=a||{};for(var i,r,s,o=t,l=0,u=n.length;u>l;l++)if(r=o,r&&r.isComputed&&(a.foundObservable&&a.foundObservable(r,l),r=o=r()),c(r)?(!s&&a.foundObservable&&a.foundObservable(r,l),s=1,o="function"==typeof r[n[l]]&&r.constructor.prototype[n[l]]===r[n[l]]?a.returnObserveMethods?o[n[l]]:"constructor"===n[l]&&r instanceof e.Construct||r[n[l]].prototype instanceof e.Construct?r[n[l]]:r[n[l]].apply(r,a.args||[]):o.attr(n[l])):o=null==o?void 0:r[n[l]],i=typeof o,o&&o.isComputed&&!a.isArgument&&u-1>l?(!s&&a.foundObservable&&a.foundObservable(r,l+1),o=o()):l<n.length-1&&"function"===i&&a.executeAnonymousFunctions&&!(e.Construct&&o.prototype instanceof e.Construct)&&(o=o()),l<n.length-1&&(null===o||"function"!==i&&"object"!==i))return a.earlyExit&&a.earlyExit(r,l,o),{value:void 0,parent:r};return"function"!=typeof o||e.Construct&&o.prototype instanceof e.Construct||e.route&&o===e.route||(a.isArgument?o.isComputed||a.proxyMethods===!1||(o=e.proxy(o,r)):(o.isComputed&&!s&&a.foundObservable&&a.foundObservable(o,l),o=o.call(r))),void 0===o&&a.earlyExit&&a.earlyExit(r,l-1),{value:o,parent:r}},e.compute.set=function(e,t,n){return c(e)?e.attr(t,n):e[t]&&e[t].isComputed?e[t](n):void("object"==typeof e&&(e[t]=n))},e.compute}),define("can/view/scope",["can/util/library","can/construct","can/map","can/list","can/view","can/compute"],function(e){var t=/(\\)?\./g,n=/\\\./g,a=function(e){var a=[],i=0;return e.replace(t,function(t,r,s){r||(a.push(e.slice(i,s).replace(n,".")),i=s+t.length)}),a.push(e.slice(i).replace(n,".")),a},i=e.Construct.extend({read:e.compute.read},{init:function(e,t){this._context=e,this._parent=t,this.__cache={}},attr:function(t,n){var a=e.__clearReading(),i=this.read(t,{isArgument:!0,returnObserveMethods:!0,proxyMethods:!1});if(2===arguments.length){var r=t.lastIndexOf("."),s=-1!==r?t.substring(0,r):".",o=this.read(s,{isArgument:!0,returnObserveMethods:!0,proxyMethods:!1}).value;-1!==r&&(t=t.substring(r+1,t.length)),e.compute.set(o,t,n)}return e.__setReading(a),i.value},add:function(e){return e!==this._context?new this.constructor(e,this):this},computeData:function(t,n){n=n||{args:[]};var a,i,r=this,s={compute:e.compute(function(o){if(!arguments.length){if(a)return e.compute.read(a,i,n).value;var l=r.read(t,n);return a=l.rootObserve,i=l.reads,s.scope=l.scope,s.initialValue=l.value,s.reads=l.reads,s.root=a,l.value}if(a.isComputed)a(o);else if(i.length){var u=i.length-1,c=i.length?e.compute.read(a,i.slice(0,u)).value:a;e.compute.set(c,i[u],o)}})};return s},compute:function(e,t){return this.computeData(e,t).compute},read:function(t,n){var i;if("./"===t.substr(0,2))i=!0,t=t.substr(2);else{if("../"===t.substr(0,3))return this._parent.read(t.substr(3),n);if(".."===t)return{value:this._parent._context};if("."===t||"this"===t)return{value:this._context}}for(var r,s,o,l,u,c,d=-1===t.indexOf("\\.")?t.split("."):a(t),p=this,h=[],f=-1;p;){if(r=p._context,null!==r){var m=e.compute.read(r,d,e.simpleExtend({foundObservable:function(e,t){u=e,c=d.slice(t)},earlyExit:function(t,n){n>f&&(s=u,h=c,f=n,l=p,o=e.__clearReading())},executeAnonymousFunctions:!0},n));if(void 0!==m.value)return{scope:p,rootObserve:u,value:m.value,reads:c}}e.__clearReading(),p=i?null:p._parent}return s?(e.__setReading(o),{scope:l,rootObserve:s,reads:h,value:void 0}):{names:d,value:void 0}}});return e.view.Scope=i,i}),define("can/view/elements",["can/util/library","can/view"],function(e){var t=function(){return 1===e.$(document.createComment("~")).length}(),n={tagToContentPropMap:{option:"textContent"in document.createElement("option")?"textContent":"innerText",textarea:"value"},attrMap:e.attr.map,attrReg:/([^\s=]+)[\s]*=[\s]*/,defaultValue:e.attr.defaultValue,tagMap:{"":"span",colgroup:"col",table:"tbody",tr:"td",ol:"li",ul:"li",tbody:"tr",thead:"tr",tfoot:"tr",select:"option",optgroup:"option"},reverseTagMap:{col:"colgroup",tr:"tbody",option:"select",td:"tr",th:"tr",li:"ul"},getParentNode:function(e,t){return t&&11===e.parentNode.nodeType?t:e.parentNode},setAttr:e.attr.set,getAttr:e.attr.get,removeAttr:e.attr.remove,contentText:function(e){return"string"==typeof e?e:e||0===e?""+e:""},after:function(t,n){var a=t[t.length-1];a.nextSibling?e.insertBefore(a.parentNode,n,a.nextSibling):e.appendChild(a.parentNode,n)},replace:function(a,i){n.after(a,i),e.remove(e.$(a)).length<a.length&&!t&&e.each(a,function(e){8===e.nodeType&&e.parentNode.removeChild(e)})}};return e.view.elements=n,n}),define("can/view/callbacks",["can/util/library","can/view"],function(e){var t=e.view.attr=function(e,t){if(!t){var i=n[e];if(!i)for(var r=0,s=a.length;s>r;r++){var o=a[r];if(o.match.test(e)){i=o.handler;break}}return i}"string"==typeof e?n[e]=t:a.push({match:e,handler:t})},n={},a=[],i=/[-\:]/,r=e.view.tag=function(e,t){if(!t){var n=s[e.toLowerCase()];return!n&&i.test(e)&&(n=function(){}),n}window.html5&&(window.html5.elements+=" "+e,window.html5.shivDocument()),s[e.toLowerCase()]=t},s={};return e.view.callbacks={_tags:s,_attributes:n,_regExpAttributes:a,tag:r,attr:t,tagHandler:function(t,n,a){var i,r=a.options.attr("tags."+n),o=r||s[n],l=a.scope;if(o){var u=e.__clearReading();i=o(t,a),e.__setReading(u)}else i=l;if(i&&a.subtemplate){l!==i&&(l=l.add(i));var c=a.subtemplate(l,a.options),d="string"==typeof c?e.view.frag(c):c;e.appendChild(t,d)}}},e.view.callbacks}),define("can/view/scanner",["can/view","can/view/elements","can/view/callbacks"],function(can,elements,viewCallbacks){var newLine=/(\r|\n)+/g,notEndTag=/\//,clean=function(e){return e.split("\\").join("\\\\").split("\n").join("\\n").split('"').join('\\"').split("	").join("\\t")},getTag=function(e,t,n){if(e)return e;for(;n<t.length;){if("<"===t[n]&&!notEndTag.test(t[n+1]))return elements.reverseTagMap[t[n+1]]||"span";n++}return""},bracketNum=function(e){return--e.split("{").length- --e.split("}").length},myEval=function(script){eval(script)},attrReg=/([^\s]+)[\s]*=[\s]*$/,startTxt="var ___v1ew = [];",finishTxt="return ___v1ew.join('')",put_cmd="___v1ew.push(\n",insert_cmd=put_cmd,htmlTag=null,quote=null,beforeQuote=null,rescan=null,getAttrName=function(){var e=beforeQuote.match(attrReg);return e&&e[1]},status=function(){return quote?"'"+getAttrName()+"'":htmlTag?1:0},top=function(e){return e[e.length-1]},Scanner;return can.view.Scanner=Scanner=function(e){can.extend(this,{text:{},tokens:[]},e),this.text.options=this.text.options||"",this.tokenReg=[],this.tokenSimple={"<":"<",">":">",'"':'"',"'":"'"},this.tokenComplex=[],this.tokenMap={};for(var t,n=0;t=this.tokens[n];n++)t[2]?(this.tokenReg.push(t[2]),this.tokenComplex.push({abbr:t[1],re:new RegExp(t[2]),rescan:t[3]})):(this.tokenReg.push(t[1]),this.tokenSimple[t[1]]=t[0]),this.tokenMap[t[0]]=t[1];this.tokenReg=new RegExp("("+this.tokenReg.slice(0).concat(["<",">",'"',"'"]).join("|")+")","g")},Scanner.prototype={helpers:[],scan:function(e,t){var n=[],a=0,i=this.tokenSimple,r=this.tokenComplex;e=e.replace(newLine,"\n"),this.transform&&(e=this.transform(e)),e.replace(this.tokenReg,function(t,s){var o=arguments[arguments.length-2];if(o>a&&n.push(e.substring(a,o)),i[t])n.push(t);else for(var l,u=0;l=r[u];u++)if(l.re.test(t)){n.push(l.abbr),l.rescan&&n.push(l.rescan(s));break}a=o+s.length}),a<e.length&&n.push(e.substr(a));var s,o,l,u,c="",d=[startTxt+(this.text.start||"")],p=function(e,t){d.push(put_cmd,'"',clean(e),'"'+(t||"")+");")},h=[],f=null,m=!1,g={attributeHookups:[],tagHookups:[],lastTagHookup:""},v=function(){g.lastTagHookup=g.tagHookups.pop()+g.tagHookups.length},y="",b=[],w=!1,x=!1,C=0,k=this.tokenMap;for(htmlTag=quote=beforeQuote=null;void 0!==(l=n[C++]);){if(null===f)switch(l){case k.left:case k.escapeLeft:case k.returnLeft:m=htmlTag&&1;case k.commentLeft:f=l,c.length&&p(c),c="";break;case k.escapeFull:m=htmlTag&&1,rescan=1,f=k.escapeLeft,c.length&&p(c),rescan=n[C++],c=rescan.content||rescan,rescan.before&&p(rescan.before),n.splice(C,0,k.right);break;case k.commentFull:break;case k.templateLeft:c+=k.left;break;case"<":0!==n[C].indexOf("!--")&&(htmlTag=1,m=0),c+=l;break;case">":htmlTag=0;var _="/"===c.substr(c.length-1)||"--"===c.substr(c.length-2),T="";if(g.attributeHookups.length&&(T="attrs: ['"+g.attributeHookups.join("','")+"'], ",g.attributeHookups=[]),y+g.tagHookups.length!==g.lastTagHookup&&y===top(g.tagHookups))_&&(c=c.substr(0,c.length-1)),d.push(put_cmd,'"',clean(c),'"',",can.view.pending({tagName:'"+y+"',"+T+"scope: "+(this.text.scope||"this")+this.text.options),_?(d.push("}));"),c="/>",v()):"<"===n[C]&&n[C+1]==="/"+y?(d.push("}));"),c=l,v()):(d.push(",subtemplate: function("+this.text.argNames+"){\n"+startTxt+(this.text.start||"")),c="");else if(m||!w&&elements.tagToContentPropMap[b[b.length-1]]||T){var S=",can.view.pending({"+T+"scope: "+(this.text.scope||"this")+this.text.options+'}),"';_?p(c.substr(0,c.length-1),S+'/>"'):p(c,S+'>"'),c="",m=0}else c+=l;(_||w)&&(b.pop(),y=b[b.length-1],w=!1),g.attributeHookups=[];break;case"'":case'"':if(htmlTag)if(quote&&quote===l){quote=null;var P=getAttrName();if(viewCallbacks.attr(P)&&g.attributeHookups.push(P),x){c+=l,p(c),d.push(finishTxt,"}));\n"),c="",x=!1;break}}else if(null===quote&&(quote=l,beforeQuote=s,u=getAttrName(),"img"===y&&"src"===u||"style"===u)){p(c.replace(attrReg,"")),c="",x=!0,d.push(insert_cmd,"can.view.txt(2,'"+getTag(y,n,C)+"',"+status()+",this,function(){",startTxt),p(u+"="+l);break}default:if("<"===s){y="!--"===l.substr(0,3)?"!--":l.split(/\s/)[0];var j,E=!1;0===y.indexOf("/")&&(E=!0,j=y.substr(1)),E?(top(b)===j&&(y=j,w=!0),top(g.tagHookups)===j&&(p(c.substr(0,c.length-1)),d.push(finishTxt+"}}) );"),c="><",v())):(y.lastIndexOf("/")===y.length-1&&(y=y.substr(0,y.length-1)),"!--"!==y&&viewCallbacks.tag(y)&&("content"===y&&elements.tagMap[top(b)]&&(l=l.replace("content",elements.tagMap[top(b)])),g.tagHookups.push(y)),b.push(y))}c+=l}else switch(l){case k.right:case k.returnRight:switch(f){case k.left:o=bracketNum(c),1===o?(d.push(insert_cmd,"can.view.txt(0,'"+getTag(y,n,C)+"',"+status()+",this,function(){",startTxt,c),h.push({before:"",after:finishTxt+"}));\n"})):(a=h.length&&-1===o?h.pop():{after:";"},a.before&&d.push(a.before),d.push(c,";",a.after));break;case k.escapeLeft:case k.returnLeft:o=bracketNum(c),o&&h.push({before:finishTxt,after:"}));\n"});for(var N=f===k.escapeLeft?1:0,O={insert:insert_cmd,tagName:getTag(y,n,C),status:status(),specialAttribute:x},M=0;M<this.helpers.length;M++){var A=this.helpers[M];if(A.name.test(c)){c=A.fn(c,O),A.name.source===/^>[\s]*\w*/.source&&(N=0);break}}"object"==typeof c?c.startTxt&&c.end&&x?d.push(insert_cmd,"can.view.toStr( ",c.content,"() ) );"):(c.startTxt?d.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||(null!=c.escaped?c.escaped:N))+",\n'"+y+"',\n"+status()+",\nthis,\n"):c.startOnlyTxt&&d.push(insert_cmd,"can.view.onlytxt(this,\n"),d.push(c.content),c.end&&d.push("));")):x?d.push(insert_cmd,c,");"):d.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||N)+",\n'"+y+"',\n"+status()+",\nthis,\nfunction(){ "+(this.text.escape||"")+"return ",c,o?startTxt:"}));\n"),rescan&&rescan.after&&rescan.after.length&&(p(rescan.after.length),rescan=null)}f=null,c="";break;case k.templateLeft:c+=k.left;break;default:c+=l}s=l}c.length&&p(c),d.push(";");var L=d.join(""),D={out:(this.text.outStart||"")+L+" "+finishTxt+(this.text.outEnd||"")};return myEval.call(D,"this.fn = (function("+this.text.argNames+"){"+D.out+"});\r\n//# sourceURL="+t+".js"),D}},can.view.pending=function(e){var t=can.view.getHooks();return can.view.hook(function(n){can.each(t,function(e){e(n)}),e.templateType="legacy",e.tagName&&viewCallbacks.tagHandler(n,e.tagName,e),can.each(e&&e.attrs||[],function(t){e.attributeName=t;var a=viewCallbacks.attr(t);a&&a(n,e)})})},can.view.tag("content",function(e,t){return t.scope}),can.view.Scanner=Scanner,Scanner}),define("can/view/node_lists",["can/util/library","can/view/elements"],function(e){var t=!0;try{document.createTextNode("")._=0}catch(n){t=!1}var a={},i={},r="ejs_"+Math.random(),s=0,o=function(e,n){var a=n||i,o=l(e,a);return o?o:t||3!==e.nodeType?(++s,e[r]=(e.nodeName?"element_":"obj_")+s):(++s,a["text_"+s]=e,"text_"+s)},l=function(e,n){if(t||3!==e.nodeType)return e[r];for(var a in n)if(n[a]===e)return a},u=[].splice,c=[].push,d=function(e){for(var t=0,n=0,a=e.length;a>n;n++){var i=e[n];i.nodeType?t++:t+=d(i)}return t},p=function(e,t){for(var n={},a=0,i=e.length;i>a;a++){var r=h.first(e[a]);n[o(r,t)]=e[a]}return n},h={id:o,update:function(t,n){var a=h.unregisterChildren(t);n=e.makeArray(n);var i=t.length;return u.apply(t,[0,i].concat(n)),t.replacements?h.nestReplacements(t):h.nestList(t),a},nestReplacements:function(e){for(var t=0,n={},a=p(e.replacements,n),i=e.replacements.length;t<e.length&&i;){var r=e[t],s=a[l(r,n)];s&&(e.splice(t,d(s),s),i--),t++}e.replacements=[]},nestList:function(e){for(var t=0;t<e.length;){var n=e[t],i=a[o(n)];i?i!==e&&e.splice(t,d(i),i):a[o(n)]=e,t++}},last:function(e){var t=e[e.length-1];return t.nodeType?t:h.last(t)},first:function(e){var t=e[0];return t.nodeType?t:h.first(t)},register:function(e,t,n){return e.unregistered=t,e.parentList=n,n===!0?e.replacements=[]:n?(n.replacements.push(e),e.replacements=[]):h.nestList(e),e},unregisterChildren:function(t){var n=[];return e.each(t,function(e){e.nodeType?(t.replacements||delete a[o(e)],n.push(e)):c.apply(n,h.unregister(e))}),n},unregister:function(e){var t=h.unregisterChildren(e);if(e.unregistered){var n=e.unregistered;delete e.unregistered,delete e.replacements,n()}return t},nodeMap:a};return e.view.nodeLists=h,h}),define("can/view/parser",["can/view"],function(e){function t(e){for(var t={},n=e.split(","),a=0;a<n.length;a++)t[n[a]]=!0;return t}var n="-:A-Za-z0-9_",a="[a-zA-Z_:]["+n+":.]*",i="\\s*=\\s*",r='"((?:\\\\.|[^"])*)"',s="'((?:\\\\.|[^'])*)'",o="(?:"+i+"(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?",l="\\{\\{[^\\}]*\\}\\}\\}?",u="\\{\\{([^\\}]*)\\}\\}\\}?",c=new RegExp("^<(["+n+"]+)((?:\\s*(?:(?:(?:"+a+")?"+o+")|(?:"+l+")+))*)\\s*(\\/?)>"),d=new RegExp("^<\\/(["+n+"]+)[^>]*>"),p=new RegExp("(?:(?:("+a+")|"+u+")(?:"+i+"(?:(?:"+r+")|(?:"+s+")|([^>\\s]+)))?)","g"),h=new RegExp(u,"g"),f=/<|\{\{/,m=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),g=t("address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),v=t("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),y=t("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),b=t("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),w=t("script,style"),x=function(e,t){function n(e,n,i,r){if(n=n.toLowerCase(),g[n])for(;l.last()&&v[l.last()];)a("",l.last());y[n]&&l.last()===n&&a("",n),r=m[n]||!!r,t.start(n,r),r||l.push(n),x.parseAttrs(i,t),t.end(n,r)}function a(e,n){var a;if(n)for(a=l.length-1;a>=0&&l[a]!==n;a--);else a=0;if(a>=0){for(var i=l.length-1;i>=a;i--)t.close&&t.close(l[i]);l.length=a}}function i(e,n){t.special&&t.special(n)}var r,s,o,l=[],u=e;for(l.last=function(){return this[this.length-1]};e;){if(s=!0,l.last()&&w[l.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+l.last()+"[^>]*>"),function(e,n){return n=n.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),t.chars&&t.chars(n),""}),a("",l.last());else if(0===e.indexOf("<!--")?(r=e.indexOf("-->"),r>=0&&(t.comment&&t.comment(e.substring(4,r)),e=e.substring(r+3),s=!1)):0===e.indexOf("</")?(o=e.match(d),o&&(e=e.substring(o[0].length),o[0].replace(d,a),s=!1)):0===e.indexOf("<")?(o=e.match(c),o&&(e=e.substring(o[0].length),o[0].replace(c,n),s=!1)):0===e.indexOf("{{")&&(o=e.match(h),o&&(e=e.substring(o[0].length),o[0].replace(h,i))),s){r=e.search(f);var p=0>r?e:e.substring(0,r);e=0>r?"":e.substring(r),t.chars&&p&&t.chars(p)}if(e===u)throw"Parse Error: "+e;u=e}a(),t.done()};return x.parseAttrs=function(e,t){(null!=e?e:"").replace(p,function(e,n,a,i,r,s){if(a&&t.special(a),n||i||r||s){var o=arguments[3]?arguments[3]:arguments[4]?arguments[4]:arguments[5]?arguments[5]:b[n.toLowerCase()]?n:"";t.attrStart(n||"");for(var l,u=h.lastIndex=0,c=h.exec(o);c;)l=o.substring(u,h.lastIndex-c[0].length),l.length&&t.attrValue(l),t.special(c[1]),u=h.lastIndex,c=h.exec(o);l=o.substr(u,o.length),l&&t.attrValue(l),t.attrEnd(n||"")}})},e.view.parser=x,x}),define("can/view/live",["can/util/library","can/view/elements","can/view","can/view/node_lists","can/view/parser"],function(e,t,n,a,i){t=t||e.view.elements,a=a||e.view.NodeLists,i=i||e.view.parser;var r=function(t,n,a){var i=!1,r=function(){return i||(i=!0,a(s),e.unbind.call(t,"removed",r)),!0},s={teardownCheck:function(e){return e?!1:r()}};return e.bind.call(t,"removed",r),n(s),s},s=function(e,t,n){return r(e,function(){t.bind("change",n)},function(e){t.unbind("change",n),e.nodeList&&a.unregister(e.nodeList)})},o=function(e){var t,n={};return i.parseAttrs(e,{attrStart:function(e){n[e]="",t=e},attrValue:function(e){n[t]+=e},attrEnd:function(){}}),n},l=[].splice,u=function(e){return e&&e.nodeType},c=function(e){e.childNodes.length||e.appendChild(document.createTextNode(""))},d={list:function(n,i,s,o,u,c){var p,h=c||[n],f=[],m=function(n,i,r){var u=document.createDocumentFragment(),d=[],p=[];e.each(i,function(t,n){var i=[];c&&a.register(i,null,!0);var l=e.compute(n+r),h=s.call(o,t,l,i),f="string"==typeof h,m=e.frag(h);m=f?e.view.hookup(m):m;var g=e.makeArray(m.childNodes);c?(a.update(i,g),d.push(i)):d.push(a.register(g)),u.appendChild(m),p.push(l)});var m=r+1;if(h[m]){var g=a.first(h[m]);e.insertBefore(g.parentNode,u,g)}else t.after(1===m?[v]:[a.last(h[m-1])],u);l.apply(h,[m,0].concat(d)),l.apply(f,[r,0].concat(p));for(var y=r+p.length,b=f.length;b>y;y++)f[y](y)},g=function(t,n,i,r,s){if(r||!w.teardownCheck(v.parentNode)){0>i&&(i=f.length+i);var o=h.splice(i+1,n.length),l=[];e.each(o,function(e){var t=a.unregister(e);[].push.apply(l,t)}),f.splice(i,n.length);for(var u=i,c=f.length;c>u;u++)f[u](u);s||e.remove(e.$(l))}},v=document.createTextNode(""),y=function(e){p&&p.unbind&&p.unbind("add",m).unbind("remove",g),g({},{length:h.length-1},0,!0,e)},b=function(e,t,n){y(),p=t||[],p.bind&&p.bind("add",m).bind("remove",g),m({},p,0)};u=t.getParentNode(n,u);var w=r(u,function(){e.isFunction(i)&&i.bind("change",b)},function(){e.isFunction(i)&&i.unbind("change",b),y(!0)});c?(t.replace(h,v),a.update(h,[v]),c.unregistered=w.teardownCheck):d.replace(h,v,w.teardownCheck),b({},e.isFunction(i)?i():i)},html:function(n,i,r,o){var l;r=t.getParentNode(n,r),l=s(r,i,function(e,t,n){var i=a.first(d).parentNode;i&&p(t),l.teardownCheck(a.first(d).parentNode)});var d=o||[n],p=function(n){var i=!u(n),s=e.frag(n),o=e.makeArray(d);c(s),i&&(s=e.view.hookup(s,r)),o=a.update(d,s.childNodes),t.replace(o,s)};l.nodeList=d,o?o.unregistered=l.teardownCheck:a.register(d,l.teardownCheck),p(i())},replace:function(n,i,r){var s=n.slice(0),o=e.frag(i);return a.register(n,r),"string"==typeof i&&(o=e.view.hookup(o,n[0].parentNode)),a.update(n,o.childNodes),t.replace(s,o),n},text:function(n,i,r,o){var l=t.getParentNode(n,r),u=s(l,i,function(t,n,a){"unknown"!=typeof c.nodeValue&&(c.nodeValue=e.view.toStr(n)),u.teardownCheck(c.parentNode)}),c=document.createTextNode(e.view.toStr(i()));o?(o.unregistered=u.teardownCheck,u.nodeList=o,a.update(o,[c]),t.replace([n],c)):u.nodeList=d.replace([n],c,u.teardownCheck)},setAttributes:function(t,n){var a=o(n);for(var i in a)e.attr.set(t,i,a[i])},attributes:function(n,a,i){var r={},l=function(a){var i,s=o(a);for(i in s){var l=s[i],u=r[i];l!==u&&e.attr.set(n,i,l),delete r[i]}for(i in r)t.removeAttr(n,i);r=s};s(n,a,function(e,t){l(t)}),arguments.length>=3?r=o(i):l(a())},attributePlaceholder:"__!!__",attributeReplace:/__!!__/g,attribute:function(n,a,i){s(n,i,function(e,i){t.setAttr(n,a,l.render())});var r,o=e.$(n);r=e.data(o,"hooks"),r||e.data(o,"hooks",r={});var l,u=t.getAttr(n,a),c=u.split(d.attributePlaceholder),p=[];p.push(c.shift(),c.join(d.attributePlaceholder)),r[a]?r[a].computes.push(i):r[a]={render:function(){var e=0,n=u?u.replace(d.attributeReplace,function(){return t.contentText(l.computes[e++]())}):t.contentText(l.computes[e++]());return n},computes:[i],batchNum:void 0},l=r[a],p.splice(1,0,i()),t.setAttr(n,a,p.join(""))},specialAttribute:function(e,n,a){s(e,a,function(a,i){t.setAttr(e,n,h(i))}),t.setAttr(e,n,h(a()))},simpleAttribute:function(e,n,a){s(e,a,function(a,i){t.setAttr(e,n,i)}),t.setAttr(e,n,a())}};d.attr=d.simpleAttribute,d.attrs=d.attributes;var p=/(\r|\n)+/g,h=function(e){var n=/^["'].*["']$/;return e=e.replace(t.attrReg,"").replace(p,""),n.test(e)?e.substr(1,e.length-2):e};return e.view.live=d,d}),define("can/view/render",["can/view","can/view/elements","can/view/live","can/util/string"],function(e,t,n){var a,i=[],r=function(e){var n=t.tagMap[e]||"span";return"span"===n?"@@!!@@":"<"+n+">"+r(n)+"</"+n+">"},s=function(t,n){if("string"==typeof t)return t;if(!t&&0!==t)return"";var a=t.hookup&&function(e,n){t.hookup.call(t,e,n)}||"function"==typeof t&&t;return a?n?"<"+n+" "+e.view.hook(a)+"></"+n+">":(i.push(a),""):""+t},o=function(t,n){return"string"==typeof t||"number"==typeof t?e.esc(t):s(t,n)},l=!1,u=function(){};return e.extend(e.view,{live:n,setupLists:function(){var t,n=e.view.lists;return e.view.lists=function(e,n){return t={list:e,renderer:n},Math.random()},function(){return e.view.lists=n,t}},getHooks:function(){var e=i.slice(0);return a=e,i=[],e},onlytxt:function(e,t){return o(t.call(e))},txt:function(c,d,p,h,f){var m,g,v,y,b=t.tagMap[d]||"span",w=!1,x=u;if(l)m=f.call(h);else{("string"==typeof p||1===p)&&(l=!0);var C=e.view.setupLists();x=function(){v.unbind("change",u)},v=e.compute(f,h,!1),v.bind("change",u),g=C(),m=v(),l=!1,w=v.hasDependencies}if(g)return x(),"<"+b+e.view.hook(function(e,t){n.list(e,g.list,g.renderer,h,t)})+"></"+b+">";if(!w||"function"==typeof m)return x(),(l||2===c||!c?s:o)(m,0===p&&b);var k=t.tagToContentPropMap[d];return 0!==p||k?1===p?(i.push(function(e){n.attributes(e,v,v()),x()}),v()):2===c?(y=p,i.push(function(e){n.specialAttribute(e,y,v),x()}),v()):(y=0===p?k:p,(0===p?a:i).push(function(e){n.attribute(e,y,v),x()}),n.attributePlaceholder):"<"+b+e.view.hook(c&&"object"!=typeof m?function(e,t){n.text(e,v,t),x()}:function(e,t){n.html(e,v,t),x()})+">"+r(b)+"</"+b+">"}}),e}),define("can/view/mustache",["can/util/library","can/view/scope","can/view","can/view/scanner","can/compute","can/view/render"],function(e){e.view.ext=".mustache";var t="scope",n="___h4sh",a="{scope:"+t+",options:options}",i="{scope:"+t+",options:options, special: true}",r=t+",options",s=/((([^'"\s]+?=)?('.*?'|".*?"))|.*?)\s/g,o=/^(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false|null|undefined)|((.+?)=(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false)|(.+))))$/,l=function(e){return'{get:"'+e.replace(/"/g,'\\"')+'"}'},u=function(e){return e&&"string"==typeof e.get},c=function(t){return t instanceof e.Map||t&&!!t._get},d=function(e){return e&&e.splice&&"number"==typeof e.length},p=function(t,n,a){var i=function(e,a){return t(e||n,a)};return function(t,r){return void 0===t||t instanceof e.view.Scope||(t=n.add(t)),void 0===r||r instanceof e.view.Options||(r=a.add(r)),i(t,r||a)}},h=function(t,n){if(this.constructor!==h){var a=new h(t);return function(e,t){return a.render(e,t)}}return"function"==typeof t?void(this.template={fn:t}):(e.extend(this,t),void(this.template=this.scanner.scan(this.text,this.name)))};e.Mustache=window.Mustache=h,h.prototype.render=function(t,n){return t instanceof e.view.Scope||(t=new e.view.Scope(t||{})),n instanceof e.view.Options||(n=new e.view.Options(n||{})),n=n||{},this.template.fn.call(t,t,n)},e.extend(h.prototype,{scanner:new e.view.Scanner({text:{start:"",scope:t,options:",options: options",argNames:r},tokens:[["returnLeft","{{{","{{[{&]"],["commentFull","{{!}}","^[\\s\\t]*{{!.+?}}\\n"],["commentLeft","{{!","(\\n[\\s\\t]*{{!|{{!)"],["escapeFull","{{}}","(^[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}$)",function(e){return{before:/^\n.+?\n$/.test(e)?"\n":"",content:e.match(/\{\{(.+?)\}\}/)[1]||""}}],["escapeLeft","{{"],["returnRight","}}}"],["right","}}"]],helpers:[{name:/^>[\s]*\w*/,fn:function(t,n){var a=e.trim(t.replace(/^>\s?/,"")).replace(/["|']/g,"");return"can.Mustache.renderPartial('"+a+"',"+r+")"}},{name:/^\s*data\s/,fn:function(e,n){var a=e.match(/["|'](.*)["|']/)[1];return"can.proxy(function(__){can.data(can.$(__),'"+a+"', this.attr('.')); }, "+t+")"}},{name:/\s*\(([\$\w]+)\)\s*->([^\n]*)/,fn:function(e){var n=/\s*\(([\$\w]+)\)\s*->([^\n]*)/,a=e.match(n);return"can.proxy(function(__){var "+a[1]+"=can.$(__);with("+t+".attr('.')){"+a[2]+"}}, this);"}},{name:/^.*$/,fn:function(t,u){var c=!1,d={content:"",startTxt:!1,startOnlyTxt:!1,end:!1};if(t=e.trim(t),t.length&&(c=t.match(/^([#^\/]|else$)/))){switch(c=c[0]){case"#":case"^":u.specialAttribute?d.startOnlyTxt=!0:(d.startTxt=!0,d.escaped=0);break;case"/":return d.end=!0,d.content+='return ___v1ew.join("");}}])',d}t=t.substring(1)}if("else"!==c){var p,h=[],f=[],m=0;d.content+="can.Mustache.txt(\n"+(u.specialAttribute?i:a)+",\n"+(c?'"'+c+'"':"null")+",",(e.trim(t)+" ").replace(s,function(e,t){m&&(p=t.match(o))?p[2]?h.push(p[0]):f.push(p[4]+":"+(p[6]?p[6]:l(p[5]))):h.push(l(t)),m++}),d.content+=h.join(","),f.length&&(d.content+=",{"+n+":{"+f.join(",")+"}}")}switch(c&&"else"!==c&&(d.content+=",[\n\n"),c){case"^":case"#":d.content+="{fn:function("+r+"){var ___v1ew = [];";break;case"else":d.content+='return ___v1ew.join("");}},\n{inverse:function('+r+"){\nvar ___v1ew = [];";break;default:d.content+=")"}return c||(d.startTxt=!0,d.end=!0),d}}]})});for(var f=e.view.Scanner.prototype.helpers,m=0;m<f.length;m++)h.prototype.scanner.helpers.unshift(f[m]);return h.txt=function(t,a,i){for(var r,s,o=t.scope,l=t.options,f=[],m={fn:function(){},inverse:function(){}},g=o.attr("."),v=!0,y=3;y<arguments.length;y++){var b=arguments[y];if(a&&e.isArray(b))m=e.extend.apply(e,[m].concat(b));else if(b&&b[n]){r=b[n];for(var w in r)u(r[w])&&(r[w]=h.get(r[w].get,t,!1,!0))}else b&&u(b)?f.push(h.get(b.get,t,!1,!0,!0)):f.push(b)}if(u(i)){var x=i.get;i=h.get(i.get,t,f.length,!1),v=x===i}if(m.fn=p(m.fn,o,l),m.inverse=p(m.inverse,o,l),"^"===a){var C=m.fn;m.fn=m.inverse,m.inverse=C}return(s=v&&"string"==typeof i&&h.getHelper(i,l)||e.isFunction(i)&&!i.isComputed&&{fn:i})?(e.extend(m,{context:g,scope:o,contexts:o,hash:r}),f.push(m),function(){return s.fn.apply(g,f)||""}):function(){var t;t=e.isFunction(i)&&i.isComputed?i():i;var n,r,s,o=f.length?f:[t],l=!0,u=[];if(a)for(n=0;n<o.length;n++)s=o[n],r="undefined"!=typeof s&&c(s),d(s)?"#"===a?l=l&&!!(r?s.attr("length"):s.length):"^"===a&&(l=l&&!(r?s.attr("length"):s.length)):l="#"===a?l&&!!s:"^"===a?l&&!s:l;if(l){if("#"===a){if(d(t)){var p=c(t);for(n=0;n<t.length;n++)u.push(m.fn(p?t.attr(""+n):t[n]));return u.join("")}return m.fn(t||{})||""}return"^"===a?m.inverse(t||{})||"":""+(null!=t?t:"")}return""}},h.get=function(t,n,a,i,r){var s=n.scope.attr("."),o=n.options||{};if(a){if(h.getHelper(t,o))return t;if(n.scope&&e.isFunction(s[t]))return s[t]}var l=n.scope.computeData(t,{isArgument:i,args:[s,n.scope]}),u=l.compute;e.compute.temporarilyBind(u);var c=l.initialValue;h.getHelper(t,o);return r||void 0!==c&&l.scope===n.scope||!h.getHelper(t,o)?u.hasDependencies?u:c:t},h.resolve=function(t){return c(t)&&d(t)&&t.attr("length")?t:e.isFunction(t)?t():t},e.view.Options=e.view.Scope.extend({init:function(t,n){t.helpers||t.partials||t.tags||(t={helpers:t}),e.view.Scope.prototype.init.apply(this,arguments)}}),h._helpers={},h.registerHelper=function(e,t){this._helpers[e]={name:e,fn:t}},h.getHelper=function(e,t){var n;return t&&(n=t.attr("helpers."+e)),
n?{fn:n}:this._helpers[e]},h.render=function(t,n,a){if(!e.view.cached[t]){var i=e.__clearReading();n.attr("partial")&&(t=n.attr("partial")),e.__setReading(i)}return e.view.render(t,n,a)},h.safeString=function(e){return{toString:function(){return e}}},h.renderPartial=function(t,n,a){var i=a.attr("partials."+t);return i?i.render?i.render(n,a):i(n,a):e.Mustache.render(t,n,a)},e.each({"if":function(t,n){var a;return a=e.isFunction(t)?e.compute.truthy(t)():!!h.resolve(t),a?n.fn(n.contexts||this):n.inverse(n.contexts||this)},unless:function(t,n){return h._helpers["if"].fn.apply(this,[e.isFunction(t)?e.compute(function(){return!t()}):!t,n])},each:function(t,n){var a,i,r,s=h.resolve(t),o=[];if(e.view.lists&&(s instanceof e.List||t&&t.isComputed&&void 0===s))return e.view.lists(t,function(e,t){return n.fn(n.scope.add({"@index":t}).add(e))});if(t=s,t&&d(t)){for(r=0;r<t.length;r++)o.push(n.fn(n.scope.add({"@index":r}).add(t[r])));return o.join("")}if(c(t)){for(a=e.Map.keys(t),r=0;r<a.length;r++)i=a[r],o.push(n.fn(n.scope.add({"@key":i}).add(t[i])));return o.join("")}if(t instanceof Object){for(i in t)o.push(n.fn(n.scope.add({"@key":i}).add(t[i])));return o.join("")}},"with":function(e,t){var n=e;return e=h.resolve(e),e?t.fn(n):void 0},log:function(e,t){"undefined"!=typeof console&&console.log&&(t?console.log(e,t.context):console.log(e.context))},"@index":function(t,n){n||(n=t,t=0);var a=n.scope.attr("@index");return""+((e.isFunction(a)?a():a)+t)}},function(e,t){h.registerHelper(t,e)}),e.view.register({suffix:"mustache",contentType:"x-mustache-template",script:function(e,t){return"can.Mustache(function("+r+") { "+new h({text:t,name:e}).template.out+" })"},renderer:function(e,t){return h({text:t,name:e})}}),e.mustache.registerHelper=e.proxy(e.Mustache.registerHelper,e.Mustache),e.mustache.safeString=e.Mustache.safeString,e}),define("can/observe",["can/util/library","can/map","can/list","can/compute"],function(e){return e.Observe=e.Map,e.Observe.startBatch=e.batch.start,e.Observe.stopBatch=e.batch.stop,e.Observe.triggerBatch=e.batch.trigger,e}),define("can/view/bindings",["can/util/library","can/view/mustache","can/control"],function(e){var t=function(){var e={"":!0,"true":!0,"false":!1},t=function(t){if(t&&t.getAttribute){var n=t.getAttribute("contenteditable");return e[n]}};return function(e){var n=t(e);return"boolean"==typeof n?n:!!t(e.parentNode)}}(),n=function(e){return"{"===e[0]&&"}"===e[e.length-1]?e.substr(1,e.length-2):e};e.view.attr("can-value",function(a,l){var u,c,d=n(a.getAttribute("can-value")),p=l.scope.computeData(d,{args:[]}).compute;return"input"===a.nodeName.toLowerCase()&&("checkbox"===a.type&&(u=e.attr.has(a,"can-true-value")?a.getAttribute("can-true-value"):!0,c=e.attr.has(a,"can-false-value")?a.getAttribute("can-false-value"):!1),"checkbox"===a.type||"radio"===a.type)?void new r(a,{value:p,trueValue:u,falseValue:c}):"select"===a.nodeName.toLowerCase()&&a.multiple?void new s(a,{value:p}):t(a)?void new o(a,{value:p}):void new i(a,{value:p})});var a={enter:function(e,t,n){return{event:"keyup",handler:function(e){return 13===e.keyCode?n.call(this,e):void 0}}}};e.view.attr(/can-[\w\.]+/,function(t,i){var r=i.attributeName,s=r.substr("can-".length),o=function(a){var s=n(t.getAttribute(r)),o=i.scope.read(s,{returnObserveMethods:!0,isArgument:!0});return o.value.call(o.parent,i.scope._context,e.$(this),a)};if(a[s]){var l=a[s](i,t,o);o=l.handler,s=l.event}e.bind.call(t,s,o)});var i=e.Control.extend({init:function(){"SELECT"===this.element[0].nodeName.toUpperCase()?setTimeout(e.proxy(this.set,this),1):this.set()},"{value} change":"set",set:function(){if(this.element){var e=this.options.value();this.element[0].value=null==e?"":e}},change:function(){this.element&&this.options.value(this.element[0].value)}}),r=e.Control.extend({init:function(){this.isCheckbox="checkbox"===this.element[0].type.toLowerCase(),this.check()},"{value} change":"check",check:function(){if(this.isCheckbox){var t=this.options.value(),n=this.options.trueValue||!0;this.element[0].checked=t===n}else{var a=this.options.value()==this.element[0].value?"set":"remove";e.attr[a](this.element[0],"checked",!0)}},change:function(){this.isCheckbox?this.options.value(this.element[0].checked?this.options.trueValue:this.options.falseValue):this.element[0].checked&&this.options.value(this.element[0].value)}}),s=i.extend({init:function(){this.delimiter=";",this.set()},set:function(){var t=this.options.value();"string"==typeof t?(t=t.split(this.delimiter),this.isString=!0):t&&(t=e.makeArray(t));var n={};e.each(t,function(e){n[e]=!0}),e.each(this.element[0].childNodes,function(e){e.value&&(e.selected=!!n[e.value])})},get:function(){var t=[],n=this.element[0].childNodes;return e.each(n,function(e){e.selected&&e.value&&t.push(e.value)}),t},change:function(){var t=this.get(),n=this.options.value();this.isString||"string"==typeof n?(this.isString=!0,this.options.value(t.join(this.delimiter))):n instanceof e.List?n.attr(t,!0):this.options.value(t)}}),o=e.Control.extend({init:function(){this.set(),this.on("blur","setValue")},"{value} change":"set",set:function(){var e=this.options.value();this.element[0].innerHTML="undefined"==typeof e?"":e},setValue:function(){this.options.value(this.element[0].innerHTML)}})}),define("can/component",["can/util/library","can/view/callbacks","can/control","can/observe","can/view/mustache","can/view/bindings"],function(e,t){var n=/^(dataViewId|class|id)$/i,a=/\{([^\}]+)\}/g,i=e.Component=e.Construct.extend({setup:function(){if(e.Construct.setup.apply(this,arguments),e.Component){var t=this,n=this.prototype.scope;if(this.Control=r.extend(this.prototype.events),n&&("object"!=typeof n||n instanceof e.Map)?n.prototype instanceof e.Map&&(this.Map=n):this.Map=e.Map.extend(n||{}),this.attributeScopeMappings={},e.each(this.Map?this.Map.defaults:{},function(e,n){"@"===e&&(t.attributeScopeMappings[n]=n)}),this.prototype.template)if("function"==typeof this.prototype.template){var a=this.prototype.template;this.renderer=function(){return e.view.frag(a.apply(null,arguments))}}else this.renderer=e.view.mustache(this.prototype.template);e.view.tag(this.prototype.tag,function(e,n){new t(e,n)})}}},{setup:function(a,i){var r,s,o,l={},u=this,c={};if(e.each(this.constructor.attributeScopeMappings,function(t,n){l[n]=a.getAttribute(e.hyphenate(t))}),e.each(e.makeArray(a.attributes),function(o,d){var p=e.camelize(o.nodeName.toLowerCase()),h=o.value;if(!(u.constructor.attributeScopeMappings[p]||n.test(p)||t.attr(o.nodeName))){if("{"===h[0]&&"}"===h[h.length-1])h=h.substr(1,h.length-2);else if("legacy"!==i.templateType)return void(l[p]=h);var f=i.scope.computeData(h,{args:[]}),m=f.compute,g=function(e,t){r=p,s.attr(p,t),r=null};m.bind("change",g),l[p]=m(),m.hasDependencies?(e.bind.call(a,"removed",function(){m.unbind("change",g)}),c[p]=f):m.unbind("change",g)}}),this.constructor.Map)s=new this.constructor.Map(l);else if(this.scope instanceof e.Map)s=this.scope;else if(e.isFunction(this.scope)){var d=this.scope(l,i.scope,a);s=d instanceof e.Map?d:d.prototype instanceof e.Map?new d(l):new(e.Map.extend(d))(l)}var p={};e.each(c,function(e,t){p[t]=function(n,a){r!==t&&e.compute(a)},s.bind(t,p[t])}),e.bind.call(a,"removed",function(){e.each(p,function(e,t){s.unbind(t,p[t])})}),e.isEmptyObject(this.constructor.attributeScopeMappings)&&"legacy"===i.templateType||e.bind.call(a,"attributes",function(t){var i=e.camelize(t.attributeName);c[i]||n.test(i)||s.attr(i,a.getAttribute(t.attributeName))}),this.scope=s,e.data(e.$(a),"scope",this.scope);var h=i.scope.add(this.scope),f={helpers:{}};e.each(this.helpers||{},function(t,n){e.isFunction(t)&&(f.helpers[n]=function(){return t.apply(s,arguments)})}),this._control=new this.constructor.Control(a,{scope:this.scope}),this.constructor.renderer?(f.tags||(f.tags={}),f.tags.content=function m(t,n){var a=i.subtemplate||n.subtemplate;a&&(delete f.tags.content,e.view.live.replace([t],a(n.scope,n.options)),f.tags.content=m)},o=this.constructor.renderer(h,i.options.add(f))):o="legacy"===i.templateType?e.view.frag(i.subtemplate?i.subtemplate(h,i.options.add(f)):""):i.subtemplate?i.subtemplate(h,i.options.add(f)):document.createDocumentFragment(),e.appendChild(a,o)}}),r=e.Control.extend({_lookup:function(e){return[e.scope,e,window]},_action:function(t,n,i){var r,s;if(a.lastIndex=0,r=a.test(t),i||!r){if(r){s=e.compute(function(){var i,r=t.replace(a,function(t,a){var r;return"scope"===a?(i=n.scope,""):(a=a.replace(/^scope\./,""),r=e.compute.read(n.scope,a.split("."),{isArgument:!0}).value,void 0===r&&(r=e.getObject(a)),"string"==typeof r?r:(i=r,""))}),s=r.split(/\s+/g),o=s.pop();return{processor:this.processors[o]||this.processors.click,parts:[r,s.join(" "),o],delegate:i||void 0}},this);var o=function(e,n){i._bindings.control[t](i.element),i._bindings.control[t]=n.processor(n.delegate||i.element,n.parts[2],n.parts[1],t,i)};return s.bind("change",o),i._bindings.readyComputes[t]={compute:s,handler:o},s()}return e.Control._action.apply(this,arguments)}}},{setup:function(t,n){return this.scope=n.scope,e.Control.prototype.setup.call(this,t,n)},off:function(){this._bindings&&e.each(this._bindings.readyComputes||{},function(e){e.compute.unbind("change",e.handler)}),e.Control.prototype.off.apply(this,arguments),this._bindings.readyComputes={}}});return window.jQuery&&jQuery.fn&&(jQuery.fn.scope=function(e){return e?this.data("scope").attr(e):this.data("scope")}),e.scope=function(t,n){return t=e.$(t),n?e.data(t,"scope").attr(n):e.data(t,"scope")},i}),define("can",["can/util/library","can/control/route","can/model","can/view/mustache","can/component"],function(e){return e}),define("text",["module"],function(e){"use strict";var t,n,a,i,r,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u="undefined"!=typeof location&&location.href,c=u&&location.protocol&&location.protocol.replace(/\:/,""),d=u&&location.hostname,p=u&&(location.port||void 0),h={},f=e.config&&e.config()||{};return t={version:"2.0.14",strip:function(e){if(e){e=e.replace(o,"");var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=s[t];try{e=new ActiveXObject(n)}catch(a){}if(e){s=[n];break}}return e},parseName:function(e){var t,n,a,i=!1,r=e.lastIndexOf("."),s=0===e.indexOf("./")||0===e.indexOf("../");return-1!==r&&(!s||r>1)?(t=e.substring(0,r),n=e.substring(r+1)):t=e,a=n||t,r=a.indexOf("!"),-1!==r&&(i="strip"===a.substring(r+1),a=a.substring(0,r),n?n=a:t=a),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,a,i){var r,s,o,l=t.xdRegExp.exec(e);return l?(r=l[2],s=l[3],s=s.split(":"),o=s[1],s=s[0],!(r&&r!==n||s&&s.toLowerCase()!==a.toLowerCase()||(o||s)&&o!==i)):!0},finishLoad:function(e,n,a,i){a=n?t.strip(a):a,f.isBuild&&(h[e]=a),i(a)},load:function(e,n,a,i){if(i&&i.isBuild&&!i.inlineText)return void a();f.isBuild=i&&i.isBuild;var r=t.parseName(e),s=r.moduleName+(r.ext?"."+r.ext:""),o=n.toUrl(s),l=f.useXhr||t.useXhr;return 0===o.indexOf("empty:")?void a():void(!u||l(o,c,d,p)?t.get(o,function(n){t.finishLoad(e,r.strip,n,a)},function(e){a.error&&a.error(e)}):n([s],function(e){t.finishLoad(r.moduleName+"."+r.ext,r.strip,e,a)}))},write:function(e,n,a,i){if(h.hasOwnProperty(n)){var r=t.jsEscape(h[n]);a.asModule(e+"!"+n,"define(function () { return '"+r+"';});\n")}},writeFile:function(e,n,a,i,r){var s=t.parseName(n),o=s.ext?"."+s.ext:"",l=s.moduleName+o,u=a.toUrl(s.moduleName+o)+".js";t.load(l,a,function(n){var a=function(e){return i(u,e)};a.asModule=function(e,t){return i.asModule(e,u,t)},t.write(e,l,a,r)},r)}},"node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(n=require.nodeRequire("fs"),t.get=function(e,t,a){try{var i=n.readFileSync(e,"utf8");"\ufeff"===i[0]&&(i=i.substring(1)),t(i)}catch(r){a&&a(r)}}):"xhr"===f.env||!f.env&&t.createXhr()?t.get=function(e,n,a,i){var r,s=t.createXhr();if(s.open("GET",e,!0),i)for(r in i)i.hasOwnProperty(r)&&s.setRequestHeader(r.toLowerCase(),i[r]);f.onXhr&&f.onXhr(s,e),s.onreadystatechange=function(t){var i,r;4===s.readyState&&(i=s.status||0,i>399&&600>i?(r=new Error(e+" HTTP status: "+i),r.xhr=s,a&&a(r)):n(s.responseText),f.onXhrComplete&&f.onXhrComplete(s,e))},s.send(null)}:"rhino"===f.env||!f.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var n,a,i="utf-8",r=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),o=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),i)),l="";try{for(n=new java.lang.StringBuffer,a=o.readLine(),a&&a.length()&&65279===a.charAt(0)&&(a=a.substring(1)),null!==a&&n.append(a);null!==(a=o.readLine());)n.append(s),n.append(a);l=String(n.toString())}finally{o.close()}t(l)}:("xpconnect"===f.env||!f.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(a=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),r="@mozilla.org/windows-registry-key;1"in a,t.get=function(e,t){var n,s,o,l={};r&&(e=e.replace(/\//g,"\\")),o=new FileUtils.File(e);try{n=a["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(o,1,0,!1),s=a["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),s.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(n.available(),l),s.close(),n.close(),t(l.value)}catch(u){throw new Error((o&&o.path||"")+": "+u)}}),t}),define("mtemplate",["text"],function(e){"use strict";var t={},n={},a="define('{pluginName}!{moduleName}', ['can/view/mustache'], function (Mustache) { var template = '{content}';  return can.mustache( template );  });\n";return{version:"0.0.1",load:function(a,i,r,s){if(n[a])r(n[a]);else{var o=s.stache&&s.stache.extension||"",l=s.stache&&s.stache.path||"";e.load(l+a+o,i,function(e){s.isBuild?(t[a]=e,r()):(n[a]=can.mustache(e),r(n[a]))},s)}},write:function(n,i,r,s){var o=t[i],l=o&&e.jsEscape(o);l&&r.asModule(n+"!"+i,a.replace("{pluginName}",n).replace("{moduleName}",i).replace("{content}",l))}}}),define("mtemplate!app/sitecontainer.html",["can/view/mustache"],function(e){var t='\n\n<div class="statusbar-overlay"></div>\n\n<div class="panel-overlay"></div>\n<div class="appmenu-overlay open"></div>\n<div class="appmenu"></div>\n\n\n<div class="views tabs ">\n	\n	<div class="view view-main" >\n		<div class="navbar">\n			<div class="siteheader">\n				<span class="logo">Soundwave</span>\n			</div>\n			<div class="playerinfo-container">\n			<div class="playerinfo">\n				{{#if player.story}}\n				<div class="box">\n					<span class="title">{{player.story.title}}</span>\n					<span class="time">{{player.story.progress}}</span> \n				</div>\n				{{/if}}\n			</div>\n			</div>\n		</div>\n		<div class="pages navbar-through ">\n			\n		</div>\n	</div>\n</div>\n\n<div class="popup" style="display: none;">\n	<div class="view ">\n		\n		<div class="navbar">\n			\n			\n		</div>\n		<div class="pages navbar-through toolbar-through">\n			\n		</div>	\n	</div>\n</div>\n\n<div id="jplayer"></div>\n\n<audio class="audioplayer">\n	\n</audio>\n';return can.mustache(t)}),define("mtemplate!app/pagenavbar.html",["can/view/mustache"],function(e){var t='{{#if showBackLink}}\n	<div class="left sliding" style="">\n		<a href="#" class="back link">\n			<span class="ss-standard">&#x25C5;</span>\n		</a>\n	</div>\n{{/if}}\n\n<div class="center sliding" style="">{{navbarTitle}}</div>\n\n<div class="right">\n	<a href="#" class="open-login link icon-only">\n		<span class="ss-standard">&#x2699;</span>\n	</a>\n</div>';return can.mustache(t)}),define("mtemplate!app/popupnavbar.html",["can/view/mustache"],function(e){var t='\n\n<div class="center sliding" style="">{{navbarTitle}}</div>\n\n<div class="right">\n	<a href="#" class="link close-popup">\n		<span class="ss-standard">&#x2421;</span>\n	</a>\n</div>';return can.mustache(t)}),define("canjs-commons/functions",["jquery","can"],function(e,t){var n={jsonajax:function(n){return e.ajax({url:n.url,processData:!1,data:JSON.stringify(n.data),dataType:n.dataType||"json",contentType:"application/json",type:n.type||"POST"}).fail(function(e,n,a){t.trigger(window,"ajaxerror",e)})},dfdMap:function(t){var n=e.Deferred(),a=[],i=[];return e.map(t,function(e,t){a.push(e),i.push(t)}),e.when.apply(null,a).done(function(){var t=arguments,a={};e.each(t,function(e,t){var n=i[e];n&&(a[n]=t)}),n.resolve(a)}).fail(function(e,t,a){n.reject()}),n}};return n}),define("canjs-commons/extensions",["jquery","can"],function(e,t){t.Control.prototype.find=function(e){return this.element.find(e)},t.Model.List.prototype.findById=function(e){return this.filter(function(t){return t.id==e})[0]},t.Model.List.prototype.sort=function(e){return[].sort.apply(this,[e]),this},t.Model.List.prototype.remove=function(e){var t=this.indexOf(e);-1!=t&&this.splice(t,1)},t.Model.List.prototype.grep=function(t,n){return new this.constructor(e.grep(this,t,n))},e.fn.model=function(e){return e?(this.data("model",e),this.addClass(e.constructor._shortName),this.addClass(e.constructor._shortName+"_"+e.id),this):this.data("model")},e.Event.prototype.stop=function(){this.stopPropagation(),this.preventDefault()}}),define("can/map/delegate",["can/util/library","can/map"],function(e){var t=function(e,t){var n,a=e.length,i=0,r=[];for(i;a>i;i++){if(n=t[i],"string"!=typeof n)return null;if("**"===e[i])return t.join(".");if("*"===e[i])r.push(n);else{if(n!==e[i])return null;r.push(n)}}return r.join(".")},n=function(n,a,i,r,s){var o,l,u,c,d,p=a.split("."),h=(this._observe_delegates||[]).slice(0);n.attr=a,n.lastAttr=p[p.length-1];for(var f=0;o=h[f++];)if(!(n.batchNum&&o.batchNum===n.batchNum||o.undelegated)){c=void 0,d=!0;for(var m=0;m<o.attrs.length;m++)l=o.attrs[m],u=t(l.parts,p),u&&(c=u),l.value&&d?d=l.value===""+this.attr(l.attr):d&&o.attrs.length>1&&(d=void 0!==this.attr(l.attr));if(c&&d){var g=a.replace(c+".","");n.batchNum&&(o.batchNum=n.batchNum),"change"===o.event?(a=g,n.curAttr=c,o.callback.apply(this.attr(c),e.makeArray(arguments))):o.event===i?o.callback.apply(this.attr(c),[n,r,s,g]):"set"===o.event&&"add"===i&&o.callback.apply(this.attr(c),[n,r,s,g])}}};return e.extend(e.Map.prototype,{delegate:function(t,a,i){t=e.trim(t);for(var r,s=this._observe_delegates||(this._observe_delegates=[]),o=[],l=/([^\s=,]+)(?:=("[^",]*"|'[^',]*'|[^\s"',]*))?(,?)\s*/g;null!==(r=l.exec(t));)r[2]&&e.inArray(r[2].substr(0,1),['"',"'"])>=0&&(r[2]=r[2].substr(1,-1)),o.push({attr:r[1],parts:r[1].split("."),value:r[2],or:","===r[3]});return s.push({selector:t,attrs:o,callback:i,event:a}),1===s.length&&this.bind("change",n),this},undelegate:function(t,a,i){t=t&&e.trim(t);var r,s=0,o=this._observe_delegates||[];if(t)for(;s<o.length;)r=o[s],r.callback===i||!i&&r.selector===t?(r.undelegated=!0,o.splice(s,1)):s++;else o=[];return o.length||this.unbind("change",n),this}}),e.Map.prototype.delegate.matches=t,e.Map}),define("can/construct/super",["can/util/library","can/construct"],function(e,t){var n=e.isFunction,a=/xyz/.test(function(){return this.xyz})?/\b_super\b/:/.*/,i=["get","set"],r=function(e,t,n){return function(){var a,i=this._super;return this._super=e[t],a=n.apply(this,arguments),this._super=i,a}};return e.Construct._defineProperty=function(t,a,s,o){var l=Object.getOwnPropertyDescriptor(a,s);l&&e.each(i,function(e){n(l[e])&&n(o[e])?o[e]=r(l,e,o[e]):n(o[e])||(o[e]=l[e])}),Object.defineProperty(t,s,o)},e.Construct._overwrite=function(e,t,i,s){e[i]=n(s)&&n(t[i])&&a.test(s)?r(t,i,s):s},e}),define("can/construct/proxy",["can/util/library","can/construct"],function(e,t){var n=(e.isFunction,e.isArray),a=e.makeArray,i=function(e){var t,i=a(arguments);return e=i.shift(),n(e)||(e=[e]),t=this,function(){for(var r,s,o=i.concat(a(arguments)),l=e.length,u=0;l>u;u++)s=e[u],s&&(r="string"==typeof s,o=(r?t[s]:s).apply(t,o||[]),l-1>u&&(o=!n(o)||o._use_call?[o]:o));return o}};e.Construct.proxy=e.Construct.prototype.proxy=i;for(var r=[e.Map,e.Control,e.Model],s=0;s<r.length;s++)r[s]&&(r[s].proxy=i);return e}),define("can/control/plugin",["jquery","can/util/library","can/control"],function(e,t){var n,a=function(e,t){var a=e.constructor.pluginName||e.constructor._shortName;for(n=0;n<t.length;n++)if("string"==typeof t[n]?a===t[n]:e instanceof t[n])return!0;return!1},i=t.makeArray,r=t.Control.setup;return t.Control.setup=function(){if(this!==t.Control){var e=this.pluginName||this._fullName;"can_control"!==e&&this.plugin(e),r.apply(this,arguments)}},e.fn.extend({controls:function(){var e,n,r=i(arguments),s=[];return this.each(function(){if(e=t.$(this).data("controls"))for(var i=0;i<e.length;i++)n=e[i],(!r.length||a(n,r))&&s.push(n)}),s},control:function(e){return this.controls.apply(this,arguments)[0]}}),t.Control.plugin=function(n){var a=this;e.fn[n]||(e.fn[n]=function(n){var r,s=i(arguments),o="string"==typeof n&&e.isFunction(a.prototype[n]),l=s[0];return this.each(function(){var e=t.$(this).control(a);e?o?r=e[l].apply(e,s.slice(1)):e.update.apply(e,s):a.newInstance.apply(a,[this].concat(s))}),void 0!==r?r:this})},t.Control.prototype.update=function(e){t.extend(this.options,e),this.on()},t}),define("can/util/object",["can/util/library"],function(e){var t=e.isArray;e.Object={};var n=e.Object.same=function(i,r,s,o,l,u){var c,d=typeof i,p=t(i),h=typeof s;if(("string"===h||null===s)&&(s=a[s],h="function"),"function"===h)return s(i,r,o,l);if(s=s||{},null===i||null===r)return i===r;if(i instanceof Date||r instanceof Date)return i===r;if(-1===u)return"object"===d||i===r;if(d!==typeof r||p!==t(r))return!1;if(i===r)return!0;if(p){if(i.length!==r.length)return!1;for(var f=0;f<i.length;f++)if(c=void 0===s[f]?s["*"]:s[f],!n(i[f],r[f],i,r,c))return!1;return!0}if("object"===d||"function"===d){var m=e.extend({},r);for(var g in i){if(c=void 0===s[g]?s["*"]:s[g],!n(i[g],r[g],c,i,r,u===!1?-1:void 0))return!1;delete m[g]}for(g in m)if(void 0===s[g]||!n(void 0,r[g],s[g],i,r,u===!1?-1:void 0))return!1;return!0}return!1};e.Object.subsets=function(t,n,a){for(var i=n.length,r=[],s=0;i>s;s++){var o=n[s];e.Object.subset(t,o,a)&&r.push(o)}return r},e.Object.subset=function(e,t,a){a=a||{};for(var i in t)if(!n(e[i],t[i],a[i],e,t))return!1;return!0};var a={"null":function(){return!0},i:function(e,t){return(""+e).toLowerCase()===(""+t).toLowerCase()},eq:function(e,t){return e===t},similar:function(e,t){return e==t}};return a.eqeq=a.similar,e.Object}),define("can/map/backup",["can/util/library","can/map","can/util/object"],function(e){var t=function(e,t){var n={};for(var a in e)"object"!=typeof e[a]||null===e[a]||e[a]instanceof Date?n[a]=e[a]:n[a]=t.attr(a);return n};return e.extend(e.Map.prototype,{backup:function(){return this._backupStore=this._attrs(),this},isDirty:function(t){return this._backupStore&&!e.Object.same(this._attrs(),this._backupStore,void 0,void 0,void 0,!!t)},restore:function(e){var n=e?this._backupStore:t(this._backupStore,this);return this.isDirty(e)&&this._attrs(n,!0),this}}),e.Map}),define("can/map/define",["can/util/library","can/observe"],function(e){e.Map.helpers.define=function(e){var t=e.prototype.define;e.defaultGenerators={};for(var n in t)"value"in t[n]&&("function"==typeof t[n].value?e.defaultGenerators[n]=t[n].value:e.defaults[n]=t[n].value),"function"==typeof t[n].Value&&!function(t){e.defaultGenerators[n]=function(){return new t}}(t[n].Value)};var t=e.Map.prototype._setupDefaults;e.Map.prototype._setupDefaults=function(e){var n=t.call(this),a={},i=this.constructor,r=this._get;this._get=function(e){return s=-1!==e.indexOf(".")?e.substr(0,e.indexOf(".")):s,s in n&&!(s in a)&&(this.attr(s,n[s]),a[s]=!0),r.apply(this,arguments)};for(var s in i.defaultGenerators)e&&s in e||(n[s]=i.defaultGenerators[s].call(this));return this._get=r,n};var n=e.Map.prototype,a=n.__set;n.__set=function(t,n,i,r,s){var o=function(n){var a=s&&s.call(l,n);return a!==!1&&e.trigger(l,"error",[t,n],!0),!1},l=this,u=this.define&&this.define[t],c=u&&u.set,d=u&&u.get;if(c){e.batch.start();var p=!1,h=c.call(this,n,function(e){a.call(l,t,e,i,r,o),p=!0},o);return d?void e.batch.stop():void 0===h&&!p&&c.length>=2?void e.batch.stop():(p||a.call(l,t,0===c.length&&void 0===h?n:h,i,r,o),e.batch.stop(),this)}return a.call(l,t,n,i,r,o),this};var i={date:function(e){var t=typeof e;return"string"===t?(e=Date.parse(e),isNaN(e)?null:new Date(e)):"number"===t?new Date(e):e},number:function(e){return+e},"boolean":function(e){return"false"!==e&&"0"!==e&&e?!0:!1},"*":function(e){return e},string:function(e){return""+e}},r=n.__type;n.__type=function(e,t){var n=this.define&&this.define[t],a=n&&n.type,s=n&&n.Type,o=e;return"string"==typeof a&&(a=i[a]),a||s?(a&&(o=a.call(this,o,t)),!s||o instanceof s||(o=new s(o)),o):r.call(this,o,t)};var s=n._remove;n._remove=function(t,n){var a,i=this.define&&this.define[t]&&this.define[t].remove;return i?(e.batch.start(),a=i.call(this,n),a===!1?void e.batch.stop():(a=s.call(this,t,n),e.batch.stop(),a)):s.call(this,t,n)};var o=n._setupComputes;n._setupComputes=function(t){o.apply(this,arguments);for(var n in this.define){var a=this.define[n],i=a.get;i&&(this[n]=e.compute.async(t[n],i,this),this._computedBindings[n]={count:0})}};var l=e.Map.helpers._serialize;e.Map.helpers._serialize=function(e,t,n){return u(e,t,n)};var u=function(e,t,n){var a=e.define&&e.define[t]&&e.define[t].serialize;return void 0===a?l.apply(this,arguments):a!==!1?"function"==typeof a?a.call(e,n,t):l.apply(this,arguments):void 0},c=n.serialize;return n.serialize=function(e){var t=c.apply(this,arguments);if(e)return t;var n,a;for(var i in this.define)i in t||(n=this.define&&this.define[i]&&this.define[i].serialize,n&&(a=u(this,i,this.attr(i)),void 0!==a&&(t[i]=a)));return t},e.Map}),define("can/map/validations",["can/util/library","can/map"],function(e){var t=function(t,n,a){if(a||(a=n,n={}),n=n||{},t="string"==typeof t?[t]:e.makeArray(t),!n.testIf||n.testIf.call(this)){var i=this;e.each(t,function(e){i.validations[e]||(i.validations[e]=[]),i.validations[e].push(function(t){var i=a.call(this,t,e);return void 0===i?void 0:n.message||i})})}},n=e.Map.prototype.__set;return e.Map.prototype.__set=function(t,a,i,r,s){var o=this,l=o.constructor.validations,u=function(n){var a=s&&s.call(o,n);return a!==!1&&e.trigger(o,"error",[t,n],!0),!1};if(n.call(o,t,a,i,r,u),l&&l[t]){var c=o.errors(t);c&&u(c)}return this},e.each([e.Map,e.Model],function(n){if(void 0!==n){var a=n.setup;e.extend(n,{setup:function(e){a.apply(this,arguments),this.validations&&e.validations!==this.validations||(this.validations={})},validate:t,validationMessages:{format:"is invalid",inclusion:"is not a valid option (perhaps out of range)",lengthShort:"is too short",lengthLong:"is too long",presence:"can't be empty",range:"is out of range",numericality:"must be a number"},validateFormatOf:function(e,n,a){t.call(this,e,a,function(e){return"undefined"!=typeof e&&null!==e&&""!==e&&null===String(e).match(n)?this.constructor.validationMessages.format:void 0})},validateInclusionOf:function(e,n,a){t.call(this,e,a,function(e){if("undefined"!=typeof e){for(var t=0;t<n.length;t++)if(n[t]===e)return;return this.constructor.validationMessages.inclusion}})},validateLengthOf:function(e,n,a,i){t.call(this,e,i,function(e){return("undefined"==typeof e||null===e)&&n>0||"undefined"!=typeof e&&null!==e&&e.length<n?this.constructor.validationMessages.lengthShort+" (min="+n+")":"undefined"!=typeof e&&null!==e&&e.length>a?this.constructor.validationMessages.lengthLong+" (max="+a+")":void 0})},validatePresenceOf:function(e,n){t.call(this,e,n,function(e){return"undefined"==typeof e||""===e||null===e?this.constructor.validationMessages.presence:void 0})},validateRangeOf:function(e,n,a,i){t.call(this,e,i,function(e){return("undefined"==typeof e||null===e)&&n>0||"undefined"!=typeof e&&null!==e&&(n>e||e>a)?this.constructor.validationMessages.range+" ["+n+","+a+"]":void 0})},validatesNumericalityOf:function(e){t.call(this,e,function(e){var t=!isNaN(parseFloat(e))&&isFinite(e);return t?void 0:this.constructor.validationMessages.numericality})}})}}),e.extend(e.Map.prototype,{errors:function(t,n){t&&(t=e.isArray(t)?t:[t]);var a={},i=this,r=function(t,r){e.each(r,function(e){var r=e.call(i,o?i.__convert?i.__convert(t,n):n:i.attr(t));r&&(a[t]||(a[t]=[]),a[t].push(r))})},s=this.constructor.validations||{},o=t&&1===t.length&&2===arguments.length;return e.each(t||s,function(e,t){"number"==typeof t&&(t=e,e=s[t]),r(t,e||[])}),e.isEmptyObject(a)?null:o?a[t[0]]:a}}),e.Map}),function(){"use strict";window.Framework7=function(t){function n(e){var t=e.replace(/^./,function(e){return e.toUpperCase()});r["onPage"+t]=function(t,n){return r.onPage(e,t,n)}}function a(){var e=this,t=e.scrollTop,n=e.scrollHeight,a=e.offsetHeight,i=e.getAttribute("data-distance");i||(i=50),"string"==typeof i&&i.indexOf("%")>=0&&(i=parseInt(i,10)/100*a),i>a&&(i=a),t+a>=n-i&&o(e).trigger("infinite")}function i(){r.device.ipad&&(document.body.scrollLeft=0,setTimeout(function(){document.body.scrollLeft=0},0))}var r=this;r.version="0.9.6",r.params={cache:!0,cacheIgnore:[],cacheIgnoreGetParameters:!1,cacheDuration:6e5,preloadPreviousPage:!0,uniqueHistory:!1,uniqueHistoryIgnoreGetParameters:!1,dynamicPageUrl:"content-{{index}}",router:!0,pushState:!1,pushStateRoot:void 0,pushStateNoAnimation:!1,pushStateSeparator:"#!/",fastClicks:!0,fastClicksDistanceThreshold:0,activeState:!0,activeStateElements:"a, button, label, span",animateNavBackIcon:!1,swipeBackPage:!0,swipeBackPageThreshold:0,swipeBackPageActiveArea:30,swipeBackPageBoxShadow:!0,ajaxLinks:void 0,externalLinks:["external"],sortable:!0,hideNavbarOnPageScroll:!1,hideToolbarOnPageScroll:!1,showBarsOnPageScrollEnd:!0,swipeout:!0,swipeoutNoFollow:!1,smartSelectBackTemplate:'<div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><span>{{backText}}</span></a></div>',smartSelectBackText:"Back",smartSelectInPopup:!1,smartSelectPopupCloseTemplate:'<div class="left"><a href="#" class="link close-popup"><i class="icon icon-back"></i><span>{{closeText}}</span></a></div>',smartSelectPopupCloseText:"Close",smartSelectSearchbar:!1,smartSelectBackOnSelect:!1,searchbarHideDividers:!0,searchbarHideGroups:!0,swipePanel:!1,swipePanelActiveArea:0,swipePanelCloseOpposite:!0,swipePanelNoFollow:!1,swipePanelThreshold:0,panelsCloseByOutside:!0,modalButtonOk:"OK",modalButtonCancel:"Cancel",modalUsernamePlaceholder:"Username",modalPasswordPlaceholder:"Password",modalTitle:"Framework7",modalCloseByOutside:!1,actionsCloseByOutside:!0,popupCloseByOutside:!0,modalPreloaderTitle:"Loading... ",viewClass:"view",viewMainClass:"view-main",viewsClass:"views",notificationCloseOnClick:!1,notificationCloseIcon:!0,animatePages:!0,templates:{},templatesData:{},template7Pages:!1,precompileTemplates:!1,init:!0};for(var s in t)r.params[s]=t[s];var o=e,l=Template7;r._compiledTemplates={},r.touchEvents={start:r.support.touch?"touchstart":"mousedown",move:r.support.touch?"touchmove":"mousemove",end:r.support.touch?"touchend":"mouseup"},r.ls=localStorage,r.rtl="rtl"===o("body").css("direction"),r.rtl&&o("html").attr("dir","rtl"),"undefined"!=typeof r.params.statusbarOverlay&&(r.params.statusbarOverlay?o("html").addClass("with-statusbar-overlay"):o("html").removeClass("with-statusbar-overlay")),r.views=[];var u=function(e,t){var n,a={dynamicNavbar:!1,domCache:!1,linksView:void 0,uniqueHistory:r.params.uniqueHistory,uniqueHistoryIgnoreGetParameters:r.params.uniqueHistoryIgnoreGetParameters,swipeBackPage:r.params.swipeBackPage,swipeBackPageBoxShadow:r.params.swipeBackPageBoxShadow,swipeBackPageActiveArea:r.params.swipeBackPageActiveArea,
swipeBackPageThreshold:r.params.swipeBackPageThreshold,animatePages:r.params.animatePages,preloadPreviousPage:r.params.preloadPreviousPage};t=t||{};for(var i in a)"undefined"==typeof t[i]&&(t[i]=a[i]);var s=this;s.params=t,s.selector=e;var l=o(e);if(s.container=l[0],s.contentCache={},s.pagesCache={},l[0].f7View=s,s.pagesContainer=l.find(".pages")[0],s.initialPages=[],s.initialNavbars=[],s.params.domCache){var u=l.find(".page");for(n=0;n<u.length;n++)s.initialPages.push(u[n]);if(s.params.dynamicNavbar){var c=l.find(".navbar-inner");for(n=0;n<c.length;n++)s.initialNavbars.push(c[n])}}s.allowPageChange=!0;var d=document.location.href;s.history=[];var p=d,h=r.params.pushStateSeparator,f=r.params.pushStateRoot;r.params.pushState&&(f?p=f:p.indexOf(h)>=0&&p.indexOf(h+"#")<0&&(p=p.split(h)[0]));var m,g;s.activePage||(m=o(s.pagesContainer).find(".page-on-center"),0===m.length&&(m=o(s.pagesContainer).find(".page:not(.cached)"),m=m.eq(m.length-1)),m.length>0&&(g=m[0].f7PageData)),s.params.domCache&&m?(s.url=l.attr("data-url")||s.params.url||"#"+m.attr("data-page"),s.pagesCache[s.url]=m.attr("data-page")):s.url=l.attr("data-url")||s.params.url||p,g&&(g.view=s,g.url=s.url,s.activePage=g,m[0].f7PageData=g),s.url&&s.history.push(s.url),s.main=l.hasClass(r.params.viewMainClass);var v,y,b,w,x,C,k,_,T,S,P=!1,j=!1,E={},N=[],O=[],M=!0,A=[],L=[];if(s.handleTouchStart=function(e){M&&s.params.swipeBackPage&&!P&&!r.swipeoutOpenedEl&&(j=!1,P=!0,v=void 0,E.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,E.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,w=(new Date).getTime(),T=s.params.dynamicNavbar&&l.find(".navbar-inner").length>1)},s.handleTouchMove=function(e){if(P){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof v&&(v=!!(v||Math.abs(n-E.y)>Math.abs(t-E.x))),v||e.f7PreventSwipeBack||r.preventSwipeBack)return void(P=!1);if(!j){var a=!1;y=l.width();var i=o(e.target),u=i.hasClass("swipeout")?i:i.parents(".swipeout");u.length>0&&(!r.rtl&&u.find(".swipeout-actions-left").length>0&&(a=!0),r.rtl&&u.find(".swipeout-actions-right").length>0&&(a=!0)),N=i.is(".page")?i:i.parents(".page"),N.hasClass("no-swipeback")&&(a=!0),O=l.find(".page-on-left:not(.cached)");var c=E.x-l.offset().left>s.params.swipeBackPageActiveArea;if(c=r.rtl?E.x<l.offset().left-l[0].scrollLeft+y-s.params.swipeBackPageActiveArea:E.x-l.offset().left>s.params.swipeBackPageActiveArea,c&&(a=!0),(0===O.length||0===N.length)&&(a=!0),a)return void(P=!1);T&&(A=l.find(".navbar-on-center:not(.cached)"),L=l.find(".navbar-on-left:not(.cached)"),x=A.find(".left, .center, .right"),C=L.find(".left, .center, .right"),r.params.animateNavBackIcon&&(k=A.find(".left.sliding .back .icon"),_=L.find(".left.sliding .back .icon")))}e.f7PreventPanelSwipe=!0,j=!0,e.preventDefault();var d=r.rtl?-1:1;b=(t-E.x-s.params.swipeBackPageThreshold)*d,0>b&&(b=0);var p=b/y,h={percentage:p,activePage:N[0],previousPage:O[0],activeNavbar:A[0],previousNavbar:L[0]};s.params.onSwipeBackMove&&s.params.onSwipeBackMove(h),l.trigger("swipebackmove",h);var f=b*d,m=(b/5-y/5)*d;if(1===r.device.pixelRatio&&(f=Math.round(f),m=Math.round(m)),N.transform("translate3d("+f+"px,0,0)"),s.params.swipeBackPageBoxShadow&&"android"!==r.device.os&&(N[0].style.boxShadow="0px 0px 12px rgba(0,0,0,"+(.5-.5*p)+")"),O.transform("translate3d("+m+"px,0,0)"),O[0].style.opacity=.9+.1*p,T){var g;for(g=0;g<x.length;g++)if(S=o(x[g]),S[0].style.opacity=1-1.3*p,S[0].className.indexOf("sliding")>=0){var w=p*S[0].f7NavbarRightOffset;1===r.device.pixelRatio&&(w=Math.round(w)),S.transform("translate3d("+w+"px,0,0)"),r.params.animateNavBackIcon&&S[0].className.indexOf("left")>=0&&k.length>0&&k.transform("translate3d("+-w+"px,0,0)")}for(g=0;g<C.length;g++)if(S=o(C[g]),S[0].style.opacity=1.3*p-.3,S[0].className.indexOf("sliding")>=0){var M=S[0].f7NavbarLeftOffset*(1-p);1===r.device.pixelRatio&&(M=Math.round(M)),S.transform("translate3d("+M+"px,0,0)"),r.params.animateNavBackIcon&&S[0].className.indexOf("left")>=0&&_.length>0&&_.transform("translate3d("+-M+"px,0,0)")}}}},s.handleTouchEnd=function(e){if(!P||!j)return P=!1,void(j=!1);if(P=!1,j=!1,0===b)return o([N[0],O[0]]).transform("").css({opacity:"",boxShadow:""}),void(T&&(x.transform("").css({opacity:""}),C.transform("").css({opacity:""}),k&&k.length>0&&k.transform(""),_&&k.length>0&&_.transform("")));var t=(new Date).getTime()-w,n=!1;if((300>t&&b>10||t>=300&&b>y/2)&&(N.removeClass("page-on-center").addClass("page-on-right"),O.removeClass("page-on-left").addClass("page-on-center"),T&&(A.removeClass("navbar-on-center").addClass("navbar-on-right"),L.removeClass("navbar-on-left").addClass("navbar-on-center")),n=!0),o([N[0],O[0]]).transform("").css({opacity:"",boxShadow:""}).addClass("page-transitioning"),T&&(x.css({opacity:""}).each(function(){var e=n?this.f7NavbarRightOffset:0,t=o(this);t.transform("translate3d("+e+"px,0,0)"),r.params.animateNavBackIcon&&t.hasClass("left")&&k.length>0&&k.addClass("page-transitioning").transform("translate3d("+-e+"px,0,0)")}).addClass("page-transitioning"),C.transform("").css({opacity:""}).each(function(){var e=n?0:this.f7NavbarLeftOffset,t=o(this);t.transform("translate3d("+e+"px,0,0)"),r.params.animateNavBackIcon&&t.hasClass("left")&&_.length>0&&_.addClass("page-transitioning").transform("translate3d("+-e+"px,0,0)")}).addClass("page-transitioning")),M=!1,s.allowPageChange=!1,n){var a=s.history[s.history.length-2];s.url=a,r.pageBackCallbacks("before",s,{pageContainer:N[0],url:a,position:"center",newPage:O,oldPage:N,swipeBack:!0}),r.pageAnimCallbacks("before",s,{pageContainer:O[0],url:a,position:"left",newPage:O,oldPage:N,swipeBack:!0})}N.transitionEnd(function(){o([N[0],O[0]]).removeClass("page-transitioning"),T&&(x.removeClass("page-transitioning").css({opacity:""}),C.removeClass("page-transitioning").css({opacity:""}),k&&k.length>0&&k.removeClass("page-transitioning"),_&&_.length>0&&_.removeClass("page-transitioning")),M=!0,s.allowPageChange=!0,n&&(r.params.pushState&&history.back(),r.pageBackCallbacks("after",s,{pageContainer:N[0],url:a,position:"center",newPage:O,oldPage:N,swipeBack:!0}),r.pageAnimCallbacks("after",s,{pageContainer:O[0],url:a,position:"left",newPage:O,oldPage:N,swipeBack:!0}),r.router.afterBack(s,N,O))})},s.attachEvents=function(e){var t=e?"off":"on";l[t](r.touchEvents.start,s.handleTouchStart),l[t](r.touchEvents.move,s.handleTouchMove),l[t](r.touchEvents.end,s.handleTouchEnd)},s.detachEvents=function(){s.attachEvents(!0)},s.params.swipeBackPage&&s.attachEvents(),r.views.push(s),s.main&&(r.mainView=s),s.router={load:function(e){return r.router.load(s,e)},back:function(e){return r.router.back(s,e)},loadPage:function(e){if(e=e||{},"string"==typeof e){var t=e;e={},t&&0===t.indexOf("#")&&s.params.domCache?e.pageName=t.split("#")[1]:e.url=t}return r.router.load(s,e)},loadContent:function(e){return r.router.load(s,{content:e})},reloadPage:function(e){return r.router.load(s,{url:e,reload:!0})},reloadContent:function(e){return r.router.load(s,{content:e,reload:!0})},reloadPreviousPage:function(e){return r.router.load(s,{url:e,reloadPrevious:!0,reload:!0})},reloadPreviousContent:function(e){return r.router.load(s,{content:e,reloadPrevious:!0,reload:!0})},refreshPage:function(){var e={url:s.url,reload:!0,ignoreCache:!0};return e.url&&0===e.url.indexOf("#")&&(s.params.domCache&&s.pagesCache[e.url]?(e.pageName=s.pagesCache[e.url],e.url=void 0,delete e.url):s.contentCache[e.url]&&(e.content=s.contentCache[e.url],e.url=void 0,delete e.url)),r.router.load(s,e)},refreshPreviousPage:function(){var e={url:s.history[s.history.length-2],reload:!0,reloadPrevious:!0,ignoreCache:!0};return e.url&&0===e.url.indexOf("#")&&s.params.domCache&&s.pagesCache[e.url]&&(e.pageName=s.pagesCache[e.url],e.url=void 0,delete e.url),r.router.load(s,e)}},s.loadPage=s.router.loadPage,s.loadContent=s.router.loadContent,s.reloadPage=s.router.reloadPage,s.reloadContent=s.router.reloadContent,s.reloadPreviousPage=s.router.reloadPreviousPage,s.reloadPreviousContent=s.router.reloadPreviousContent,s.refreshPage=s.router.refreshPage,s.refreshPreviousPage=s.router.refreshPreviousPage,s.back=s.router.back,s.hideNavbar=function(){return r.hideNavbar(l)},s.showNavbar=function(){return r.showNavbar(l)},s.hideToolbar=function(){return r.hideToolbar(l)},s.showToolbar=function(){return r.showToolbar(l)},r.params.pushState&&s.main){var D;f?D=d.split(r.params.pushStateRoot+h)[1]:d.indexOf(h)>=0&&d.indexOf(h+"#")<0&&(D=d.split(h)[1]);var F=r.params.pushStateNoAnimation?!1:void 0;if(D)r.router.load(s,{url:D,animatePages:F,pushState:!1});else if(d.indexOf(h+"#")>=0){var R=history.state;R.pageName&&"viewIndex"in R&&r.router.load(s,{pageName:R.pageName,pushState:!1})}}return s.destroy=function(){s.detachEvents(),s=void 0},r.pluginHook("addView",s),s};r.addView=function(e,t){return new u(e,t)},r.navbarInitCallback=function(e,t,n,a,i,s){var l={container:n,innerContainer:a},u={url:i,query:o.parseUrlQuery(i||""),container:t,name:o(t).attr("data-page"),view:e,from:s},c={navbar:l,page:u};r.pluginHook("navbarInit",l,u),o(a).trigger("navbarInit",c)},r.sizeNavbars=function(e){var t=e?o(e).find(".navbar .navbar-inner:not(.cached)"):o(".navbar .navbar-inner:not(.cached)");t.each(function(){var e=o(this);if(!e.hasClass("cached")){var t,n,a=r.rtl?e.find(".right"):e.find(".left"),i=r.rtl?e.find(".left"):e.find(".right"),s=e.find(".center"),l=0===a.length,u=0===i.length,c=l?0:a.outerWidth(!0),d=u?0:i.outerWidth(!0),p=s.outerWidth(!0),h=e.width(),f=e.hasClass("navbar-on-left");u&&(t=h-p),l&&(t=0),l||u||(t=(h-d-p+c)/2);var m=(h-p)/2;h-c-d>p?(c>m&&(m=c),m+p>h-d&&(m=h-d-p),n=m-t):n=0;var g=r.rtl?-1:1,v=n;r.rtl&&l&&u&&s.length>0&&(v=-v),s.css({left:v+"px"}),s.hasClass("sliding")&&(s[0].f7NavbarLeftOffset=-(t+n)*g,s[0].f7NavbarRightOffset=(h-t-n-p)*g,f&&s.transform("translate3d("+s[0].f7NavbarLeftOffset+"px, 0, 0)")),!l&&a.hasClass("sliding")&&(r.rtl?(a[0].f7NavbarLeftOffset=-(h-a.outerWidth())/2*g,a[0].f7NavbarRightOffset=c*g):(a[0].f7NavbarLeftOffset=-c,a[0].f7NavbarRightOffset=(h-a.outerWidth())/2),f&&a.transform("translate3d("+a[0].f7NavbarLeftOffset+"px, 0, 0)")),!u&&i.hasClass("sliding")&&(r.rtl?(i[0].f7NavbarLeftOffset=-d*g,i[0].f7NavbarRightOffset=(h-i.outerWidth())/2*g):(i[0].f7NavbarLeftOffset=-(h-i.outerWidth())/2,i[0].f7NavbarRightOffset=d),f&&i.transform("translate3d("+i[0].f7NavbarLeftOffset+"px, 0, 0)"))}})},r.hideNavbar=function(e){return o(e).addClass("hidden-navbar"),!0},r.showNavbar=function(e){var t=o(e);return t.addClass("hiding-navbar").removeClass("hidden-navbar").find(".navbar").transitionEnd(function(){t.removeClass("hiding-navbar")}),!0},r.hideToolbar=function(e){return o(e).addClass("hidden-toolbar"),!0},r.showToolbar=function(e){var t=o(e);t.addClass("hiding-toolbar").removeClass("hidden-toolbar").find(".toolbar").transitionEnd(function(){t.removeClass("hiding-toolbar")})},r.initSearchbar=function(e){function t(){f.val("").trigger("change"),p.removeClass("searchbar-active searchbar-not-empty"),g.length>0&&g.css(C,-x+"px"),v&&h.removeClass("searchbar-overlay-active"),r.device.ios?setTimeout(function(){f.blur(),v.trigger("disableSearch")},400):(f.blur(),v.trigger("disableSearch"))}function n(){r.device.ios?setTimeout(function(){v&&!p.hasClass("searchbar-active")&&h.addClass("searchbar-overlay-active"),p.addClass("searchbar-active"),g.length>0&&g.css(C,"0px"),v.trigger("enableSearch")},400):(v&&!p.hasClass("searchbar-active")&&h.addClass("searchbar-overlay-active"),p.addClass("searchbar-active"),g.length>0&&g.css(C,"0px"),v.trigger("enableSearch"))}function a(){f.val("").trigger("change"),v.trigger("clearSearch")}function i(){setTimeout(function(){var e=f.val().trim();0===e.length?(p.removeClass("searchbar-not-empty"),v&&p.hasClass("searchbar-active")&&h.addClass("searchbar-overlay-active")):(p.addClass("searchbar-not-empty"),v&&p.hasClass("searchbar-active")&&h.removeClass("searchbar-overlay-active")),v.length>0&&y&&c(e)},0)}function s(e){e.preventDefault()}function l(e){var r=e?"off":"on";p[r]("submit",s),g[r]("click",t),h[r]("click",t),f[r]("focus",n),f[r]("change keydown keypress keyup",i),m[r]("click",a)}function u(){l(!0)}function c(e){var t=e.trim().toLowerCase().split(" ");v.find("li").removeClass("hidden-by-searchbar");var n=[];v.find("li").each(function(e,a){a=o(a);var i=a.find(y);if(0!==i.length){var r;r=i.text().trim().toLowerCase();for(var s=0,l=0;l<t.length;l++)r.indexOf(t[l])>=0&&s++;s!==t.length?a.addClass("hidden-by-searchbar"):n.push(a[0])}}),r.params.searchbarHideDividers&&v.find(".item-divider, .list-group-title").each(function(){for(var e=o(this),t=e.nextAll("li"),n=!0,a=0;a<t.length;a++){var i=o(t[a]);if(i.hasClass("list-group-title")||i.hasClass("item-divider"))break;i.hasClass("hidden-by-searchbar")||(n=!1)}n?e.addClass("hidden-by-searchbar"):e.removeClass("hidden-by-searchbar")}),r.params.searchbarHideGroups&&v.find(".list-group").each(function(){var e=o(this),t=e.find("li:not(.hidden-by-searchbar)");0===t.length?e.addClass("hidden-by-searchbar"):e.removeClass("hidden-by-searchbar")}),v.trigger("search",{query:e,foundItems:n}),0===n.length?(w.show(),b.hide()):(w.hide(),b.show())}function d(){u(),e.off("pageBeforeRemove",d)}e=o(e);var p=e.hasClass("searchbar")?e:e.find(".searchbar");if(0!==p.length){e.hasClass("page")||(e=p.parents(".page").eq(0));var h=e.hasClass("page")?e.find(".searchbar-overlay"):o(".searchbar-overlay"),f=p.find('input[type="search"]'),m=p.find(".searchbar-clear"),g=p.find(".searchbar-cancel"),v=o(p.attr("data-search-list")),y=p.attr("data-search-in"),b=(p.attr("data-search-by"),p.attr("data-searchbar-found"));b?b=o(b):(b=e.find(".searchbar-found"),0===b.length&&(b=o(".searchbar-found")));var w=p.attr("data-searchbar-not-found");w?w=o(w):(w=e.find(".searchbar-not-found"),0===w.length&&(w=o(".searchbar-not-found")));var x,C=r.rtl?"margin-left":"margin-right";g.length>0&&(x=g.width(),g.css(C,-x+"px")),p[0].f7DestroySearchbar=u,l(),e.hasClass("page")&&e.on("pageBeforeRemove",d)}},r.destroySearchbar=function(e){e=o(e);var t=e.hasClass("searchbar")?e:e.find(".searchbar");0!==t.length&&t[0].f7DestroySearchbar&&t[0].f7DestroySearchbar()},r.initMessagebar=function(e){function t(e){e.preventDefault()}function n(){c.css({height:""});var e=c[0].offsetHeight,t=e-c[0].clientHeight,n=c[0].scrollHeight;if(n+t>e){var a=n+t,i=p+(a-h),r=l.attr("data-max-height")||l.parents(".view")[0].offsetHeight-88;i>r&&(i=r,a=i-p+h),c.css("height",a+"px"),l.css("height",i+"px"),d.length>0&&(d.css("padding-bottom",i+"px"),d.scrollTop(d[0].scrollHeight-d[0].offsetHeight))}else d.length>0&&(l.css({height:""}),d.css({"padding-bottom":""}))}function a(e){clearTimeout(u),u=setTimeout(function(){n()},0)}function i(e){var n=e?"off":"on";l[n]("submit",t),c[n]("change keydown keypress keyup paste cut",a)}function r(){i(!0)}function s(){r(),e.off("pageBeforeRemove",s)}e=o(e);var l=e.hasClass("messagebar")?e:e.find(".messagebar");if(0!==l.length){var u,c=l.find("textarea"),d=l.parents(".page").find(".page-content"),p=l[0].offsetHeight,h=c[0].offsetHeight;l[0].f7DestroyMessagebar=r,i(),e.hasClass("page")&&e.on("pageBeforeRemove",s)}},r.destroyMessagebar=function(e){e=o(e);var t=e.hasClass("messagebar")?e:e.find(".messagebar");0!==t.length&&t[0].f7DestroyMessagebar&&t[0].f7DestroyMessagebar()},r.cache=[],r.removeFromCache=function(e){for(var t=!1,n=0;n<r.cache.length;n++)r.cache[n].url===e&&(t=n);t!==!1&&r.cache.splice(t,1)},r.xhr=!1,r.get=function(e,t,n,a){var i=e;if(r.params.cacheIgnoreGetParameters&&e.indexOf("?")>=0&&(i=e.split("?")[0]),r.params.cache&&!n&&e.indexOf("nocache")<0&&r.params.cacheIgnore.indexOf(i)<0)for(var s=0;s<r.cache.length;s++)if(r.cache[s].url===i&&(new Date).getTime()-r.cache[s].time<r.params.cacheDuration)return a(r.cache[s].content),!1;return r.xhr=o.ajax({url:e,method:"GET",start:r.params.onAjaxStart,complete:function(e){200===e.status||0===e.status?(r.params.cache&&!n&&(r.removeFromCache(i),r.cache.push({url:i,time:(new Date).getTime(),content:e.responseText})),a(e.responseText,!1)):a(e.responseText,!0),r.params.onAjaxComplete&&r.params.onAjaxComplete(e)},error:function(e){a(e.responseText,!0),r.params.onAjaxError&&r.params.onAjaxonAjaxError(e)}}),t&&(t.xhr=r.xhr),r.xhr},r.pageCallbacks={},r.onPage=function(e,t,n){if(t&&t.split(" ").length>1){for(var a=t.split(" "),i=[],s=0;s<a.length;s++)i.push(r.onPage(e,a[s],n));return i.remove=function(){for(var e=0;e<i.length;e++)i[e].remove()},i.trigger=function(){for(var e=0;e<i.length;e++)i[e].trigger()},i}var o=r.pageCallbacks[e][t];return o||(o=r.pageCallbacks[e][t]=[]),r.pageCallbacks[e][t].push(n),{remove:function(){for(var e,t=0;t<o.length;t++)o[t].toString()===n.toString()&&(e=t);"undefined"!=typeof e&&o.splice(e,1)},trigger:n}};for(var c="beforeInit init reinit beforeAnimation afterAnimation back afterBack beforeRemove".split(" "),d=0;d<c.length;d++)r.pageCallbacks[c[d]]={},n(c[d]);r.triggerPageCallbacks=function(e,t,n){var a=r.pageCallbacks[e]["*"];if(a)for(var i=0;i<a.length;i++)a[i](n);var s=r.pageCallbacks[e][t];if(s&&0!==s.length)for(var o=0;o<s.length;o++)s[o](n)},r.pageInitCallback=function(e,t,n,a,i){if(!t.f7PageInitialized||e.params.domCache){var s={container:t,url:n,query:o.parseUrlQuery(n||""),name:o(t).attr("data-page"),view:e,from:a,navbarInnerContainer:i};if(t.f7PageInitialized&&e.params.domCache)return r.reinitPage(t),r.pluginHook("pageReinit",s),r.params.onPageReinit&&r.params.onPageBeforeInit(r,s),r.triggerPageCallbacks("reinit",s.name,s),void o(s.container).trigger("pageReinit",{page:s});t.f7PageInitialized=!0,t.f7PageData=s,e&&(e.activePage=s),r.pluginHook("pageBeforeInit",s),r.params.onPageBeforeInit&&r.params.onPageBeforeInit(r,s),r.triggerPageCallbacks("beforeInit",s.name,s),o(s.container).trigger("pageBeforeInit",{page:s}),r.initPage(t),r.pluginHook("pageInit",s),r.params.onPageInit&&r.params.onPageInit(r,s),r.triggerPageCallbacks("init",s.name,s),o(s.container).trigger("pageInit",{page:s})}},r.pageRemoveCallback=function(e,t,n){var a={container:t,name:o(t).attr("data-page"),view:e,from:n};r.pluginHook("pageBeforeRemove",a),r.params.onPageBeforeRemove&&r.params.onPageBeforeRemove(r,a),r.triggerPageCallbacks("beforeRemove",a.name,a),o(a.container).trigger("pageBeforeRemove",{page:a})},r.pageBackCallbacks=function(e,t,n){var a=n.pageContainer,i={container:n.pageContainer,name:o(a).attr("data-page"),url:a.f7PageData&&a.f7PageData.url,query:a.f7PageData&&a.f7PageData.query,view:t,from:n.position,swipeBack:n.swipeBack};"after"===e&&(r.pluginHook("pageAfterBack",i),r.params.onPageAfterBack&&r.params.onPageAfterBack(r,i),r.triggerPageCallbacks("afterBack",i.name,i),o(a).trigger("pageAfterBack",{page:i})),"before"===e&&(r.pluginHook("pageBack",i),r.params.onPageBack&&r.params.onPageBack(r,i),r.triggerPageCallbacks("back",i.name,i),o(i.container).trigger("pageBack",{page:i}))},r.pageAnimCallbacks=function(e,t,n){var a={container:n.pageContainer,url:n.url,query:o.parseUrlQuery(n.url||""),name:o(n.pageContainer).attr("data-page"),view:t,from:n.position,swipeBack:n.swipeBack},i=n.oldPage,s=n.newPage;n.pageContainer.f7PageData=a,"after"===e&&(r.pluginHook("pageAfterAnimation",a),r.params.onPageAfterAnimation&&r.params.onPageAfterAnimation(r,a),r.triggerPageCallbacks("afterAnimation",a.name,a),o(a.container).trigger("pageAfterAnimation",{page:a})),"before"===e&&(o(t.container).attr("data-page",a.name),t&&(t.activePage=a),s.hasClass("no-navbar")&&!i.hasClass("no-navbar")&&t.hideNavbar(),s.hasClass("no-navbar")||!i.hasClass("no-navbar")&&!i.hasClass("no-navbar-by-scroll")||t.showNavbar(),s.hasClass("no-toolbar")&&!i.hasClass("no-toolbar")&&t.hideToolbar(),s.hasClass("no-toolbar")||!i.hasClass("no-toolbar")&&!i.hasClass("no-toolbar-by-scroll")||t.showToolbar(),i.removeClass("no-navbar-by-scroll no-toolbar-by-scroll"),r.pluginHook("pageBeforeAnimation",a),r.params.onPageBeforeAnimation&&r.params.onPageBeforeAnimation(r,a),r.triggerPageCallbacks("beforeAnimation",a.name,a),o(a.container).trigger("pageBeforeAnimation",{page:a}))},r.initPage=function(e){r.sizeNavbars&&r.sizeNavbars(o(e).parents("."+r.params.viewClass)[0]),r.initMessages&&r.initMessages(e),r.initFormsStorage&&r.initFormsStorage(e),r.initSmartSelects&&r.initSmartSelects(e),r.initSlider&&r.initSlider(e),r.initPullToRefresh&&r.initPullToRefresh(e),r.initInfiniteScroll&&r.initInfiniteScroll(e),r.initSearchbar&&r.initSearchbar(e),r.initMessagebar&&r.initMessagebar(e),r.initScrollToolbars&&r.initScrollToolbars(e)},r.reinitPage=function(e){r.sizeNavbars&&r.sizeNavbars(o(e).parents("."+r.params.viewClass)[0]),r.reinitSlider&&r.reinitSlider(e)},r.router={temporaryDom:document.createElement("div"),findElement:function(e,t,n,a){t=o(t),a&&(e+=":not(.cached)");var i=t.find(e);return i.length>1&&("string"==typeof n.selector&&(i=t.find(n.selector+" "+e)),i.length>1&&(i=t.find("."+r.params.viewMainClass+" "+e))),1===i.length?i:(a||(i=r.router.findElement(e,t,n,!0)),i&&1===i.length?i:void 0)},animatePages:function(e,t,n,a){var i="page-on-center page-on-right page-on-left";"to-left"===n&&(e.removeClass(i).addClass("page-from-center-to-left"),t.removeClass(i).addClass("page-from-right-to-center")),"to-right"===n&&(e.removeClass(i).addClass("page-from-left-to-center"),t.removeClass(i).addClass("page-from-center-to-right"))},prepareNavbar:function(e,t,n){o(e).find(".sliding").each(function(){var e=o(this),a="right"===n?this.f7NavbarRightOffset:this.f7NavbarLeftOffset;r.params.animateNavBackIcon&&(e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-a+"px,0,0)"),"left"===n&&e.hasClass("center")&&o(t).find(".left .back .icon ~ span").length>0&&(a+=o(t).find(".left .back span")[0].offsetLeft)),e.transform("translate3d("+a+"px,0,0)")})},animateNavbars:function(e,t,n,a){var i="navbar-on-right navbar-on-center navbar-on-left";"to-left"===n&&(t.removeClass(i).addClass("navbar-from-right-to-center"),t.find(".sliding").each(function(){var e=o(this);e.transform("translate3d(0px,0,0)"),r.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d(0px,0,0)")}),e.removeClass(i).addClass("navbar-from-center-to-left"),e.find(".sliding").each(function(){var e=o(this);r.params.animateNavBackIcon&&(e.hasClass("center")&&t.find(".sliding.left .back .icon").length>0&&(this.f7NavbarLeftOffset+=t.find(".sliding.left .back span")[0].offsetLeft),e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-this.f7NavbarLeftOffset+"px,0,0)")),e.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")})),"to-right"===n&&(e.removeClass(i).addClass("navbar-from-left-to-center"),e.find(".sliding").each(function(){var e=o(this);e.transform("translate3d(0px,0,0)"),r.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d(0px,0,0)")}),t.removeClass(i).addClass("navbar-from-center-to-right"),t.find(".sliding").each(function(){var e=o(this);r.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-this.f7NavbarRightOffset+"px,0,0)"),e.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)")}))},preprocess:function(e,t,n){r.pluginHook("routerPreprocess",e,t,n),e=r.pluginProcess("preprocess",e),r.params.preprocess?(e=r.params.preprocess(e,t,n),"undefined"!=typeof e&&n(e)):n(e)},template7Render:function(e,t){var n,a,i=t.url,s=t.content,u=t.content,c=t.context,d=t.contextName,p=t.template;t.pageName;if("string"==typeof s?i?r.templatesCache[i]?a=l.templatesCache[i]:(a=l.compile(s),l.templatesCache[i]=a):a=l.compile(s):p&&(a=p),c)n=c;else{if(d)if(d.indexOf(".")>=0){for(var h=d.split("."),f=l.data[h[0]],m=1;m<h.length;m++)h[m]&&(f=f[h[m]]);n=f}else n=l.data[d];if(!n&&i&&(n=l.data["url:"+i]),!n&&"string"==typeof s&&!p){var g=s.match(/(data-page=["'][^"^']*["'])/);if(g){var v=g[0].split("data-page=")[1].replace(/['"]/g,"");v&&(n=l.data["page:"+v])}}if(!n&&p&&l.templates)for(var y in l.templates)l.templates[y]===p&&(n=l.data[y]);n||(n={})}if(a&&n){if((n = n()), i){var b=o.parseUrlQuery(i);n.url_query={};for(var w in b)n.url_query[w]=b[w]}u=a(n)}return u}},r.router._load=function(e,t){function n(){e.allowPageChange=!0,a.removeClass("page-from-right-to-center page-on-right").addClass("page-on-center"),i.removeClass("page-from-center-to-left page-on-center").addClass("page-on-left"),p&&(c.removeClass("navbar-from-right-to-center navbar-on-right").addClass("navbar-on-center"),u.removeClass("navbar-from-center-to-left navbar-on-center").addClass("navbar-on-left")),r.pageAnimCallbacks("after",e,{pageContainer:a[0],url:f,position:"right",oldPage:i,newPage:a}),r.params.pushState&&r.pushStateClearQueue(),e.params.swipeBackPage||e.params.preloadPreviousPage||(e.params.domCache?(i.addClass("cached"),u.addClass("cached")):(0!==f.indexOf("#")||0!==a.attr("data-page").indexOf("smart-select-"))&&(r.pageRemoveCallback(e,i[0],"left"),i.remove(),p&&u.remove())),e.params.uniqueHistory&&E&&e.refreshPreviousPage()}t=t||{};var a,i,s,l,u,c,d,p,h,f=t.url,m=t.content,g=t.content,v=t.template,y=t.pageName,b=o(e.container),w=o(e.pagesContainer),x=t.animatePages,C="undefined"==typeof f&&m||v,k=t.pushState;if("undefined"==typeof x&&(x=e.params.animatePages),r.pluginHook("routerLoad",e,t),(r.params.template7Pages&&"string"==typeof m||v)&&(g=r.router.template7Render(e,t),g&&!m&&(m=g)),r.router.temporaryDom.innerHTML="",!y)if(f||"string"==typeof m)r.router.temporaryDom.innerHTML=g;else if("length"in m&&m.length>1)for(var _=0;_<m.length;_++)o(r.router.temporaryDom).append(m[_]);else o(r.router.temporaryDom).append(m);if(h=t.reload&&(t.reloadPrevious?"left":"center"),a=y?w.find('.page[data-page="'+y+'"]'):r.router.findElement(".page",r.router.temporaryDom,e),!a||0===a.length||y&&e.activePage&&e.activePage.name===y)return void(e.allowPageChange=!0);if(a.addClass(t.reload?"page-on-"+h:"page-on-right"),s=w.children(".page:not(.cached)"),t.reload&&t.reloadPrevious&&1===s.length)return void(e.allowPageChange=!0);if(t.reload)i=s.eq(s.length-1);else{if(s.length>1){for(l=0;l<s.length-2;l++)e.params.domCache?o(s[l]).addClass("cached"):(r.pageRemoveCallback(e,s[l],"left"),o(s[l]).remove());e.params.domCache?o(s[l]).addClass("cached"):(r.pageRemoveCallback(e,s[l],"left"),o(s[l]).remove())}i=w.children(".page:not(.cached)")}if(e.params.domCache&&a.removeClass("cached"),e.params.dynamicNavbar)if(p=!0,c=y?b.find('.navbar-inner[data-page="'+y+'"]'):r.router.findElement(".navbar-inner",r.router.temporaryDom,e),c&&0!==c.length||(p=!1),d=b.find(".navbar"),t.reload)u=d.find(".navbar-inner:not(.cached):last-child");else if(u=d.find(".navbar-inner:not(.cached)"),u.length>0){for(l=0;l<u.length-1;l++)e.params.domCache?o(u[l]).addClass("cached"):o(u[l]).remove();c||1!==u.length||(e.params.domCache?o(u[0]).addClass("cached"):o(u[0]).remove()),u=d.find(".navbar-inner:not(.cached)")}if(p&&(c.addClass(t.reload?"navbar-on-"+h:"navbar-on-right"),e.params.domCache&&c.removeClass("cached"),a[0].f7RelatedNavbar=c[0],c[0].f7RelatedPage=a[0]),!f){var T=y||a.attr("data-page");f=C?"#"+r.params.dynamicPageUrl.replace(/{{name}}/g,T).replace(/{{index}}/g,e.history.length-(t.reload?1:0)):"#"+T,e.params.domCache||(e.contentCache[f]=m),e.params.domCache&&y&&(e.pagesCache[f]=y)}if(r.params.pushState&&!t.reloadPrevious&&e.main){"undefined"==typeof k&&(k=!0);var S=r.params.pushStateRoot||"",P=t.reload?"replaceState":"pushState";k&&(C||y?C&&m?history[P]({content:m,url:f,viewIndex:r.views.indexOf(e)},"",S+r.params.pushStateSeparator+f):y&&history[P]({pageName:y,url:f,viewIndex:r.views.indexOf(e)},"",S+r.params.pushStateSeparator+f):history[P]({url:f,viewIndex:r.views.indexOf(e)},"",S+r.params.pushStateSeparator+f))}if(e.url=f,t.reload){var j=e.history[e.history.length-(t.reloadPrevious?2:1)];j&&0===j.indexOf("#")&&j in e.contentCache&&j!==f&&(e.contentCache[j]=null,delete e.contentCache[j]),e.history[e.history.length-(t.reloadPrevious?2:1)]=f}else e.history.push(f);var E=!1;if(e.params.uniqueHistory){var N=e.history,O=f;if(e.params.uniqueHistoryIgnoreGetParameters)for(N=[],O=f.split("?")[0],l=0;l<e.history.length;l++)N.push(e.history[l].split("?")[0]);N.indexOf(O)!==N.lastIndexOf(O)&&(e.history=e.history.slice(0,N.indexOf(O)),e.history.push(f),E=!0)}if(t.reloadPrevious?(i=i.prev(".page"),a.insertBefore(i),p&&(u=u.prev(".navbar-inner"),c.insertAfter(u))):(w.append(a[0]),p&&d.append(c[0])),t.reload&&(e.params.domCache&&e.initialPages.indexOf(i[0])>=0?(i.addClass("cached"),p&&u.addClass("cached")):(r.pageRemoveCallback(e,i[0],h),i.remove(),p&&u.remove())),r.pageInitCallback(e,a[0],f,t.reload?h:"right",p?c[0]:void 0),p&&r.navbarInitCallback(e,a[0],d[0],c[0],f,t.reload?h:"right"),t.reload)return e.allowPageChange=!0,void(E&&e.refreshPreviousPage());p&&x&&r.router.prepareNavbar(c,u,"right");a[0].clientLeft;r.pageAnimCallbacks("before",e,{pageContainer:a[0],url:f,position:"right",oldPage:i,newPage:a}),x?(r.router.animatePages(i,a,"to-left",e),p&&setTimeout(function(){r.router.animateNavbars(u,c,"to-left",e)},0),a.animationEnd(function(e){n()})):n()},r.router.load=function(e,t){function n(n){r.router.preprocess(n,a,function(n){t.content=n,r.router._load(e,t)})}var a=t.url,i=t.content,s=t.pageName,o=t.template;return e.allowPageChange?a&&e.url===a&&!t.reload?!1:(e.allowPageChange=!1,r.xhr&&e.xhr&&e.xhr===r.xhr&&(r.xhr.abort(),r.xhr=!1),i||s?void n(i):o?void r.router._load(e,t):t.url&&"#"!==t.url?void r.get(t.url,e,t.ignoreCache,function(t,a){return a?void(e.allowPageChange=!0):void n(t)}):void(e.allowPageChange=!0)):!1},r.router._back=function(e,t){function n(){r.pageBackCallbacks("after",e,{pageContainer:l[0],url:m,position:"center",oldPage:l,newPage:u}),r.pageAnimCallbacks("after",e,{pageContainer:u[0],url:m,position:"left",oldPage:l,newPage:u}),r.router.afterBack(e,l[0],u[0])}function a(){r.pageBackCallbacks("before",e,{pageContainer:l[0],url:m,position:"center",oldPage:l,newPage:u}),r.pageAnimCallbacks("before",e,{pageContainer:u[0],url:m,position:"left",oldPage:l,newPage:u}),b?(r.router.animatePages(u,l,"to-right",e),f&&setTimeout(function(){r.router.animateNavbars(d,c,"to-right",e)},0),u.animationEnd(function(){n()})):(d.find(".sliding, .sliding .back .icon").transform(""),n())}function i(){if(r.router.temporaryDom.innerHTML="",m||"string"==typeof g)r.router.temporaryDom.innerHTML=v;else if("length"in g&&g.length>1)for(var t=0;t<g.length;t++)o(r.router.temporaryDom).append(g[t]);else o(r.router.temporaryDom).append(g);u=r.router.findElement(".page",r.router.temporaryDom,e),e.params.dynamicNavbar&&(d=r.router.findElement(".navbar-inner",r.router.temporaryDom,e))}function s(){if(!u||0===u.length)return void(e.allowPageChange=!0);if(e.params.dynamicNavbar&&(f=d&&0!==d.length?!0:!1),u.addClass("page-on-left").removeClass("cached"),f&&(p=_.find(".navbar"),h=_.find(".navbar-inner:not(.cached)"),d.addClass("navbar-on-left").removeClass("cached")),C){var t,n;t=o(S[S.length-2]),f&&(n=o(t[0].f7RelatedNavbar||h[h.length-2])),e.params.domCache&&e.initialPages.indexOf(t[0])>=0?(t.addClass("cached"),f&&n.addClass("cached")):(t.remove(),f&&n.remove()),S=T.children(".page:not(.cached)"),f&&(h=_.find(".navbar-inner:not(.cached)")),e.history.indexOf(m)>=0?e.history=e.history.slice(0,e.history.indexOf(m)+2):e.history[e.history.length-2]=m}if(l=o(S[S.length-1]),f&&(c=o(h[h.length-1])),f&&(P&&d.insertBefore(c),d[0].f7RelatedPage=u[0],u[0].f7RelatedNavbar=d[0]),P&&u.insertBefore(l),r.pageInitCallback(e,u[0],m,"left",f?d[0]:void 0),f&&r.navbarInitCallback(e,u[0],p[0],d[0],m,"right"),f&&d.hasClass("navbar-on-left")&&b&&r.router.prepareNavbar(d,c,"left"),w)return void(e.allowPageChange=!0);e.url=m;u[0].clientLeft;a()}t=t||{};var l,u,c,d,p,h,f,m=t.url,g=t.content,v=t.content,y=t.template,b=t.animatePages,w=t.preloadOnly,x=t.pushState,C=(t.ignoreCache,t.force),k=t.pageName,_=o(e.container),T=o(e.pagesContainer),S=T.children(".page:not(.cached)"),P=!0;return"undefined"==typeof b&&(b=e.params.animatePages),
r.pluginHook("routerBack",e,t),(r.params.template7Pages&&"string"==typeof g||y)&&(v=r.router.template7Render(e,t),v&&!g&&(g=v)),r.params.pushState&&("undefined"==typeof x&&(x=!0),!w&&history.state&&x&&history.back()),S.length>1&&!C?w?void(e.allowPageChange=!0):(e.url=e.history[e.history.length-2],m=e.url,u=o(S[S.length-2]),l=o(S[S.length-1]),e.params.dynamicNavbar&&(f=!0,h=_.find(".navbar-inner:not(.cached)"),d=o(h[0]),c=o(h[1])),P=!1,void s()):C?m&&m===e.url||k&&e.activePage&&e.activePage.name===k?void(e.allowPageChange=!0):g?(i(),void s()):k&&e.params.domCache?(k&&(m="#"+k),u=o(_).find('.page[data-page="'+k+'"]'),u[0].f7PageData&&u[0].f7PageData.url&&(m=u[0].f7PageData.url),e.params.dynamicNavbar&&(d=o(_).find('.navbar-inner[data-page="'+k+'"]'),0===d.length&&(d=o(u[0].f7RelatedNavbar))),void s()):void(e.allowPageChange=!0):(e.url=e.history[e.history.length-2],m=e.url,g?(i(),void s()):k?(u=o(_).find('.page[data-page="'+k+'"]'),e.params.dynamicNavbar&&(d=o(_).find('.navbar-inner[data-page="'+k+'"]')),void s()):void(e.allowPageChange=!0))},r.router.back=function(e,t){function n(n){r.router.preprocess(n,a,function(n){t.content=n,r.router._back(e,t)})}t=t||{};var a=t.url,i=t.content,s=t.pageName,l=t.force;if(!e.allowPageChange)return!1;e.allowPageChange=!1,r.xhr&&e.xhr&&e.xhr===r.xhr&&(r.xhr.abort(),r.xhr=!1);var u=o(e.pagesContainer).find(".page:not(.cached)");if(u.length>1&&!l)return void r.router._back(e,t);if(l){if(!a&&i)return void n(i);if(!a&&s)return s&&(a="#"+s),void n();if(a)return void r.get(t.url,e,t.ignoreCache,function(t,a){return a?void(e.allowPageChange=!0):void n(t)})}else{if(a=t.url=e.history[e.history.length-2],!a)return void(e.allowPageChange=!0);if(0===a.indexOf("#")&&e.contentCache[a])return void n(e.contentCache[a]);if(0===a.indexOf("#")&&e.params.domCache)return s||(t.pageName=a.split("#")[1]),void n();if(a.indexOf("#")<0)return void r.get(t.url,e,t.ignoreCache,function(t,a){return a?void(e.allowPageChange=!0):void n(t)})}e.allowPageChange=!0},r.router.afterBack=function(e,t,n){t=o(t),n=o(n),e.params.domCache&&e.initialPages.indexOf(t[0])>=0?t.removeClass("page-from-center-to-right").addClass("cached"):(t.remove(),r.pageRemoveCallback(e,t[0],"right")),n.removeClass("page-from-left-to-center page-on-left").addClass("page-on-center"),e.allowPageChange=!0;var a,i=e.history.pop();if(e.params.dynamicNavbar){var s=o(e.container).find(".navbar-inner:not(.cached)"),l=o(t[0].f7RelatedNavbar||s[1]);e.params.domCache&&e.initialNavbars.indexOf(l[0])>=0?l.removeClass("navbar-from-center-to-right").addClass("cached"):l.remove(),a=o(s[0]).removeClass("navbar-on-left navbar-from-left-to-center").addClass("navbar-on-center")}if(e.params.domCache&&o(e.container).find(".page.cached").each(function(){var t=o(this),n=(t.index(),t[0].f7PageData&&t[0].f7PageData.url);n&&e.history.indexOf(n)<0&&e.initialPages.indexOf(this)<0&&(t[0].f7RelatedNavbar&&o(t[0].f7RelatedNavbar).remove(),t.remove())}),!e.params.domCache&&i&&i.indexOf("#")>-1&&i in e.contentCache&&(e.contentCache[i]=null,delete e.contentCache[i]),r.params.pushState&&r.pushStateClearQueue(),e.params.preloadPreviousPage)if(e.params.domCache&&e.history.length>1){var u,c,d=e.history[e.history.length-2];d&&e.pagesCache[d]?(u=o(e.container).find('.page[data-page="'+e.pagesCache[d]+'"]'),u.insertBefore(n),a&&(c=o(e.container).find('.navbar-inner[data-page="'+e.pagesCache[d]+'"]'),c.insertBefore(a))):(u=n.prev(".page.cached"),a&&(c=a.prev(".navbar-inner.cached"))),u&&u.length>0&&u.removeClass("cached page-on-right page-on-center").addClass("page-on-left"),c&&c.length>0&&c.removeClass("cached navbar-on-right navbar-on-center").addClass("navbar-on-left")}else r.router.back(e,{preloadOnly:!0})};var p=document.createElement("div");r.modal=function(e){e=e||{};var t="";if(r.params.modalTemplate)r._compiledTemplates.modal||(r._compiledTemplates.modal=l.compile(r.params.modalTemplate)),t=r._compiledTemplates.modal(e);else{var n="";if(e.buttons&&e.buttons.length>0)for(var a=0;a<e.buttons.length;a++)n+='<span class="modal-button'+(e.buttons[a].bold?" modal-button-bold":"")+'">'+e.buttons[a].text+"</span>";var i=e.title?'<div class="modal-title">'+e.title+"</div>":"",s=e.text?'<div class="modal-text">'+e.text+"</div>":"",u=e.afterText?e.afterText:"",c=e.buttons&&0!==e.buttons.length?"":"modal-no-buttons";t='<div class="modal '+c+'"><div class="modal-inner">'+(i+s+u)+'</div><div class="modal-buttons">'+n+"</div></div>"}p.innerHTML=t;var d=o(p).children();return o("body").append(d[0]),d.find(".modal-button").each(function(t,n){o(n).on("click",function(n){e.buttons[t].close!==!1&&r.closeModal(d),e.buttons[t].onClick&&e.buttons[t].onClick(d,n),e.onClick&&e.onClick(d,t)})}),r.openModal(d),d[0]},r.alert=function(e,t,n){return"function"==typeof t&&(n=arguments[1],t=void 0),r.modal({text:e||"",title:"undefined"==typeof t?r.params.modalTitle:t,buttons:[{text:r.params.modalButtonOk,bold:!0,onClick:n}]})},r.confirm=function(e,t,n,a){return"function"==typeof t&&(a=arguments[2],n=arguments[1],t=void 0),r.modal({text:e||"",title:"undefined"==typeof t?r.params.modalTitle:t,buttons:[{text:r.params.modalButtonCancel,onClick:a},{text:r.params.modalButtonOk,bold:!0,onClick:n}]})},r.prompt=function(e,t,n,a){return"function"==typeof t&&(a=arguments[2],n=arguments[1],t=void 0),r.modal({text:e||"",title:"undefined"==typeof t?r.params.modalTitle:t,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:r.params.modalButtonCancel},{text:r.params.modalButtonOk,bold:!0}],onClick:function(e,t){0===t&&a&&a(o(e).find(".modal-text-input").val()),1===t&&n&&n(o(e).find(".modal-text-input").val())}})},r.modalLogin=function(e,t,n,a){return"function"==typeof t&&(a=arguments[2],n=arguments[1],t=void 0),r.modal({text:e||"",title:"undefined"==typeof t?r.params.modalTitle:t,afterText:'<input type="text" name="modal-username" placeholder="'+r.params.modalUsernamePlaceholder+'" class="modal-text-input modal-text-input-double"><input type="password" name="modal-password" placeholder="'+r.params.modalPasswordPlaceholder+'" class="modal-text-input modal-text-input-double">',buttons:[{text:r.params.modalButtonCancel},{text:r.params.modalButtonOk,bold:!0}],onClick:function(e,t){var i=o(e).find('.modal-text-input[name="modal-username"]').val(),r=o(e).find('.modal-text-input[name="modal-password"]').val();0===t&&a&&a(i,r),1===t&&n&&n(i,r)}})},r.modalPassword=function(e,t,n,a){return"function"==typeof t&&(a=arguments[2],n=arguments[1],t=void 0),r.modal({text:e||"",title:"undefined"==typeof t?r.params.modalTitle:t,afterText:'<input type="password" name="modal-password" placeholder="'+r.params.modalPasswordPlaceholder+'" class="modal-text-input">',buttons:[{text:r.params.modalButtonCancel},{text:r.params.modalButtonOk,bold:!0}],onClick:function(e,t){var i=o(e).find('.modal-text-input[name="modal-password"]').val();0===t&&a&&a(i),1===t&&n&&n(i)}})},r.showPreloader=function(e){return r.modal({title:e||r.params.modalPreloaderTitle,text:'<div class="preloader"></div>'})},r.hidePreloader=function(){r.closeModal(".modal.modal-in")},r.showIndicator=function(){o("body").append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},r.hideIndicator=function(){o(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},r.actions=function(e,t){var n,a,i,s=!1;1===arguments.length?t=e:r.device.ios?r.device.ipad&&(s=!0):o(window).width()>=768&&(s=!0),t=t||[],t.length>0&&!o.isArray(t[0])&&(t=[t]);var u;if(s){var c='<div class="popover actions-popover"><div class="popover-inner">{{#each this}}<div class="list-block"><ul>{{#each this}}{{#if label}}<li class="actions-popover-label {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</li>{{else}}<li><a href="#" class="item-link list-button {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</a></li>{{/if}}{{/each}}</ul></div>{{/each}}</div></div>';r._compiledTemplates.actionsPopover||(r._compiledTemplates.actionsPopover=l.compile(c));var d=r._compiledTemplates.actionsPopover(t);n=o(r.popover(d,e,!0)),a=".list-block ul",i=".list-button"}else{if(r.params.modalActionsTemplate)r._compiledTemplates.actions||(r._compiledTemplates.actions=l.compile(r.params.modalActionsTemplate)),u=r._compiledTemplates.actions(t);else{for(var h="",f=0;f<t.length;f++)for(var m=0;m<t[f].length;m++){0===m&&(h+='<div class="actions-modal-group">');var g=t[f][m],v=g.label?"actions-modal-label":"actions-modal-button";g.bold&&(v+=" actions-modal-button-bold"),g.color&&(v+=" color-"+g.color),h+='<span class="'+v+'">'+g.text+"</span>",m===t[f].length-1&&(h+="</div>")}u='<div class="actions-modal">'+h+"</div>"}p.innerHTML=u,n=o(p).children(),o("body").append(n[0]),a=".actions-modal-group",i=".actions-modal-button"}var y=n.find(a);return y.each(function(e,a){var l=e;o(a).children().each(function(e,a){var u,c=e,d=t[l][c];!s&&o(a).is(i)&&(u=o(a)),s&&o(a).find(i).length>0&&(u=o(a).find(i)),u&&u.on("click",function(e){d.close!==!1&&r.closeModal(n),d.onClick&&d.onClick(n,e)})})}),s||r.openModal(n),n[0]},r.popover=function(e,t,n){function a(){e.css({left:"",top:""});var n=e.width(),a=e.height(),i=e.find(".popover-angle"),r=i.width()/2;i.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""});var s=t.outerWidth(),l=t.outerHeight(),u=t.offset(),c=t.parents(".page");c.length>0&&(u.top=u.top-c[0].scrollTop);var d=o(window).height(),p=o(window).width(),h=0,f=0,m=0,g="top";a+r<u.top?h=u.top-a-r:a+r<d-u.top-l?(g="bottom",h=u.top+l+r):(g="middle",h=l/2+u.top-a/2,m=h,0>h?h=5:h+a>d&&(h=d-a-5),m-=h),"top"===g||"bottom"===g?(f=s/2+u.left-n/2,m=f,5>f&&(f=5),f+n>p&&(f=p-n-5),"top"===g&&i.addClass("on-bottom"),"bottom"===g&&i.addClass("on-top"),m-=f,i.css({left:n/2-r+m+"px"})):"middle"===g&&(f=u.left-n-r,i.addClass("on-right"),5>f&&(f=u.left+s+r,i.removeClass("on-right").addClass("on-left")),f+n>p&&(f=p-n-5,i.removeClass("on-right").addClass("on-left")),i.css({top:a/2-r+m+"px"})),e.css({top:h+"px",left:f+"px"})}if("undefined"==typeof n&&(n=!0),"string"==typeof e&&e.indexOf("<")>=0){var i=document.createElement("div");if(i.innerHTML=o.trim(e),!(i.childNodes.length>0))return!1;e=i.childNodes[0],n&&e.classList.add("remove-on-close"),o("body").append(e)}return e=o(e),t=o(t),0===e.length||0===t.length?!1:(0===e.find(".popover-angle").length&&e.append('<div class="popover-angle"></div>'),e.show(),a(),o(window).on("resize",a),e.on("close",function(){o(window).off("resize",a)}),e.find("."+r.params.viewClass).length>0&&r.sizeNavbars(e.find("."+r.params.viewClass)[0]),r.openModal(e),e[0])},r.popup=function(e,t){if("undefined"==typeof t&&(t=!0),"string"==typeof e&&e.indexOf("<")>=0){var n=document.createElement("div");if(n.innerHTML=o.trim(e),!(n.childNodes.length>0))return!1;e=n.childNodes[0],t&&e.classList.add("remove-on-close"),o("body").append(e)}return e=o(e),0===e.length?!1:(e.show(),e.find("."+r.params.viewClass).length>0&&r.sizeNavbars(e.find("."+r.params.viewClass)[0]),r.openModal(e),e[0])},r.loginScreen=function(e){return e||(e=".login-screen"),e=o(e),0===e.length?!1:(e.show(),e.find("."+r.params.viewClass).length>0&&r.sizeNavbars(e.find("."+r.params.viewClass)[0]),r.openModal(e),e[0])},r.openModal=function(e){e=o(e);var t=e.hasClass("popover"),n=e.hasClass("popup"),a=e.hasClass("login-screen");t||n||a||e.css({marginTop:-Math.round(e.outerHeight()/2)+"px"});var i;a||(0!==o(".modal-overlay").length||n||o("body").append('<div class="modal-overlay"></div>'),0===o(".popup-overlay").length&&n&&o("body").append('<div class="popup-overlay"></div>'),i=o(n?".popup-overlay":".modal-overlay"));e[0].clientLeft;return e.trigger("open"),a||i.addClass("modal-overlay-visible"),e.removeClass("modal-out").addClass("modal-in").transitionEnd(function(t){e.hasClass("modal-out")?e.trigger("closed"):e.trigger("opened")}),!0},r.closeModal=function(e){if(e=o(e||".modal-in"),"undefined"==typeof e||0!==e.length){var t=e.hasClass("popover"),n=e.hasClass("popup"),a=e.hasClass("login-screen"),i=e.hasClass("remove-on-close"),r=o(n?".popup-overlay":".modal-overlay");return n?e.length===o(".popup.modal-in").length&&r.removeClass("modal-overlay-visible"):r.removeClass("modal-overlay-visible"),e.trigger("close"),t?(e.removeClass("modal-in modal-out").trigger("closed").hide(),i&&e.remove()):e.removeClass("modal-in").addClass("modal-out").transitionEnd(function(t){e.hasClass("modal-out")?e.trigger("closed"):e.trigger("opened"),n||a?(e.removeClass("modal-out").hide(),i&&e.length>0&&e.remove()):e.remove()}),!0}},r.allowPanelOpen=!0,r.openPanel=function(e){function t(){i.transitionEnd(function(e){o(e.target).is(i)?(n.hasClass("active")?n.trigger("opened"):n.trigger("closed"),r.allowPanelOpen=!0):t()})}if(!r.allowPanelOpen)return!1;var n=o(".panel-"+e);if(0===n.length||n.hasClass("active"))return!1;r.closePanel(),r.allowPanelOpen=!1;var a=n.hasClass("panel-reveal")?"reveal":"cover";n.css({display:"block"}).addClass("active"),n.trigger("open"),n.find("."+r.params.viewClass).length>0&&r.sizeNavbars&&r.sizeNavbars(n.find("."+r.params.viewClass)[0]);var i=(n[0].clientLeft,"reveal"===a?o("."+r.params.viewsClass):n);return t(),o("body").addClass("with-panel-"+e+"-"+a),!0},r.closePanel=function(){var e=o(".panel.active");if(0===e.length)return!1;var t=e.hasClass("panel-reveal")?"reveal":"cover",n=e.hasClass("panel-left")?"left":"right";e.removeClass("active");var a="reveal"===t?o("."+r.params.viewsClass):e;e.trigger("close"),r.allowPanelOpen=!1,a.transitionEnd(function(){e.hasClass("active")||(e.css({display:""}),e.trigger("closed"),o("body").removeClass("panel-closing"),r.allowPanelOpen=!0)}),o("body").addClass("panel-closing").removeClass("with-panel-"+n+"-"+t)},r.initSwipePanels=function(){function e(e){if(r.allowPanelOpen&&r.params.swipePanel&&!i&&!(o(".modal-in, .photo-browser-in").length>0)&&(r.params.swipePanelCloseOpposite||!(o(".panel.active").length>0)||a.hasClass("active"))){if(y.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,y.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,r.params.swipePanelCloseOpposite&&(g=o(".panel.active").length>0?o(".panel.active").hasClass("panel-left")?"left":"right":r.params.swipePanel),a=o(".panel.panel-"+g),r.params.swipePanelActiveArea){if("left"===g&&y.x>r.params.swipePanelActiveArea)return;if("right"===g&&y.x<window.innerWidth-r.params.swipePanelActiveArea)return}s=!1,i=!0,l=void 0,u=(new Date).getTime(),m=void 0}}function t(e){if(i&&!e.f7PreventPanelSwipe){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof l&&(l=!!(l||Math.abs(n-y.y)>Math.abs(t-y.x))),l)return void(i=!1);if(!m&&(m=t>y.x?"to-right":"to-left","left"===g&&"to-left"===m&&!a.hasClass("active")||"right"===g&&"to-right"===m&&!a.hasClass("active")))return void(i=!1);if(r.params.swipePanelNoFollow){var o=(new Date).getTime()-u;return 300>o&&("to-left"===m&&("right"===g&&r.openPanel(g),"left"===g&&a.hasClass("active")&&r.closePanel()),"to-right"===m&&("left"===g&&r.openPanel(g),"right"===g&&a.hasClass("active")&&r.closePanel())),i=!1,void(s=!1)}s||(f=a.hasClass("panel-cover")?"cover":"reveal",a.show(),v.show(),p=a.hasClass("active"),h=a.width(),a.transition(0),a.find("."+r.params.viewClass).length>0&&r.sizeNavbars&&r.sizeNavbars(a.find("."+r.params.viewClass)[0])),s=!0,e.preventDefault();var w=p?0:-r.params.swipePanelThreshold;"right"===g&&(w=-w),c=t-y.x+w,"right"===g?(d=c-(p?h:0),d>0&&(d=0),-h>d&&(d=-h)):(d=c+(p?h:0),0>d&&(d=0),d>h&&(d=h)),"reveal"===f?(b.transform("translate3d("+d+"px,0,0)").transition(0),v.transform("translate3d("+d+"px,0,0)"),r.pluginHook("swipePanelSetTransform",b[0],a[0],Math.abs(d/h))):(a.transform("translate3d("+d+"px,0,0)").transition(0),r.pluginHook("swipePanelSetTransform",b[0],a[0],Math.abs(d/h)))}}function n(e){if(!i||!s)return i=!1,void(s=!1);i=!1,s=!1;var t,n=(new Date).getTime()-u,l=0===d||Math.abs(d)===h;if(t=p?d===-h?"reset":300>n&&Math.abs(d)>=0||n>=300&&Math.abs(d)<=h/2?"left"===g&&d===h?"reset":"swap":"reset":0===d?"reset":300>n&&Math.abs(d)>0||n>=300&&Math.abs(d)>=h/2?"swap":"reset","swap"===t&&(r.allowPanelOpen=!0,p?(r.closePanel(),l&&(a.css({display:""}),o("body").removeClass("panel-closing"))):r.openPanel(g),l&&(r.allowPanelOpen=!0)),"reset"===t)if(p)r.allowPanelOpen=!0,r.openPanel(g);else if(r.closePanel(),l)r.allowPanelOpen=!0,a.css({display:""});else{var c="reveal"===f?b:a;o("body").addClass("panel-closing"),c.transitionEnd(function(){r.allowPanelOpen=!0,a.css({display:""}),o("body").removeClass("panel-closing")})}"reveal"===f&&(b.transition(""),b.transform("")),a.transition("").transform(""),v.css({display:""}).transform("")}var a=o(".panel.panel-"+r.params.swipePanel);if(0!==a.length){var i,s,l,u,c,d,p,h,f,m,g,v=o(".panel-overlay"),y={},b=o("."+r.params.viewsClass);g=r.params.swipePanel,o(document).on(r.touchEvents.start,e),o(document).on(r.touchEvents.move,t),o(document).on(r.touchEvents.end,n)}},r.initMessages=function(e){var t=o(e),n=t.find(".messages");if(0!==n.length){var a=t.find(".page-content");n.hasClass("new-messages-first")||(a[0].scrollTop=n.height()-a.height()),n.hasClass("messages-auto-layout")&&r.updateMessagesLayout(n)}},r.addMessage=function(e){if(e=e||{},e.type=e.type||"sent",!e.text||0===e.length)return!1;var t=o(".messages-content");if(0===t.length)return!1;var n=t.find(".messages"),a=n.hasClass("new-messages-first"),i="";e.day&&(i+='<div class="messages-date">'+e.day+(e.time?",":"")+(e.time?" <span>"+e.time+"</span>":"")+"</div>");var s=e.text.indexOf("<img")>=0?"message-pic":"",l=e.avatar?"message-with-avatar":"",u="message message-"+e.type+" "+s+" "+l+" message-appear";i+='<div class="'+u+'">'+(e.name?'<div class="message-name">'+e.name+"</div>":"")+'<div class="message-text">'+e.text+"</div>"+(e.avatar?'<div class="message-avatar" style="background-image:url('+e.avatar+')"></div>':"")+"</div>",a?n.prepend(i):n.append(i),n.hasClass("messages-auto-layout")&&r.updateMessagesLayout(n),r.scrollMessagesContainer(t)},r.updateMessagesLayout=function(e){e.find(".message").each(function(){var e=o(this);e.find(".message-text img").length>0&&e.addClass("message-pic"),e.find(".message-avatar").length>0&&e.addClass("message-with-avatar")}),e.find(".message-sent").each(function(){var e=o(this),t=e.next(".message-sent"),n=e.prev(".message-sent");0===t.length?e.addClass("message-last message-with-tail"):e.removeClass("message-last message-with-tail"),0===n.length?e.addClass("message-first"):e.removeClass("message-first"),n.length>0&&n.find(".message-name").length>0&&e.find(".message-name").length>0&&n.find(".message-name").text()!==e.find(".message-name").text()&&(n.addClass("message-last message-with-tail"),e.addClass("message-first"))}),e.find(".message-received").each(function(){var e=o(this),t=e.next(".message-received"),n=e.prev(".message-received");0===t.length?e.addClass("message-last message-with-tail"):e.removeClass("message-last message-with-tail"),0===n.length?e.addClass("message-first"):e.removeClass("message-first"),n.length>0&&n.find(".message-name").length>0&&e.find(".message-name").length>0&&n.find(".message-name").text()!==e.find(".message-name").text()&&(n.addClass("message-last message-with-tail"),e.addClass("message-first"))})},r.scrollMessagesContainer=function(e){if(e=o(e||".messages-content"),0!==e.length){var t=e.find(".messages"),n=t.hasClass("new-messages-first"),a=e[0].scrollTop,i=n?0:t.height()-e.height();i!==a&&e.scrollTop(i,300)}},r.swipeoutOpenedEl=void 0,r.allowSwipeout=!0,r.initSwipeout=function(e){function t(e){r.allowSwipeout&&(s=!1,i=!0,l=void 0,P.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,P.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,u=(new Date).getTime())}function n(e){if(i){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof l&&(l=!!(l||Math.abs(n-P.y)>Math.abs(t-P.x))),l)return void(i=!1);if(!s){if(o(".list-block.sortable-opened").length>0)return;d=o(this),p=d.find(".swipeout-content"),h=d.find(".swipeout-actions-right"),f=d.find(".swipeout-actions-left"),m=g=w=x=_=k=null,f.length>0&&(m=f.width(),w=f.children("a"),k=f.find(".swipeout-overswipe")),h.length>0&&(g=h.width(),x=h.children("a"),_=h.find(".swipeout-overswipe")),y=d.hasClass("swipeout-opened"),y&&(b=d.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"),d.removeClass("transitioning"),r.params.swipeoutNoFollow||(d.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),d.removeClass("swipeout-opened"))}if(s=!0,e.preventDefault(),c=t-P.x,v=c,y&&("right"===b?v-=g:v+=m),v>0&&0===f.length||0>v&&0===h.length){if(!y)return void(i=s=!1);v=0}C=0>v?"to-left":v>0?"to-right":C?C:"to-left";var a,u,j;if(e.f7PreventPanelSwipe=!0,r.params.swipeoutNoFollow)return y?("right"===b&&c>0&&r.swipeoutClose(d),"left"===b&&0>c&&r.swipeoutClose(d)):(0>c&&h.length>0&&r.swipeoutOpen(d,"right"),c>0&&f.length>0&&r.swipeoutOpen(d,"left")),i=!1,void(s=!1);T=!1,S=!1;var E;if(h.length>0)for(j=v/g,-g>v&&(v=-g-Math.pow(-v-g,.8),_.length>0&&(S=!0)),a=0;a<x.length;a++)"undefined"==typeof x[a]._buttonOffset&&(x[a]._buttonOffset=x[a].offsetLeft),u=x[a]._buttonOffset,E=o(x[a]),_.length>0&&E.hasClass("swipeout-overswipe")&&E.css({left:(S?-u:0)+"px"}),E.transform("translate3d("+(v-u*(1+Math.max(j,-1)))+"px,0,0)");if(f.length>0)for(j=v/m,v>m&&(v=m+Math.pow(v-m,.8),k.length>0&&(T=!0)),a=0;a<w.length;a++)"undefined"==typeof w[a]._buttonOffset&&(w[a]._buttonOffset=m-w[a].offsetLeft-w[a].offsetWidth),u=w[a]._buttonOffset,E=o(w[a]),k.length>0&&E.hasClass("swipeout-overswipe")&&E.css({left:(T?u:0)+"px"}),E.css("z-index",w.length-a).transform("translate3d("+(v+u*(1-Math.min(j,1)))+"px,0,0)");p.transform("translate3d("+v+"px,0,0)")}}function a(e){if(!i||!s)return i=!1,void(s=!1);i=!1,s=!1;var t,n,a,l,b,k=(new Date).getTime()-u;if(a="to-left"===C?h:f,n="to-left"===C?g:m,t=300>k&&(-10>c&&"to-left"===C||c>10&&"to-right"===C)||k>=300&&Math.abs(v)>n/2?"open":"close",300>k&&(0===Math.abs(v)&&(t="close"),Math.abs(v)===n&&(t="open")),"open"===t){r.swipeoutOpenedEl=d,d.trigger("open"),d.addClass("swipeout-opened transitioning");var _="to-left"===C?-n:n;if(p.transform("translate3d("+_+"px,0,0)"),a.addClass("swipeout-actions-opened"),l="to-left"===C?x:w)for(b=0;b<l.length;b++)o(l[b]).transform("translate3d("+_+"px,0,0)");S&&h.find(".swipeout-overswipe")[0].click(),T&&f.find(".swipeout-overswipe")[0].click()}else d.trigger("close"),r.swipeoutOpenedEl=void 0,d.addClass("transitioning").removeClass("swipeout-opened"),p.transform(""),a.removeClass("swipeout-actions-opened");var P;if(w&&w.length>0&&w!==l)for(b=0;b<w.length;b++)P=w[b]._buttonOffset,"undefined"==typeof P&&(w[b]._buttonOffset=m-w[b].offsetLeft-w[b].offsetWidth),o(w[b]).transform("translate3d("+P+"px,0,0)");if(x&&x.length>0&&x!==l)for(b=0;b<x.length;b++)P=x[b]._buttonOffset,"undefined"==typeof P&&(x[b]._buttonOffset=x[b].offsetLeft),o(x[b]).transform("translate3d("+-P+"px,0,0)");p.transitionEnd(function(e){y&&"open"===t||closed&&"close"===t||(d.trigger("open"===t?"opened":"closed"),y&&"close"===t&&(h.length>0&&x.transform(""),f.length>0&&w.transform("")))})}var i,s,l,u,c,d,p,h,f,m,g,v,y,b,w,x,C,k,_,T,S,P={};o(document).on(r.touchEvents.start,function(e){if(r.swipeoutOpenedEl){var t=o(e.target);r.swipeoutOpenedEl.is(t[0])||t.parents(".swipeout").is(r.swipeoutOpenedEl)||t.hasClass("modal-in")||t.parents(".modal-in").length>0||t.hasClass("modal-overlay")||r.swipeoutClose(r.swipeoutOpenedEl)}}),e?(o(e).on(r.touchEvents.start,t),o(e).on(r.touchEvents.move,n),o(e).on(r.touchEvents.end,a)):(o(document).on(r.touchEvents.start,".list-block li.swipeout",t),o(document).on(r.touchEvents.move,".list-block li.swipeout",n),o(document).on(r.touchEvents.end,".list-block li.swipeout",a))},r.swipeoutOpen=function(e,t){if(e=o(e),0!==e.length&&(e.length>1&&(e=o(e[0])),e.hasClass("swipeout")&&!e.hasClass("swipeout-opened"))){t||(t=e.find(".swipeout-actions-right").length>0?"right":"left");var n=e.find(".swipeout-actions-"+t);if(0!==n.length){e.trigger("open").addClass("swipeout-opened").removeClass("transitioning"),n.addClass("swipeout-actions-opened");var a,i=n.children("a"),s=n.width(),l="right"===t?-s:s;if(i.length>1){for(a=0;a<i.length;a++)"right"===t?o(i[a]).transform("translate3d("+-i[a].offsetLeft+"px,0,0)"):o(i[a]).css("z-index",i.length-a).transform("translate3d("+(s-i[a].offsetWidth-i[a].offsetLeft)+"px,0,0)");i[1].clientLeft}for(e.addClass("transitioning"),a=0;a<i.length;a++)o(i[a]).transform("translate3d("+l+"px,0,0");e.find(".swipeout-content").transform("translate3d("+l+"px,0,0)").transitionEnd(function(){e.trigger("opened")}),r.swipeoutOpenedEl=e}}},r.swipeoutClose=function(e){if(e=o(e),0!==e.length&&e.hasClass("swipeout-opened")){var t=e.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",n=e.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),a=n.children("a"),i=n.width();r.allowSwipeout=!1,e.trigger("close"),e.removeClass("swipeout-opened").addClass("transitioning"),e.find(".swipeout-content").transform("translate3d(0px,0,0)").transitionEnd(function(){e.trigger("closed"),a.transform(""),r.allowSwipeout=!0});for(var s=0;s<a.length;s++)"right"===t?o(a[s]).transform("translate3d("+-a[s].offsetLeft+"px,0,0)"):o(a[s]).transform("translate3d("+(i-a[s].offsetWidth-a[s].offsetLeft)+"px,0,0)"),o(a[s]).css({left:"0px"});r.swipeoutOpenedEl&&r.swipeoutOpenedEl[0]===e[0]&&(r.swipeoutOpenedEl=void 0)}},r.swipeoutDelete=function(e){if(e=o(e),0!==e.length){e.length>1&&(e=o(e[0])),r.swipeoutOpenedEl=void 0,e.trigger("delete"),e.css({height:e.outerHeight()+"px"});e[0].clientLeft;e.css({height:"0px"}).addClass("deleting transitioning").transitionEnd(function(){e.trigger("deleted"),e.remove()});var t="-100%";e.find(".swipeout-content").transform("translate3d("+t+",0,0)")}},r.sortableToggle=function(e){return e=o(e),0===e.length&&(e=o(".list-block.sortable")),e.toggleClass("sortable-opened"),e.hasClass("sortable-opened")?e.trigger("open"):e.trigger("close"),e},r.sortableOpen=function(e){return e=o(e),0===e.length&&(e=o(".list-block.sortable")),e.addClass("sortable-opened"),e.trigger("open"),e},r.sortableClose=function(e){return e=o(e),0===e.length&&(e=o(".list-block.sortable")),e.removeClass("sortable-opened"),e.trigger("close"),e},r.initSortable=function(){function e(e){i=!1,a=!0,s="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,u=o(this).parent(),c=u.parent().find("li"),m=u.parents(".sortable"),e.preventDefault(),r.allowsPanelOpen=r.allowSwipeout=!1}function t(e){if(a&&u){var t=("touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY);i||(u.addClass("sorting"),m.addClass("sortable-sorting"),d=u[0].offsetTop,p=u.parent().height()-u[0].offsetTop-u.height()),i=!0,e.preventDefault(),e.f7PreventPanelSwipe=!0,l=t-s;var n=l;-d>n&&(n=-d),n>p&&(n=p),u.transform("translate3d(0,"+n+"px,0)"),f=h=void 0,c.each(function(){var e=o(this);if(e[0]!==u[0]){var t=e[0].offsetTop,a=e.height(),i=u[0].offsetTop+n;i>=t-a/2&&u.index()<e.index()?(e.transform("translate3d(0,-100%,0)"),h=e,f=void 0):t+a/2>=i&&u.index()>e.index()?(o(this).transform("translate3d(0,100%,0)"),h=void 0,f||(f=e)):o(this).transform("translate3d(0, 0%,0)")}})}}function n(e){return r.allowsPanelOpen=r.allowSwipeout=!0,a&&i?(e.preventDefault(),c.transform(""),u.removeClass("sorting"),m.removeClass("sortable-sorting"),h&&(u.insertAfter(h),u.trigger("sort")),f&&(u.insertBefore(f),u.trigger("sort")),h=f=void 0,a=!1,void(i=!1)):(a=!1,void(i=!1))}var a,i,s,l,u,c,d,p,h,f,m;o(document).on(r.touchEvents.start,".list-block.sortable .sortable-handler",e),r.support.touch?(o(document).on(r.touchEvents.move,".list-block.sortable .sortable-handler",t),o(document).on(r.touchEvents.end,".list-block.sortable .sortable-handler",n)):(o(document).on(r.touchEvents.move,t),o(document).on(r.touchEvents.end,n))},r.initSmartSelects=function(e){var t=o(e);if(0!==t.length){var n=t.find(".smart-select");0!==n.length&&n.each(function(){var e=o(this),t=e.find("select");if(0!==t.length){var n=t[0];if(0!==n.length){for(var a=[],i=0;i<n.length;i++)n[i].selected&&a.push(n[i].textContent.trim());var r=e.find(".item-after");0===r.length?e.find(".item-inner").append('<div class="item-after">'+a.join(", ")+"</div>"):r.text(a)}}})}},r.smartSelectOpen=function(e){function t(t){o(t).find('input[name="'+w+'"]').on("change",function(){var t=this,n=t.value,r=[];if("checkbox"===t.type)for(var o=0;o<i.options.length;o++){var l=i.options[o];l.value===n&&(l.selected=t.checked),l.selected&&r.push(l.textContent.trim())}else r=[e.find('option[value="'+n+'"]').text()],i.value=n;s.trigger("change"),e.find(".item-after").text(r.join(", ")),v&&"radio"===b&&a.router.back()})}function n(e){var a=e.detail.page;a.name===M&&(o(document).off("pageInit",n),t(a.container))}if(e=o(e),0!==e.length){var a=e.parents("."+r.params.viewClass);if(0!==a.length&&(a=a[0].f7View)){var i=e.find("select")[0],s=o(i);if(!(i.disabled||e.hasClass("disabled")||s.hasClass("disabled"))){var u={};u.length=i.length;for(var c,d=0;d<i.length;d++)c=o(i[d]),u[d]={value:i[d].value,text:i[d].textContent.trim(),selected:i[d].selected,group:c.parent("optgroup")[0],image:c.attr("data-option-image")||s.attr("data-option-image"),icon:c.attr("data-option-icon")||s.attr("data-option-icon"),disabled:i[d].disabled};var p=e.attr("data-open-in");p||(p=r.params.smartSelectInPopup?"popup":"page");for(var h,f=e.attr("data-page-title")||e.find(".item-title").text(),m=e.attr("data-back-text")||r.params.smartSelectBackText,g=e.attr("data-popup-close-text")||e.attr("data-back-text")||r.params.smartSelectPopupCloseText,v=e.attr("data-back-onselect")?"true"===e.attr("data-back-onselect")?!0:!1:r.params.smartSelectBackOnSelect,y=(new Date).getTime(),b=i.multiple?"checkbox":"radio",w=b+"-"+y,x="",C=0;C<u.length;C++)if(!u[C].disabled){var k=u[C].selected?"checked":"";u[C].group&&u[C].group!==h&&(x+='<li class="item-divider">'+u[C].group.label+"</li>",h=u[C].group);var _="";"checkbox"===b&&(_+='<i class="icon icon-form-checkbox"></i>'),u[C].icon&&(_+='<i class="icon '+u[C].icon+'"></i>'),u[C].image&&(_+='<img src="'+u[C].image+'">'),x+='<li><label class="label-'+b+' item-content"><input type="'+b+'" name="'+w+'" value="'+u[C].value+'" '+k+">"+(""!==_?'<div class="item-media">'+_+"</div>":"")+'<div class="item-inner"><div class="item-title">'+u[C].text+"</div></div></label></li>"}var T="popup"===p?r.params.smartSelectPopupCloseTemplate.replace(/{{closeText}}/g,g):r.params.smartSelectBackTemplate.replace(/{{backText}}/g,m),S='<div class="navbar">  <div class="navbar-inner">'+T+'    <div class="center sliding">'+f+"</div>  </div></div>";r.params.smartSelectNavbarTemplate&&(r._compiledTemplates.smartSelectNavbar||(r._compiledTemplates.smartSelectNavbar=l.compile(r.params.smartSelectNavbarTemplate)),S=r._compiledTemplates.smartSelectNavbar({pageTitle:f,backText:m,openIn:p,inPopup:"popup"===p,inPage:"page"===p,id:y,inputType:b}));var P,j="",E="";"page"===p?(P="static",e.parents(".navbar-through").length>0&&(P="through"),e.parents(".navbar-fixed").length>0&&(P="fixed"),E=e.parents(".page").hasClass("no-toolbar")?"no-toolbar":"",j=e.parents(".page").hasClass("no-navbar")?"no-navbar":"navbar-"+P):P="fixed";var N,O,M="smart-select-"+w,A="undefined"==typeof e.data("searchbar")?r.params.smartSelectSearchbar:"true"===e.data("searchbar")?!0:!1;A&&(N=e.data("searchbar-placeholder")||"Search",O=e.data("searchbar-cancel")||"Cancel");var L='<form class="searchbar" data-search-list=".smart-select-list-'+y+'" data-search-in=".item-title"><div class="searchbar-input"><input type="search" placeholder="'+N+'"><a href="#" class="searchbar-clear"></a></div><a href="#" class="searchbar-cancel">'+O+'</a></form><div class="searchbar-overlay"></div>',D=("through"===P?S:"")+'<div class="pages">  <div data-page="'+M+'" class="page smart-select-page '+j+" "+E+'">'+("fixed"===P?S:"")+(A?L:"")+'    <div class="page-content">'+("static"===P?S:"")+'      <div class="list-block smart-select-list-'+y+'">        <ul>'+x+"        </ul>      </div>    </div>  </div></div>";
if(o(document).on("pageInit",n),"popup"===p){var F=r.popup('<div class="popup smart-select-popup smart-select-popup-'+w+'"><div class="view navbar-fixed">'+D+"</div></div>");t(F)}else a.router.load({content:D})}}}},r.initPullToRefresh=function(e){function t(e){if(l){if("android"!==r.device.os)return;if("targetTouches"in e&&e.targetTouches.length>1)return}u=!1,l=!0,c=void 0,g=void 0,v.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,v.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,p=(new Date).getTime(),h=o(this)}function n(e){if(l){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof c&&(c=!!(c||Math.abs(n-v.y)>Math.abs(t-v.x))),!c)return void(l=!1);if(m=h[0].scrollTop,"undefined"==typeof g&&0!==m&&(g=!0),!u){if(h.removeClass("transitioning"),m>h[0].offsetHeight)return void(l=!1);w=h.hasClass("refreshing")?44:0,b=h[0].scrollHeight===h[0].offsetHeight||"ios"!==r.device.os?!0:!1}return u=!0,d=n-v.y,d>0&&0>=m||0>m?("ios"===r.device.os&&parseInt(r.device.osVersion.split(".")[0],10)>7&&0===m&&!g&&(b=!0),b&&(e.preventDefault(),f=Math.pow(d,.85)+w,h.transform("translate3d(0,"+f+"px,0)")),b&&Math.pow(d,.85)>44||!b&&d>=88?(y=!0,h.addClass("pull-up").removeClass("pull-down")):(y=!1,h.removeClass("pull-up").addClass("pull-down")),void 0):(h.removeClass("pull-up pull-down"),void(y=!1))}}function a(e){return l&&u?(f&&(h.addClass("transitioning"),f=0),h.transform(""),y?(h.addClass("refreshing"),h.trigger("refresh",{done:function(){r.pullToRefreshDone(h)}})):h.removeClass("pull-down"),l=!1,void(u=!1)):(l=!1,void(u=!1))}function i(){s.off(r.touchEvents.start,t),s.off(r.touchEvents.move,n),s.off(r.touchEvents.end,a),x.off("pageBeforeRemove",i)}var s=o(e);if(s.hasClass("pull-to-refresh-content")||(s=s.find(".pull-to-refresh-content")),0!==s.length){var l,u,c,d,p,h,f,m,g,v={},y=!1,b=!1,w=0,x=s.hasClass("page")?s:s.parents(".page"),C=!1;(x.find(".navbar").length>0||x.parents(".navbar-fixed, .navbar-through").length>0||x.hasClass("navbar-fixed")||x.hasClass("navbar-through"))&&(C=!0),x.hasClass("no-navbar")&&(C=!1),C||s.addClass("pull-to-refresh-no-navbar"),s&&(h=s),s.on(r.touchEvents.start,t),s.on(r.touchEvents.move,n),s.on(r.touchEvents.end,a),0!==x.length&&x.on("pageBeforeRemove",i)}},r.pullToRefreshDone=function(e){e=o(e),0===e.length&&(e=o(".pull-to-refresh-content.refreshing")),e.removeClass("refreshing").addClass("transitioning"),e.transitionEnd(function(){e.removeClass("transitioning pull-up pull-down")})},r.pullToRefreshTrigger=function(e){e=o(e),0===e.length&&(e=o(".pull-to-refresh-content")),e.hasClass("refreshing")||(e.addClass("transitioning refreshing"),e.trigger("refresh",{done:function(){r.pullToRefreshDone(e)}}))},r.attachInfiniteScroll=function(e){o(e).on("scroll",a)},r.detachInfiniteScroll=function(e){o(e).off("scroll",a)},r.initInfiniteScroll=function(e){function t(){r.detachInfiniteScroll(n),e.off("pageBeforeRemove",t)}e=o(e);var n=e.find(".infinite-scroll");0!==n.length&&(r.attachInfiniteScroll(n),e.on("pageBeforeRemove",t))},r.initScrollToolbars=function(e){function t(t){e.hasClass("page-on-left")||(u=n[0].scrollTop,p=n[0].scrollHeight,h=n[0].offsetHeight,f=r.params.showBarsOnPageScrollEnd&&u+h>=p-y,g=s.hasClass("hidden-navbar"),v=s.hasClass("hidden-toolbar"),m=l>u||f?"show":u>44?"hide":"show","show"===m?(c&&a&&g&&(r.showNavbar(s),e.removeClass("no-navbar-by-scroll"),g=!1),d&&i&&v&&(r.showToolbar(s),e.removeClass("no-toolbar-by-scroll"),v=!1)):(c&&a&&!g&&(r.hideNavbar(s),e.addClass("no-navbar-by-scroll"),g=!0),d&&i&&!v&&(r.hideToolbar(s),e.addClass("no-toolbar-by-scroll"),v=!0)),l=u)}e=o(e);var n=e.find(".page-content");if(0!==n.length){var a=r.params.hideNavbarOnPageScroll||n.hasClass("hide-navbar-on-scroll")||n.hasClass("hide-bars-on-scroll"),i=r.params.hideToolbarOnPageScroll||n.hasClass("hide-toolbar-on-scroll")||n.hasClass("hide-bars-on-scroll");if(a||i){var s=n.parents("."+r.params.viewClass);if(0!==s.length){var l,u,c=s.find(".navbar").length>0,d=s.find(".toolbar").length>0;l=u=n[0].scrollTop;var p,h,f,m,g,v,y=d&&i?s.find(".toolbar")[0].offsetHeight:0;n.on("scroll",t),n[0].f7ScrollToolbarsHandler=t}}}},r.destroyScrollToolbars=function(e){e=o(e);var t=e.find(".page-content");if(0!==t.length){var n=t[0].f7ScrollToolbarsHandler;n&&t.off("scroll",t[0].f7ScrollToolbarsHandler)}},r.showTab=function(e,t){var n=o(e);if(n.hasClass("active"))return!1;if(0===n.length)return!1;var a=n.parent(".tabs");if(0===a.length)return!1;r.allowSwipeout=!0;var i=a.parent().hasClass("tabs-animated-wrap");i&&a.transform("translate3d("+100*-n.index()+"%,0,0)");var s=a.children(".tab.active").removeClass("active");if(n.addClass("active"),n.trigger("show"),!i&&n.find(".navbar").length>0){var l;l=n.hasClass(r.params.viewClass)?n[0]:n.parents("."+r.params.viewClass)[0],r.sizeNavbars(l)}if(t?t=o(t):(t=o("string"==typeof e?'.tab-link[href="'+e+'"]':'.tab-link[href="#'+n.attr("id")+'"]'),(!t||t&&0===t.length)&&o("[data-tab]").each(function(){n.is(o(this).attr("data-tab"))&&(t=o(this))})),0!==t.length){var u;if(s&&s.length>0){var c=s.attr("id");c&&(u=o('.tab-link[href="#'+c+'"]')),(!u||u&&0===u.length)&&o("[data-tab]").each(function(){s.is(o(this).attr("data-tab"))&&(u=o(this))})}return t&&t.length>0&&t.addClass("active"),u&&u.length>0&&u.removeClass("active"),!0}},r.accordionToggle=function(e){e=o(e),0!==e.length&&(e.hasClass("accordion-item-expanded")?r.accordionClose(e):r.accordionOpen(e))},r.accordionOpen=function(e){e=o(e);var t=e.parents(".accordion-list"),n=e.find(".accordion-item-content"),a=t.find(".accordion-item-expanded");a.length>0&&r.accordionClose(a),n.css("height",n[0].scrollHeight+"px").transitionEnd(function(){if(e.hasClass("accordion-item-expanded")){n.transition(0),n.css("height","auto");n[0].clientLeft;n.transition(""),e.trigger("opened")}else n.css("height",""),e.trigger("closed")}),e.trigger("open"),e.addClass("accordion-item-expanded")},r.accordionClose=function(e){e=o(e);var t=e.find(".accordion-item-content");e.removeClass("accordion-item-expanded"),t.transition(0),t.css("height",t[0].scrollHeight+"px");t[0].clientLeft;t.transition(""),t.css("height","").transitionEnd(function(){if(e.hasClass("accordion-item-expanded")){t.transition(0),t.css("height","auto");t[0].clientLeft;t.transition(""),e.trigger("opened")}else t.css("height",""),e.trigger("closed")}),e.trigger("close")},r.initFastClicks=function(){function e(e){var t=o(e.target),n=t.parents(r.params.activeStateElements);return n.length>0?n:t}function t(){var e=P.parents(".page-content, .panel");return 0===e.length?!1:("yes"!==e.prop("scrollHandlerSet")&&(e.on("scroll",function(){clearTimeout(j)}),e.prop("scrollHandlerSet","yes")),!0)}function n(){P.addClass("active-state")}function a(e){P.removeClass("active-state")}function i(e){var t="button checkbox file image radio submit input textarea".split(" ");return document.activeElement&&e!==document.activeElement&&document.activeElement!==document.body?t.indexOf(e.nodeName.toLowerCase())>=0?!1:!0:!1}function s(e){var t=o(e);return"input"===e.nodeName.toLowerCase()&&"file"===e.type?!1:t.hasClass("no-fastclick")||t.parents(".no-fastclick").length>0?!1:!0}function l(e){if(document.activeElement===e)return!1;var t=e.nodeName.toLowerCase(),n="button checkbox file image radio submit".split(" ");return e.disabled||e.readOnly?!1:"textarea"===t?!0:"select"===t?"android"===r.device.os?!1:!0:"input"===t&&n.indexOf(e.type)<0?!0:void 0}function u(e){if(e=o(e),e.is("label")||e.parents("label").length>0){if("android"===r.device.os){var t=r.device.osVersion.split(".");return 1*t[0]>4||1*t[0]===4&&1*t[1]>=4?!1:!0}return!1}return!0}function c(t){e(t).addClass("active-state"),"which"in t&&3===t.which&&setTimeout(function(){o(".active-state").removeClass("active-state")},0)}function d(e){o(".active-state").removeClass("active-state")}function p(e){o(".active-state").removeClass("active-state")}function h(a){if(S=!1,a.targetTouches.length>1)return!0;if(E=s(a.target),!E)return C=!1,!0;if("ios"===r.device.os){var l=window.getSelection();if(l.rangeCount&&l.focusNode!==document.body&&(!l.isCollapsed||document.activeElement===l.focusNode))return k=!0,!0;k=!1}"android"===r.device.os&&i(a.target)&&document.activeElement.blur(),C=!0,x=a.target,w=(new Date).getTime(),y=a.targetTouches[0].pageX,b=a.targetTouches[0].pageY,"ios"===r.device.os&&(_=void 0,o(x).parents().each(function(){var e=this;e.scrollHeight>e.offsetHeight&&!_&&(_=e,_.f7ScrollTop=_.scrollTop)})),a.timeStamp-T<200&&a.preventDefault(),r.params.activeState&&(P=e(a),t(a)?j=setTimeout(n,80):n())}function f(e){if(C){var t=!1,n=r.params.fastClicksDistanceThreshold;if(n){var i=e.targetTouches[0].pageX,s=e.targetTouches[0].pageY;(Math.abs(i-y)>n||Math.abs(s-b)>n)&&(t=!0)}else t=!0;t&&(C=!1,x=null,S=!0),r.params.activeState&&(clearTimeout(j),a())}}function m(e){if(clearTimeout(j),!C)return!k&&E&&e.preventDefault(),!0;if(document.activeElement===e.target)return!0;if(k||e.preventDefault(),e.timeStamp-T<200)return!0;if(T=e.timeStamp,C=!1,"ios"===r.device.os&&_&&_.scrollTop!==_.f7ScrollTop)return!1;r.params.activeState&&(n(),setTimeout(a,0)),l(x)&&x.focus(),e.preventDefault();var t=e.changedTouches[0],i=document.createEvent("MouseEvents"),s="click";return"android"===r.device.os&&"select"===x.nodeName.toLowerCase()&&(s="mousedown"),i.initMouseEvent(s,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,x.dispatchEvent(i),!1}function g(e){C=!1,x=null}function v(e){var t=!1;return C?(x=null,C=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(x||(t=!0),document.activeElement===x&&(t=!0),e.forwardedTouchEvent&&(t=!0),e.cancelable||(t=!0),t||(e.stopImmediatePropagation(),e.stopPropagation(),x?(u(x)||S)&&e.preventDefault():e.preventDefault(),x=null),t)}r.params.activeState&&o("html").addClass("watch-active-state");var y,b,w,x,C,k,_,T,S,P,j,E;r.support.touch?(document.addEventListener("click",v,!0),document.addEventListener("touchstart",h),document.addEventListener("touchmove",f),document.addEventListener("touchend",m),document.addEventListener("touchcancel",g)):r.params.activeState&&(document.addEventListener("mousedown",c),document.addEventListener("mousemove",d),document.addEventListener("mouseup",p))},r.initClickEvents=function(){function e(e){function t(e){return"false"===e?!1:"true"===e?!0:void 0}var n=o(this),a=n.attr("href"),i="a"===n[0].nodeName.toLowerCase();if(i)for(var s=0;s<r.params.externalLinks.length;s++){if(n.hasClass(r.params.externalLinks[s]))return;if(n[0].rel===r.params.externalLinks[s])return}if(n.hasClass("smart-select")&&r.smartSelectOpen&&r.smartSelectOpen(n),n.hasClass("open-panel")&&(1===o(".panel").length?o(".panel").hasClass("panel-left")?r.openPanel("left"):r.openPanel("right"):"right"===n.attr("data-panel")?r.openPanel("right"):r.openPanel("left")),n.hasClass("close-panel")&&r.closePanel(),n.hasClass("panel-overlay")&&r.params.panelsCloseByOutside&&r.closePanel(),n.hasClass("open-popover")){var u;u=n.attr("data-popover")?n.attr("data-popover"):".popover",r.popover(u,n)}n.hasClass("close-popover")&&r.closeModal(".popover.modal-in");var c;n.hasClass("open-popup")&&(c=n.attr("data-popup")?n.attr("data-popup"):".popup",r.popup(c)),n.hasClass("close-popup")&&(c=n.attr("data-popup")?n.attr("data-popup"):".popup.modal-in",r.closeModal(c));var d;n.hasClass("open-login-screen")&&(d=n.attr("data-login-screen")?n.attr("data-login-screen"):".login-screen",r.loginScreen(d)),n.hasClass("close-login-screen")&&r.closeModal(".login-screen.modal-in"),n.hasClass("modal-overlay")&&(o(".modal.modal-in").length>0&&r.params.modalCloseByOutside&&r.closeModal(".modal.modal-in"),o(".actions-modal.modal-in").length>0&&r.params.actionsCloseByOutside&&r.closeModal(".actions-modal.modal-in"),o(".popover.modal-in").length>0&&r.closeModal(".popover.modal-in")),n.hasClass("popup-overlay")&&o(".popup.modal-in").length>0&&r.params.popupCloseByOutside&&r.closeModal(".popup.modal-in");var p;if(n.hasClass("tab-link")&&(p=!0,r.showTab(n.attr("data-tab")||n.attr("href"),n)),n.hasClass("swipeout-delete"))if(n.attr("data-confirm")){var h=n.attr("data-confirm"),f=n.attr("data-confirm-title");f?r.confirm(h,f,function(){r.swipeoutDelete(n.parents(".swipeout"))}):r.confirm(h,function(){r.swipeoutDelete(n.parents(".swipeout"))})}else r.swipeoutDelete(n.parents(".swipeout"));if(n.hasClass("toggle-sortable")&&r.sortableToggle(n.data("sortable")),n.hasClass("open-sortable")&&r.sortableOpen(n.data("sortable")),n.hasClass("close-sortable")&&r.sortableClose(n.data("sortable")),n.hasClass("accordion-item-toggle")||n.hasClass("item-link")&&n.parent().hasClass("accordion-item")){var m=n.parents(".accordion-item");0===m.length&&(m=n.parents("li")),r.accordionToggle(m)}if((!r.params.ajaxLinks||n.is(r.params.ajaxLinks))&&i&&r.params.router){i&&e.preventDefault();var g=a&&a.length>0&&"#"!==a&&!p,v=n.attr("data-template");if(g||n.hasClass("back")||v){var y;if(n.attr("data-view")?y=o(n.attr("data-view"))[0].f7View:(y=n.parents("."+r.params.viewClass)[0]&&n.parents("."+r.params.viewClass)[0].f7View,y&&y.params.linksView&&(y=o(y.params.linksView)[0].f7View)),!y)for(var s=0;s<r.views.length;s++)r.views[s].main&&(y=r.views[s]);if(!y)return;var b;if(v)a=void 0;else{if(0===a.indexOf("#")&&"#"!==a){if(!y.params.domCache)return;b=a.split("#")[1],a=void 0}if("#"===a&&!n.hasClass("back"))return}var w;n.attr("data-animatePages")?w=t(n.attr("data-animatePages")):(n.hasClass("with-animation")&&(w=!0),n.hasClass("no-animation")&&(w=!1));var x={animatePages:w,ignoreCache:t(n.attr("data-ignoreCache")),force:t(n.attr("data-force")),reload:t(n.attr("data-reload")),reloadPrevious:t(n.attr("data-reloadPrevious")),pageName:b,url:a};if(r.params.template7Pages){x.contextName=n.attr("data-contextName");var C=n.attr("data-context");C&&(x.context=JSON.parse(C))}v&&v in l.templates&&(x.template=l.templates[v]),n.hasClass("back")?y.router.back(x):y.router.load(x)}}}o(document).on("click","a, .open-panel, .close-panel, .panel-overlay, .modal-overlay, .popup-overlay, .swipeout-delete, .close-popup, .open-popup, .open-popover, .open-login-screen, .close-login-screen .smart-select, .toggle-sortable, .open-sortable, .close-sortable, .accordion-item-toggle",e)},r.initResize=function(){o(window).on("resize",r.resize),o(window).on("orientationchange",r.orientationchange)},r.resize=function(){r.sizeNavbars&&r.sizeNavbars(),i()},r.orientationchange=function(){r.device&&r.device.minimalUi&&(90===window.orientation||-90===window.orientation)&&(document.body.scrollTop=0),i()},r.formsData={},r.formStoreData=function(e,t){r.formsData[e]=t,r.ls["f7form-"+e]=JSON.stringify(t)},r.formDeleteData=function(e){r.formsData[e]&&(r.formsData[e]="",delete r.formsData[e]),r.ls["f7form-"+e]&&(r.ls["f7form-"+e]="",r.ls.removeItem("f7form-"+e))},r.formGetData=function(e){return r.ls["f7form-"+e]?JSON.parse(r.ls["f7form-"+e]):r.formsData[e]?r.formsData[e]:void 0},r.formToJSON=function(e){if(e=o(e),1!==e.length)return!1;var t={},n=["submit","image","button","file"],a=[];return e.find("input, select, textarea").each(function(){var i=o(this),r=i.attr("name"),s=i.attr("type"),l=this.nodeName.toLowerCase();if(!(n.indexOf(s)>=0)&&!(a.indexOf(r)>=0)&&r)if("select"===l&&i.attr("multiple"))a.push(r),t[r]=[],e.find('select[name="'+r+'"] option').each(function(){this.selected&&t[r].push(this.value)});else switch(s){case"checkbox":a.push(r),t[r]=[],e.find('input[name="'+r+'"]').each(function(){this.checked&&t[r].push(this.value)});break;case"radio":a.push(r),e.find('input[name="'+r+'"]').each(function(){this.checked&&(t[r]=this.value)});break;default:t[r]=i.val()}}),t},r.formFromJSON=function(e,t){if(e=o(e),1!==e.length)return!1;var n=["submit","image","button","file"],a=[];e.find("input, select, textarea").each(function(){var i=o(this),r=i.attr("name"),s=i.attr("type"),l=this.nodeName.toLowerCase();if(t[r]&&!(n.indexOf(s)>=0)&&!(a.indexOf(r)>=0)&&r)if("select"===l&&i.attr("multiple"))a.push(r),e.find('select[name="'+r+'"] option').each(function(){t[r].indexOf(this.value)>=0?this.selected=!0:this.selected=!1});else switch(s){case"checkbox":a.push(r),e.find('input[name="'+r+'"]').each(function(){t[r].indexOf(this.value)>=0?this.checked=!0:this.checked=!1});break;case"radio":a.push(r),e.find('input[name="'+r+'"]').each(function(){t[r]===this.value?this.checked=!0:this.checked=!1});break;default:i.val(t[r])}})},r.initFormsStorage=function(e){function t(){var e=o(this),t=e[0].id;if(t){var n=r.formToJSON(e);n&&(r.formStoreData(t,n),e.trigger("store",{data:n}))}}function n(){a.off("change submit",t),e.off("pageBeforeRemove",n)}if(e=o(e),0!==e.length){var a=e.find("form.store-data");0!==a.length&&(a.each(function(){var e=this.getAttribute("id");if(e){var t=r.formGetData(e);t&&r.formFromJSON(this,t)}}),a.on("change submit",t),e.on("pageBeforeRemove",n))}},o(document).on("submit change","form.ajax-submit, form.ajax-submit-onchange",function(e){var t=o(this);if("change"!==e.type||t.hasClass("ajax-submit-onchange")){"submit"===e.type&&e.preventDefault();var n=t.attr("method")||"GET",a=t.attr("enctype"),i=t.attr("action");if(i){var s;s="POST"===n?new FormData(t[0]):o.serializeObject(r.formToJSON(t[0]));var l=o.ajax({method:n,url:i,contentType:a,data:s,success:function(e){t.trigger("submitted",{data:e,xhr:l})}})}}}),r.pushStateQueue=[],r.pushStateClearQueue=function(){if(0!==r.pushStateQueue.length){var e,t=r.pushStateQueue.pop();r.params.pushStateNoAnimation===!0&&(e=!1),"back"===t.action&&r.router.back(t.view,{animatePages:e}),"loadPage"===t.action&&r.router.load(t.view,{url:t.stateUrl,animatePages:e,pushState:!1}),"loadContent"===t.action&&r.router.load(t.view,{content:t.stateContent,animatePages:e,pushState:!1}),"loadPageName"===t.action&&r.router.load(t.view,{pageName:t.statePageName,animatePages:e,pushState:!1})}},r.initPushState=function(){function e(e){if(!t){for(var n,a=0;a<r.views.length;a++)r.views[a].main&&(n=r.views[a]);if(n){var i=e.state;if(i||(i={viewIndex:r.views.indexOf(n),url:n.history[0]}),!(i.viewIndex<0)){var s,o=r.views[i.viewIndex],l=i&&i.url||void 0,u=i&&i.content||void 0,c=i&&i.pageName||void 0;r.params.pushStateNoAnimation===!0&&(s=!1),l!==o.url&&(o.history.indexOf(l)>=0?o.allowPageChange?r.router.back(o,{url:void 0,animatePages:s,pushState:!1,preloadOnly:!1}):r.pushStateQueue.push({action:"back",view:o}):u?o.allowPageChange?r.router.load(o,{content:u,animatePages:s,pushState:!1}):r.pushStateQueue.unshift({action:"loadContent",stateContent:u,view:o}):c?o.allowPageChange?r.router.load(o,{pageName:c,animatePages:s,pushState:!1}):r.pushStateQueue.unshift({action:"loadPageName",statePageName:c,view:o}):o.allowPageChange?r.router.load(o,{url:l,animatePages:s,pushState:!1}):r.pushStateQueue.unshift({action:"loadPage",stateUrl:l,view:o}))}}}}var t=!0;o(window).on("load",function(){setTimeout(function(){t=!1},0)}),o(window).on("popstate",e)};var h=function(e,t){var n={initialSlide:0,spaceBetween:0,speed:300,loop:!1,slidesPerView:1,onlyExternal:!1,direction:"horizontal",paginationHide:!0,slideClass:"slider-slide",slideActiveClass:"slider-slide-active",slideNextClass:"slider-slide-next",slidePrevClass:"slider-slide-prev",wrapperClass:"slider-wrapper",bulletClass:"slider-pagination-bullet",bulletActiveClass:"slider-pagination-active",preventClicks:!0,preventClicksPropagation:!0,autoplay:!1,autoplayDisableOnInteraction:!0};t=t||{};for(var a in n)"undefined"==typeof t[a]&&(t[a]=n[a]);var i=this;if(i.params=t,i.container=o(e),0!==i.container.length){i.container[0].f7Slider=i,"vertical"===i.params.direction?i.container.addClass("slider-container-vertical"):i.container.addClass("slider-container-horizontal"),i.wrapper=i.container.children("."+i.params.wrapperClass),i.params.pagination&&(i.paginationContainer=o(i.params.pagination)),i.activeSlideIndex=i.previousSlideIndex=i.params.initialSlide||0;var s="horizontal"===i.params.direction,l=s&&r.rtl?-1:1;i.updateSlides=function(){if(i.slides=i.wrapper.children("."+i.params.slideClass),0!==i.params.spaceBetween){var e=r.rtl?"marginLeft":"marginRight";s?i.slides.css(e,i.params.spaceBetween+"px"):i.slides.css({marginBottom:i.params.spaceBetween+"px"})}if(i.params.slidesPerView>1){var n="(100% - "+(i.params.slidesPerView-1)*t.spaceBetween+"px)/"+i.params.slidesPerView;s?(i.slides.css("width","-webkit-calc("+n+")"),i.slides.css("width","-moz-calc("+n+")"),i.slides.css("width","calc("+n+")")):(i.slides.css("height","-webkit-calc("+n+")"),i.slides.css("height","-moz-calc("+n+")"),i.slides.css("height","calc("+n+")"))}i.isFirst=0===i.activeSlideIndex,i.isLast=i.activeSlideIndex===i.slides.length-i.params.slidesPerView},i.updatePagination=function(){if(i.paginationContainer&&i.paginationContainer.length>0){var e="",t=i.slides.length-i.params.slidesPerView+1;i.params.loop&&(t=i.slides.length-2*i.loopedSlides);for(var n=0;t>n;n++)e+='<span class="'+i.params.bulletClass+'"></span>';i.paginationContainer.html(e),i.bullets=i.paginationContainer.find("."+i.params.bulletClass)}},i.updateSize=function(){i.width=i.container[0].offsetWidth,i.height=i.container[0].offsetHeight,i.size=s?i.width:i.height},i.attachEvents=function(e){var t=e?"off":"on";i.container[t](r.touchEvents.start,i.onTouchStart),i.container[t](r.touchEvents.move,i.onTouchMove),i.container[t](r.touchEvents.end,i.onTouchEnd),o(window)[t]("resize",i.onResize),i.params.nextButton&&o(i.params.nextButton)[t]("click",i.onClickNext),i.params.prevButton&&o(i.params.prevButton)[t]("click",i.onClickPrev),i.params.indexButton&&o(i.params.indexButton)[t]("click",i.onClickIndex),(i.params.preventClicks||i.params.preventClicksPropagation)&&i.container[t]("click",i.onClick,!0)},i.detachEvents=function(){i.attachEvents(!0)},i.onResize=function(){i.updateSize(),i.slideTo(i.activeSlideIndex,0,!1)};var u,c,d,p,h,f,m={},g={},v=Date.now();i.animating=!1,i.allowClick=!0,i.onClick=function(e){i.params.preventClicks&&!i.allowClick&&(e.preventDefault(),i.params.preventClicksPropagation&&(e.stopPropagation(),e.stopImmediatePropagation()))},i.onTouchStart=function(e){i.params.onlyExternal||(u=!0,c=!1,p=void 0,m.x=g.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,m.y=g.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,d=Date.now(),i.allowClick=!0,i.updateSize(),i.params.onTouchStart&&i.params.onTouchStart(i,e),"mousedown"===e.type&&e.preventDefault())},i.onTouchMove=function(e){if(i.params.onTouchMove&&i.params.onTouchMove(i,e),i.allowClick=!1,!(e.targetTouches&&e.targetTouches.length>1)&&(g.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,g.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof p&&(p=!!(p||Math.abs(g.y-m.y)>Math.abs(g.x-m.x))),(s&&p||!s&&!p)&&i.params.onOppositeTouchMove&&i.params.onOppositeTouchMove(i,e),u)){if(s&&p||!s&&!p)return void(u=!1);i.params.onSliderMove&&i.params.onSliderMove(i,e),e.preventDefault(),e.stopPropagation(),c||(t.loop&&i.fixLoop(),h=o.getTranslate(i.wrapper[0],s?"x":"y")*l,i.wrapper.transition(0),i.animating&&i.onTransitionEnd(),t.autoplay&&b&&(i.params.autoplayDisableOnInteraction?i.stopAutoplay():y&&clearTimeout(y))),c=!0;var n=s?(g.x-m.x)*l:g.y-m.y;n>0&&0===i.activeSlideIndex?n=Math.pow(n,.85):0>n&&i.activeSlideIndex===i.slides.length-i.params.slidesPerView?n=-Math.pow(-n,.85):0>n&&0===i.activeSlideIndex&&i.slides.length<i.params.slidesPerView&&(n=-Math.pow(-n,.85));var a=s?(n+h)*l:0,r=s?0:n+h;i.wrapper.transform("translate3d("+a+"px, "+r+"px,0)")}},i.onTouchEnd=function(e){i.params.onTouchEnd&&i.params.onTouchEnd(i,e);var t=Date.now(),n=t-d;if(i.allowClick&&(300>n&&t-v>300&&(f&&clearTimeout(f),f=setTimeout(function(){i&&(i.params.paginationHide&&i.paginationContainer&&i.paginationContainer.toggleClass("slider-pagination-hidden"),i.params.onClick&&i.params.onClick(i,e))},300)),300>n&&300>t-v&&(f&&clearTimeout(f),i.params.onDoubleTap&&i.params.onDoubleTap(i,e)),i.params.onTap&&i.params.onTap(i,e)),v=Date.now(),!u||!c)return void(u=c=!1);u=c=!1;var a=s?(g.x-m.x)*l:g.y-m.y;Math.abs(a)<5&&300>n&&i.allowClick===!1&&(i.allowClick=!0),setTimeout(function(){i&&(i.allowClick=!0)},100);var r=i.params.autoplay&&b&&!i.params.autoplayDisableOnInteraction;if(0===a)return void(r&&i.startAutoplay());var o=1,p=i.size/i.params.slidesPerView;i.params.slidesPerView>1&&(o=Math.abs((Math.abs(a)+p/2)/p)),r&&i.wrapper.transitionEnd(function(){i.startAutoplay()}),n>300?-p/2>=a?i.slideTo(i.activeSlideIndex+Math.floor(o)):a>p/2?i.slideTo(i.activeSlideIndex-Math.floor(o)):i.slideReset():Math.abs(a)<10?i.slideReset():0>a?i.slideTo(i.activeSlideIndex+Math.round(o)):i.slideTo(i.activeSlideIndex-Math.round(o))},i.slideTo=function(e,t,n){"undefined"==typeof e&&(e=0),e>i.slides.length-i.params.slidesPerView&&(e=i.slides.length-i.params.slidesPerView),0>e&&(e=0);var a=-(i.size+i.params.spaceBetween)*e/i.params.slidesPerView;"undefined"==typeof t&&(t=i.params.speed),i.previousSlideIndex=i.activeSlideIndex,i.activeSlideIndex=Math.round(e),i.isFirst=0===i.activeSlideIndex,i.isLast=i.activeSlideIndex===i.slides.length-i.params.slidesPerView,i.onTransitionStart();var r=s?a*l:0,o=s?0:a;0===t?(i.wrapper.transition(0).transform("translate3d("+r+"px,"+o+"px,0)"),n!==!1&&i.onTransitionEnd()):(i.animating=!0,i.wrapper.transition(t).transform("translate3d("+r+"px,"+o+"px,0)").transitionEnd(function(){n!==!1&&i.onTransitionEnd()}))},i.updateClasses=function(){i.slides.removeClass(i.params.slideActiveClass+" "+i.params.slideNextClass+" "+i.params.slidePrevClass);var e=i.slides.eq(i.activeSlideIndex);if(e.addClass(i.params.slideActiveClass),e.next().addClass(i.params.slideNextClass),e.prev().addClass(i.params.slidePrevClass),i.bullets&&i.bullets.length>0){i.bullets.removeClass(i.params.bulletActiveClass);var t=i.activeSlideIndex;i.params.loop&&(t-=i.loopedSlides,0>t&&(t=i.bullets.length+t),t>=i.bullets.length&&(t-=i.bullets.length)),i.bullets.eq(t).addClass(i.params.bulletActiveClass)}},i.onTransitionStart=function(){i.updateClasses(),i.activeSlideIndex!==i.previousSlideIndex&&i.params.onSlideChangeStart&&i.params.onSlideChangeStart(i),i.params.onTransitionStart&&i.params.onTransitionStart(i)},i.onTransitionEnd=function(){i.animating=!1,i.wrapper.transition(0),i.activeSlideIndex!==i.previousSlideIndex&&i.params.onSlideChangeEnd&&i.params.onSlideChangeEnd(i),i.params.onTransitionEnd&&i.params.onTransitionEnd(i)},i.slideNext=function(){if(i.params.loop){if(i.animating)return;i.fixLoop(),setTimeout(function(){i.slideTo(i.activeSlideIndex+1)},0)}else i.slideTo(i.activeSlideIndex+1)},i.slidePrev=function(){if(i.params.loop){if(i.animating)return;i.fixLoop(),setTimeout(function(){i.slideTo(i.activeSlideIndex-1)},0)}else i.slideTo(i.activeSlideIndex-1)},i.slideReset=function(){i.slideTo(i.activeSlideIndex)},i.onClickNext=function(e){e.preventDefault(),i.slideNext()},i.onClickPrev=function(e){e.preventDefault(),i.slidePrev()},i.onClickIndex=function(e){e.preventDefault(),i.slideTo(o(this).index())};var y,b;return i.startAutoplay=function(){i.params.autoplay&&(b=!0,y&&clearTimeout(y),y=setTimeout(function(){i.wrapper.transitionEnd(function(){i.startAutoplay()});var e=i.activeSlideIndex+1;e>i.slides.length-i.params.slidesPerView&&(e=0),i.slideTo(e)},i.params.autoplay))},i.stopAutoplay=function(){b=!1,y&&clearTimeout(y)},i.resetAutoplay=function(){i.stopAutoplay(),i.startAutoplay()},i.createLoop=function(){i.wrapper.children("."+i.params.slideClass+".slider-slide-duplicate").remove();var e=i.wrapper.children("."+i.params.slideClass);if(i.loopedSlides=parseInt(i.params.loopedSlides||i.params.slidesPerView,10),i.loopedSlides>e.length)return void(i.loopedSlides=e.length);var t,n=[],a=[];for(e.each(function(t,r){var s=o(this);t<i.loopedSlides&&a.push(r),t<e.length&&t>=e.length-i.loopedSlides&&n.push(r),s.attr("data-slider-slide-index",t)}),t=0;t<a.length;t++)i.wrapper.append(o(a[t].cloneNode(!0)).addClass("slider-slide-duplicate"));for(t=n.length-1;t>=0;t--)i.wrapper.prepend(o(n[t].cloneNode(!0)).addClass("slider-slide-duplicate"))},i.fixLoop=function(){var e;i.activeSlideIndex<i.loopedSlides?(e=i.slides.length-3*i.loopedSlides+i.activeSlideIndex,e+=i.loopedSlides,i.slideTo(e,0,!1)):i.activeSlideIndex>i.slides.length-2*i.params.slidesPerView&&(e=-i.slides.length+i.activeSlideIndex+i.loopedSlides,e+=i.loopedSlides,i.slideTo(e,0,!1))},i.init=function(){i.params.loop&&i.createLoop(),i.updateSlides(),i.updatePagination(),i.updateSize(),i.params.loop?i.slideTo(i.params.initialSlide+i.loopedSlides,0,!1):i.params.initialSlide>0?i.slideTo(i.params.initialSlide,0,!1):i.updateClasses(),i.attachEvents(),i.params.autoplay&&i.startAutoplay()},i.update=function(){i.params.loop&&i.createLoop(),i.updateSlides(),i.updatePagination(),i.updateSize(),i.updateClasses()},i.destroy=function(){i.detachEvents(),i.params.onDestroy&&i.params.onDestroy(),i=void 0},i.init(),i}};r.slider=function(e,t){return new h(e,t)},r.initSlider=function(e){function t(e){function t(){e.destroy(),n.off("pageBeforeRemove",t)}n.on("pageBeforeRemove",t)}var n=o(e),a=n.find(".slider-init");if(0!==a.length)for(var i=0;i<a.length;i++){var s,l=a.eq(i);s=l.data("slider")?JSON.parse(l.data("slider")):{initialSlide:parseInt(l.data("initialSlide"),10)||void 0,spaceBetween:parseInt(l.data("spaceBetween"),10)||void 0,speed:parseInt(l.data("speed"),10)||void 0,slidesPerView:parseInt(l.data("slidesPerView"),10)||void 0,direction:l.data("direction"),pagination:l.data("pagination"),paginationHide:l.data("paginationHide")&&("true"===l.data("paginationHide")?!0:!1),loop:l.data("loop")&&("true"===l.data("loop")?!0:!1),onlyExternal:l.data("onlyExternal")&&("true"===l.data("onlyExternal")?!0:!1),slideClass:l.data("slideClass"),slideActiveClass:l.data("slideActiveClass"),slideNextClass:l.data("slideNextClass"),slidePrevClass:l.data("slidePrevClass"),wrapperClass:l.data("wrapperClass"),bulletClass:l.data("bulletClass"),bulletActiveClass:l.data("bulletActiveClass"),nextButton:l.data("nextButton"),prevButton:l.data("prevButton"),indexButton:l.data("indexButton"),autoplay:l.data("autoplay")};var u=r.slider(l[0],s);t(u)}},r.reinitSlider=function(e){var t=o(e),n=t.find(".slider-init");if(0!==n.length)for(var a=0;a<n.length;a++){var i=n[0].f7Slider;i&&i.onResize()}};var f=function(e){function t(){var e;for(n=0;n<r.views.length;n++)r.views[n].main&&(e=r.views[n]);return e}var n,a=this,i={photos:[],initialSlide:0,spaceBetween:20,speed:300,zoom:!0,maxZoom:3,minZoom:1,exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",swipeToClose:!0,backLinkText:"Close",ofText:"of",loop:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1};e=e||{};for(var s in i)"undefined"==typeof e[s]&&(e[s]=i[s]);a.params=e;var l="dark"===a.params.theme?"color-white":"",u=a.params.navbarTemplate||'<div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="link '+("page"===a.params.type&&"back")+' close-popup photo-browser-close-link" data-popup=".photo-browser-popup"><i class="icon icon-back '+l+'"></i><span>'+a.params.backLinkText+'</span></a></div><div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">'+a.params.ofText+'</span> <span class="photo-browser-total"></span></div><div class="right"></div></div></div>',c=r.rtl?"next":"prev",d=r.rtl?"prev":"next",p=a.params.toolbarTemplate||'<div class="toolbar tabbar"><div class="toolbar-inner"><a href="#" class="link photo-browser-prev"><i class="icon icon-'+c+" "+l+'"></i></a><a href="#" class="link photo-browser-next"><i class="icon icon-'+d+" "+l+'"></i></a></div></div>',h=a.params.template||'<div class="photo-browser photo-browser-'+a.params.theme+'"><div class="view navbar-fixed toolbar-fixed">{{navbar}}<div data-page="photo-browser-slides" class="page no-toolbar {{noNavbar}} toolbar-fixed navbar-fixed">{{toolbar}}{{captions}}<div class="photo-browser-slider-container slider-container"><div class="photo-browser-slider-wrapper slider-wrapper">{{photos}}</div></div></div></div></div>',f=a.params.lazyLoading?a.params.photoLazyTemplate||'<div class="photo-browser-slide photo-browser-slide-lazy slider-slide"><div class="preloader'+("dark"===a.params.theme?" preloader-white":"")+'"></div><span class="photo-browser-zoom-container"><img data-src="{{url}}"></span></div>':a.params.photoTemplate||'<div class="photo-browser-slide slider-slide"><span class="photo-browser-zoom-container"><img src="{{url}}"></span></div>',m=a.params.captionsTheme||a.params.theme,g=a.params.captionsTemplate||'<div class="photo-browser-captions photo-browser-captions-'+m+'">{{captions}}</div>',v=a.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{captionIndex}}">{{caption}}</div>',y=a.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide slider-slide">{{html}}</div>',b="",w="";
for(n=0;n<a.params.photos.length;n++){var x=a.params.photos[n],C="";"string"==typeof x||x instanceof String?C=x.indexOf("<")>=0||x.indexOf(">")>=0?y.replace(/{{html}}/g,x):f.replace(/{{url}}/g,x):"object"==typeof x&&(x.hasOwnProperty("html")&&x.html.length>0?C=y.replace(/{{html}}/g,x.html):x.hasOwnProperty("url")&&x.url.length>0&&(C=f.replace(/{{url}}/g,x.url)),x.hasOwnProperty("caption")&&x.caption.length>0?w+=v.replace(/{{caption}}/g,x.caption).replace(/{{captionIndex}}/g,n):C=C.replace(/{{caption}}/g,"")),b+=C}var k=h.replace("{{navbar}}",a.params.navbar?u:"").replace("{{noNavbar}}",a.params.navbar?"":"no-navbar").replace("{{photos}}",b).replace("{{captions}}",g.replace(/{{captions}}/g,w)).replace("{{toolbar}}",a.params.toolbar?p:"");a.activeSlideIndex=a.params.initialSlide,a.openIndex=a.activeSlideIndex,a.opened=!1,a.open=function(e){return"undefined"==typeof e&&(e=a.activeSlideIndex),e=parseInt(e,10),a.opened&&a.slider?void a.slider.slideTo(e):(a.opened=!0,a.openIndex=e,a.initialLazyLoaded=!1,"standalone"===a.params.type&&o("body").append(k),"popup"===a.params.type&&(a.popup=r.popup('<div class="popup photo-browser-popup">'+k+"</div>"),o(a.popup).on("closed",a.onPopupClose)),"page"===a.params.type?(o(document).on("pageBeforeInit",a.onPageBeforeInit),o(document).on("pageBeforeRemove",a.onPageBeforeRemove),a.params.view||(a.params.view=t()),void a.params.view.loadContent(k)):(a.layout(a.openIndex),void(a.params.onOpen&&a.params.onOpen(a))))},a.close=function(){a.opened=!1,a.sliderContainer&&0!==a.sliderContainer.length&&(a.params.onClose&&a.params.onClose(a),a.attachEvents(!0),"standalone"===a.params.type&&a.container.removeClass("photo-browser-in").addClass("photo-browser-out").animationEnd(function(){a.container.remove()}),a.slider.destroy(),a.slider=a.sliderContainer=a.sliderWrapper=a.slides=_=T=S=void 0)},a.onPopupClose=function(e){a.close(),o(a.popup).off("pageBeforeInit",a.onPopupClose)},a.onPageBeforeInit=function(e){"photo-browser-slides"===e.detail.page.name&&a.layout(a.openIndex),o(document).off("pageBeforeInit",a.onPageBeforeInit)},a.onPageBeforeRemove=function(e){"photo-browser-slides"===e.detail.page.name&&a.close(),o(document).off("pageBeforeRemove",a.onPageBeforeRemove)},a.loadImageInSlide=function(e,t){if(e&&"undefined"!=typeof t&&0!==e.slides.length){var n=e.slides.eq(t);if(n.hasClass("photo-browser-slide-lazy")){var i=n.find("img");if(0!==i.length){var r=new Image,s=i.attr("data-src");r.onload=function(){i.attr("src",s),i.removeAttr("data-src"),n.removeClass("photo-browser-slide-lazy").find(".preloader").remove(),a.params.onImageLoaded&&a.params.onImageLoaded(a,n[0],i[0])},r.src=s,a.params.onImageLoad&&a.params.onImageLoad(a,n[0],i[0])}}}},a.lazyLoading=function(e,t){if(a.loadImageInSlide(e,t),a.params.lazyLoadingInPrevNext){var n=e.wrapper.find(".slider-slide-next.photo-browser-slide-lazy");n.length>0&&a.loadImageInSlide(e,n.index());var i=e.wrapper.find(".slider-slide-prev.photo-browser-slide-lazy");i.length>0&&a.loadImageInSlide(e,i.index())}},a.onSliderTransitionStart=function(e){a.activeSlideIndex=e.activeSlideIndex;var t=e.activeSlideIndex+1,n=e.slides.length;if(a.params.loop&&(n-=2,t-=e.loopedSlides,1>t&&(t=n+t),t>n&&(t-=n)),a.container.find(".photo-browser-current").text(t),a.container.find(".photo-browser-total").text(n),o(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive"),e.isFirst&&!a.params.loop&&o(".photo-browser-prev").addClass("photo-browser-link-inactive"),e.isLast&&!a.params.loop&&o(".photo-browser-next").addClass("photo-browser-link-inactive"),a.captions.length>0){a.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active");var i=a.params.loop?e.slides.eq(e.activeSlideIndex).attr("data-slider-slide-index"):a.activeSlideIndex;a.captionsContainer.find('[data-caption-index="'+i+'"]').addClass("photo-browser-caption-active")}a.params.lazyLoading&&(a.params.lazyLoadingOnTransitionStart||!a.params.lazyLoadingOnTransitionStart&&!a.initialLazyLoaded)&&(a.initialLazyLoaded=!0,a.lazyLoading(e,a.activeSlideIndex));var r=e.slides.eq(e.previousSlideIndex).find("video");r.length>0&&"pause"in r[0]&&r[0].pause(),a.params.onSlideChangeStart&&a.params.onSlideChangeStart(e)},a.onSliderTransitionEnd=function(e){a.params.lazyLoading&&!a.params.lazyLoadingOnTransitionStart&&a.lazyLoading(e,a.activeSlideIndex),a.params.zoom&&_&&e.previousSlideIndex!==e.activeSlideIndex&&(T.transform("translate3d(0,0,0) scale(1)"),S.transform("translate3d(0,0,0)"),_=T=S=void 0,P=j=1),a.params.onSlideChangeEnd&&a.params.onSlideChangeEnd(e)},a.layout=function(e){"page"===a.params.type?a.container=o(".photo-browser-slider-container").parents(".view"):a.container=o(".photo-browser"),"standalone"===a.params.type&&(a.container.addClass("photo-browser-in"),r.sizeNavbars(a.container)),a.sliderContainer=a.container.find(".photo-browser-slider-container"),a.sliderWrapper=a.container.find(".photo-browser-slider-wrapper"),a.slides=a.container.find(".photo-browser-slide"),a.captionsContainer=a.container.find(".photo-browser-captions"),a.captions=a.container.find(".photo-browser-caption");var t={nextButton:a.params.nextButton||".photo-browser-next",prevButton:a.params.prevButton||".photo-browser-prev",indexButton:a.params.indexButton,initialSlide:e,spaceBetween:a.params.spaceBetween,speed:a.params.speed,loop:a.params.loop,onTap:function(e,t){a.params.onTap&&a.params.onTap(e,t)},onClick:function(e,t){a.params.exposition&&a.toggleExposition(),a.params.onClick&&a.params.onClick(e,t)},onDoubleTap:function(e,t){a.toggleZoom(o(t.target).parents(".photo-browser-slide")),a.params.onDoubleTap&&a.params.onDoubleTap(e,t)},onTransitionStart:function(e){a.onSliderTransitionStart(e)},onTransitionEnd:function(e){a.onSliderTransitionEnd(e)}};a.params.swipeToClose&&"page"!==a.params.type&&(t.onTouchStart=a.swipeCloseTouchStart,t.onOppositeTouchMove=a.swipeCloseTouchMove,t.onTouchEnd=a.swipeCloseTouchEnd),a.slider=r.slider(a.sliderContainer,t),0===e&&a.onSliderTransitionStart(a.slider),a.attachEvents()},a.attachEvents=function(e){var t=e?"off":"on";if(a.params.zoom){var n=a.params.loop?a.slider.slides:a.slides;n[t]("gesturestart",a.onSlideGestureStart),n[t]("gesturechange",a.onSlideGestureChange),n[t]("gestureend",a.onSlideGestureEnd),n[t](r.touchEvents.start,a.onSlideTouchStart),n[t](r.touchEvents.move,a.onSlideTouchMove),n[t](r.touchEvents.end,a.onSlideTouchEnd)}a.container.find(".photo-browser-close-link")[t]("click",a.close)};a.exposed=!1,a.toggleExposition=function(){a.container&&a.container.toggleClass("photo-browser-exposed"),a.params.expositionHideCaptions&&a.captionsContainer.toggleClass("photo-browser-captions-exposed"),a.exposed=!a.exposed},a.enableExposition=function(){a.container&&a.container.addClass("photo-browser-exposed"),a.params.expositionHideCaptions&&a.captionsContainer.addClass("photo-browser-captions-exposed"),a.exposed=!0},a.disableExposition=function(){a.container&&a.container.removeClass("photo-browser-exposed"),a.params.expositionHideCaptions&&a.captionsContainer.removeClass("photo-browser-captions-exposed"),a.exposed=!1};var _,T,S,P=1,j=1,E=!1;a.onSlideGestureStart=function(e){return _||(_=o(this),T=_.find("img, svg, canvas"),S=T.parent(".photo-browser-zoom-container"),0!==S.length)?(T.transition(0),void(E=!0)):void(T=void 0)},a.onSlideGestureChange=function(e){T&&0!==T.length&&(P=e.scale*j,P>a.params.maxZoom&&(P=a.params.maxZoom-1+Math.pow(P-a.params.maxZoom+1,.5)),P<a.params.minZoom&&(P=a.params.minZoom+1-Math.pow(a.params.minZoom-P+1,.5)),T.transform("translate3d(0,0,0) scale("+P+")"))},a.onSlideGestureEnd=function(e){T&&0!==T.length&&(P=Math.max(Math.min(P,a.params.maxZoom),a.params.minZoom),T.transition(a.params.speed).transform("translate3d(0,0,0) scale("+P+")"),j=P,E=!1,1===P&&(_=void 0))},a.toggleZoom=function(){_||(_=a.slider.slides.eq(a.slider.activeSlideIndex),T=_.find("img, svg, canvas"),S=T.parent(".photo-browser-zoom-container")),T&&0!==T.length&&(S.transition(300).transform("translate3d(0,0,0)"),P&&1!==P?(P=j=1,T.transition(300).transform("translate3d(0,0,0) scale(1)"),_=void 0):(P=j=a.params.maxZoom,T.transition(300).transform("translate3d(0,0,0) scale("+P+")")))};var N,O,M,A,L,D,F,R,q,B,I,H,z,$,V,U,W,X={},G={};a.onSlideTouchStart=function(e){T&&0!==T.length&&(N||("android"===r.device.os&&e.preventDefault(),N=!0,X.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,X.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},a.onSlideTouchMove=function(e){if(T&&0!==T.length&&(a.slider.allowClick=!1,N&&_)){O||(q=T[0].offsetWidth,B=T[0].offsetHeight,I=o.getTranslate(S[0],"x")||0,H=o.getTranslate(S[0],"y")||0,S.transition(0));var t=q*P,n=B*P;if(!(t<a.slider.width&&n<a.slider.height)){if(L=Math.min(a.slider.width/2-t/2,0),F=-L,D=Math.min(a.slider.height/2-n/2,0),R=-D,G.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,G.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!O&&!E&&(Math.floor(L)===Math.floor(I)&&G.x<X.x||Math.floor(F)===Math.floor(I)&&G.x>X.x))return void(N=!1);e.stopPropagation(),O=!0,M=G.x-X.x+I,A=G.y-X.y+H,L>M&&(M=L+1-Math.pow(L-M+1,.8)),M>F&&(M=F-1+Math.pow(M-F+1,.8)),D>A&&(A=D+1-Math.pow(D-A+1,.8)),A>R&&(A=R-1+Math.pow(A-R+1,.8)),z||(z=G.x),U||(U=G.y),$||($=Date.now()),V=(G.x-z)/(Date.now()-$)/2,W=(G.y-U)/(Date.now()-$)/2,Math.abs(G.x-z)<2&&(V=0),Math.abs(G.y-U)<2&&(W=0),z=G.x,U=G.y,$=Date.now(),S.transform("translate3d("+M+"px, "+A+"px,0)")}}},a.onSlideTouchEnd=function(e){if(T&&0!==T.length){if(!N||!O)return N=!1,void(O=!1);N=!1,O=!1;var t=300,n=300,i=V*t,r=M+i,s=W*n,o=A+s;0!==V&&(t=Math.abs((r-M)/V)),0!==W&&(n=Math.abs((o-A)/W));var l=Math.max(t,n);M=r,A=o;var u=q*P,c=B*P;L=Math.min(a.slider.width/2-u/2,0),F=-L,D=Math.min(a.slider.height/2-c/2,0),R=-D,M=Math.max(Math.min(M,F),L),A=Math.max(Math.min(A,R),D),S.transition(l).transform("translate3d("+M+"px, "+A+"px,0)")}};var Y,J,Q,Z,K,ee=!1,te=!0,ne=!1;return a.swipeCloseTouchStart=function(e,t){te&&(ee=!0)},a.swipeCloseTouchMove=function(e,t){if(ee){ne||(ne=!0,J="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,Z=a.slider.slides.eq(a.slider.activeSlideIndex),K=(new Date).getTime()),t.preventDefault(),Q="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,Y=J-Q;var n=1-Math.abs(Y)/300;Z.transform("translate3d(0,"+-Y+"px,0)"),a.slider.container.css("opacity",n).transition(0)}},a.swipeCloseTouchEnd=function(e,t){if(ee=!1,!ne)return void(ne=!1);ne=!1,te=!1;var n=Math.abs(Y),i=(new Date).getTime()-K;return 300>i&&n>20||i>=300&&n>100?void setTimeout(function(){"standalone"===a.params.type&&a.close(),"popup"===a.params.type&&r.closeModal(a.popup),a.params.onSwipeToClose&&a.params.onSwipeToClose(a),te=!0},0):(0!==n?Z.addClass("transitioning").transitionEnd(function(){te=!0,Z.removeClass("transitioning")}):te=!0,a.slider.container.css("opacity","").transition(""),void Z.transform(""))},a};r.photoBrowser=function(e){return new f(e)};var m;r.addNotification=function(e){if(e){"undefined"==typeof e.media&&(e.media=r.params.notificationMedia),"undefined"==typeof e.title&&(e.title=r.params.notificationTitle),"undefined"==typeof e.subtitle&&(e.subtitle=r.params.notificationSubtitle),"undefined"==typeof e.closeIcon&&(e.closeIcon=r.params.notificationCloseIcon),"undefined"==typeof e.hold&&(e.hold=r.params.notificationHold),"undefined"==typeof e.closeOnClick&&(e.closeOnClick=r.params.notificationCloseOnClick),m||(m=document.createElement("div"));var t=o(".notifications");0===t.length&&(o("body").append('<div class="notifications list-block media-list"><ul></ul></div>'),t=o(".notifications"));var n,a=t.children("ul");n=e.custom?"<li>"+e.custom+"</li>":'<li class="notification-item notification-hidden"><div class="item-content">'+(e.media?'<div class="item-media">'+e.media+"</div>":"")+'<div class="item-inner"><div class="item-title-row">'+(e.title?'<div class="item-title">'+e.title+"</div>":"")+(e.closeIcon?'<div class="item-after"><a href="#" class="close-notification"><span></span></a></div>':"")+"</div>"+(e.subtitle?'<div class="item-subtitle">'+e.subtitle+"</div>":"")+(e.message?'<div class="item-text">'+e.message+"</div>":"")+"</div></div></li>",m.innerHTML=n;var i=o(m).children();i.on("click",function(t){var n=!1;o(t.target).is(".close-notification")||o(t.target).parents(".close-notification").length>0?n=!0:(e.onClick&&e.onClick(t,i[0]),e.closeOnClick&&(n=!0)),n&&r.closeNotification(i[0])}),e.onClose&&i.data("f7NotificationOnClose",function(){e.onClose(i[0])}),e.additionalClass&&i.addClass(e.additionalClass),e.hold&&setTimeout(function(){i.length>0&&r.closeNotification(i[0])},e.hold),a.prepend(i[0]),t.show();var s=i.height();i.css("marginTop",-s+"px"),i.transition(0);i[0].clientLeft;return i.transition(""),i.css("marginTop","0px"),t.transform("translate3d(0, 0,0)"),i.removeClass("notification-hidden"),i[0]}},r.closeNotification=function(e){if(e=o(e),0!==e.length&&!e.hasClass("notification-item-removing")){var t=o(".notifications"),n=e.height();e.css("height",n+"px").transition(0);e[0].clientLeft;e.css("height","0px").transition("").addClass("notification-item-removing"),e.data("f7NotificationOnClose")&&e.data("f7NotificationOnClose")(),0===t.find(".notification-item:not(.notification-item-removing)").length&&t.transform(""),e.addClass("notification-hidden").transitionEnd(function(){e.remove(),0===t.find(".notification-item").length&&t.hide()})}},r.initTemplate7Templates=function(){window.Template7&&(Template7.templates=Template7.templates||r.params.templates||{},Template7.data=Template7.data||r.params.template7Data||{},Template7.templatesCache={},r.templates=Template7.templates,r.template7Data=Template7.data,r.templatesCache=Template7.templatesCache,r.params.precompileTemplates&&o('script[type="text/template7"]').each(function(){var e=o(this).attr("id");e&&(Template7.templates[e]=Template7.compile(o(this).html()))}))};var g=[];return r.initPlugins=function(){for(var e in r.plugins){var t=r.plugins[e](r,r.params[e]);t&&g.push(t)}},r.pluginHook=function(e){for(var t=0;t<g.length;t++)g[t].hooks&&e in g[t].hooks&&g[t].hooks[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},r.pluginPrevent=function(e){for(var t=!1,n=0;n<g.length;n++)g[n].prevents&&e in g[n].prevents&&g[n].prevents[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])&&(t=!0);return t},r.pluginProcess=function(e,t){for(var n=t,a=0;a<g.length;a++)g[a].preprocess&&process in g[a].preprocess&&(n=g[a].preprocess[process](t,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]));return n},r.init=function(){r.initPlugins&&r.initPlugins(),r.getDeviceInfo&&r.getDeviceInfo(),r.initFastClicks&&r.params.fastClicks&&r.initFastClicks(),r.initClickEvents&&r.initClickEvents(),o(".page:not(.cached)").each(function(){var e=o(this),t=e.parents("."+r.params.viewClass);if(0!==t.length){var n=t[0].f7View||!1,a=n&&n.url?n.url:!1;t&&t.attr("data-page",e.attr("data-page")||void 0),r.pageInitCallback(n,this,a,"center")}}),r.initResize&&r.initResize(),r.initPushState&&r.params.pushState&&r.initPushState(),r.initSwipeout&&r.params.swipeout&&r.initSwipeout(),r.initSortable&&r.params.sortable&&r.initSortable(),r.initSwipePanels&&r.params.swipePanel&&r.initSwipePanels(),r.params.onAppInit&&r.params.onAppInit(),r.initTemplate7Templates&&r.initTemplate7Templates(),r.pluginHook("appInit")},r.params.init&&r.init(),r};var e=function(){var e=function(e){var t=this,n=0;for(n=0;n<e.length;n++)t[n]=e[n];return t.length=e.length,this},t=function(t,n){var a=[],i=0;if(t&&!n&&t instanceof e)return t;if(t)if("string"==typeof t){var r=(n||document).querySelectorAll(t);for(i=0;i<r.length;i++)a.push(r[i])}else if(t.nodeType||t===window||t===document)a.push(t);else if(t.length>0&&t[0].nodeType)for(i=0;i<t.length;i++)a.push(t[i]);return new e(a)};e.prototype={addClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),n=0;n<t.length;n++)for(var a=0;a<this.length;a++)this[a].classList.add(t[n]);return this},removeClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)for(var a=0;a<this.length;a++)this[a].classList.remove(t[n]);return this},hasClass:function(e){return this[0]?this[0].classList.contains(e):!1},toggleClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)for(var a=0;a<this.length;a++)this[a].classList.toggle(t[n]);return this},attr:function(e,t){if("undefined"==typeof t)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n++)this[n].setAttribute(e,t);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e)},prop:function(e,t){if("undefined"==typeof t)return this[0]?this[0][e]:void 0;for(var n=0;n<this.length;n++)this[n][e]=t;return this},data:function(e,t){if("undefined"!=typeof t){for(var n=0;n<this.length;n++){var a=this[n];a.dom7ElementDataStorage||(a.dom7ElementDataStorage={}),a.dom7ElementDataStorage[e]=t}return this}if(this[0]){var i=this[0].getAttribute("data-"+e);return i?i:this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0}},val:function(e){if("undefined"==typeof e)return this[0]?this[0].value:null;for(var t=0;t<this.length;t++)this[t].value=e;return this},transform:function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this},on:function(e,n,a,i){function r(e){var i=e.target;if(t(i).is(n))a.call(i,e);else for(var r=t(i).parents(),s=0;s<r.length;s++)t(r[s]).is(n)&&a.call(r[s],e)}var s,o,l=e.split(" ");for(s=0;s<this.length;s++)if("function"==typeof n||n===!1)for("function"==typeof n&&(a=arguments[1],i=arguments[2]||!1),o=0;o<l.length;o++)this[s].addEventListener(l[o],a,i);else for(o=0;o<l.length;o++)this[s].dom7LiveListeners||(this[s].dom7LiveListeners=[]),this[s].dom7LiveListeners.push({listener:a,liveListener:r}),this[s].addEventListener(l[o],r,i);return this},off:function(e,t,n,a){for(var i=e.split(" "),r=0;r<i.length;r++)for(var s=0;s<this.length;s++)if("function"==typeof t||t===!1)"function"==typeof t&&(n=arguments[1],a=arguments[2]||!1),this[s].removeEventListener(i[r],n,a);else if(this[s].dom7LiveListeners)for(var o=0;o<this[s].dom7LiveListeners.length;o++)this[s].dom7LiveListeners[o].listener===n&&this[s].removeEventListener(i[r],this[s].dom7LiveListeners[o].liveListener,a);return this},once:function(e,t,n,a){function i(s){n(s),r.off(e,t,i,a)}var r=this;"function"==typeof t&&(t=!1,n=arguments[1],a=arguments[2]),r.on(e,t,i,a)},trigger:function(e,t){for(var n=0;n<this.length;n++){var a;try{a=new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0})}catch(i){a=document.createEvent("Event"),a.initEvent(e,!0,!0),a.detail=t}this[n].dispatchEvent(a)}return this},transitionEnd:function(e){function t(r){if(r.target===this)for(e.call(this,r),n=0;n<a.length;n++)i.off(a[n],t)}var n,a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(e)for(n=0;n<a.length;n++)i.on(a[n],t);return this},animationEnd:function(e){function t(r){for(e(r),n=0;n<a.length;n++)i.off(a[n],t)}var n,a=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],i=this;if(e)for(n=0;n<a.length;n++)i.on(a[n],t);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width"))-parseFloat(this.css("padding-left"))-parseFloat(this.css("padding-right")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?this[0].offsetHeight-parseFloat(this.css("padding-top"))-parseFloat(this.css("padding-bottom")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),n=document.body,a=e.clientTop||n.clientTop||0,i=e.clientLeft||n.clientLeft||0,r=window.pageYOffset||e.scrollTop,s=window.pageXOffset||e.scrollLeft;return{top:t.top+r-a,left:t.left+s-i}}return null},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)this[e].style.display="block";return this},css:function(e,t){var n;if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n++)for(var a in e)this[n].style[a]=e[a];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n++)this[n].style[e]=t;return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if("undefined"==typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[0].textContent=e},is:function(n){if(!this[0])return!1;var a,i;if("string"==typeof n){var r=this[0];if(r===document)return n===document;if(r===window)return n===window;if(r.matches)return r.matches(n);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector)return r.mozMatchesSelector(n);if(r.msMatchesSelector)return r.msMatchesSelector(n);for(a=t(n),i=0;i<a.length;i++)if(a[i]===this[0])return!0;return!1}if(n===document)return this[0]===document;if(n===window)return this[0]===window;if(n.nodeType||n instanceof e){for(a=n.nodeType?[n]:n,i=0;i<a.length;i++)if(a[i]===this[0])return!0;return!1}return!1},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}},eq:function(t){if("undefined"==typeof t)return this;var n,a=this.length;return t>a-1?new e([]):0>t?(n=a+t,new e(0>n?[]:[this[n]])):new e([this[t]])},append:function(t){var n,a;for(n=0;n<this.length;n++)if("string"==typeof t){var i=document.createElement("div");for(i.innerHTML=t;i.firstChild;)this[n].appendChild(i.firstChild)}else if(t instanceof e)for(a=0;a<t.length;a++)this[n].appendChild(t[a]);else this[n].appendChild(t);return this},prepend:function(t){var n,a;for(n=0;n<this.length;n++)if("string"==typeof t){var i=document.createElement("div");for(i.innerHTML=t,a=i.childNodes.length-1;a>=0;a--)this[n].insertBefore(i.childNodes[a],this[n].childNodes[0])}else if(t instanceof e)for(a=0;a<t.length;a++)this[n].insertBefore(t[a],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this},insertBefore:function(e){for(var n=t(e),a=0;a<this.length;a++)if(1===n.length)n[0].parentNode.insertBefore(this[a],n[0]);else if(n.length>1)for(var i=0;i<n.length;i++)n[i].parentNode.insertBefore(this[a].cloneNode(!0),n[i])},insertAfter:function(e){for(var n=t(e),a=0;a<this.length;a++)if(1===n.length)n[0].parentNode.insertBefore(this[a],n[0].nextSibling);else if(n.length>1)for(var i=0;i<n.length;i++)n[i].parentNode.insertBefore(this[a].cloneNode(!0),n[i].nextSibling)},next:function(n){return new e(this.length>0?n?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(n)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(n){var a=[],i=this[0];if(!i)return new e([]);for(;i.nextElementSibling;){var r=i.nextElementSibling;n&&t(r).is(n)?a.push(r):a.push(r),i=r}return new e(a)},prev:function(n){return new e(this.length>0?n?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(n)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(n){var a=[],i=this[0];if(!i)return new e([]);for(;i.previousElementSibling;){var r=i.previousElementSibling;n&&t(r).is(n)?a.push(r):a.push(r),i=r}return new e(a)},parent:function(e){for(var n=[],a=0;a<this.length;a++)e?t(this[a].parentNode).is(e)&&n.push(this[a].parentNode):n.push(this[a].parentNode);return t(t.unique(n))},parents:function(e){for(var n=[],a=0;a<this.length;a++)for(var i=this[a].parentNode;i;)e?t(i).is(e)&&n.push(i):n.push(i),i=i.parentNode;return t(t.unique(n))},find:function(t){for(var n=[],a=0;a<this.length;a++)for(var i=this[a].querySelectorAll(t),r=0;r<i.length;r++)n.push(i[r]);return new e(n)},children:function(n){for(var a=[],i=0;i<this.length;i++)for(var r=this[i].childNodes,s=0;s<r.length;s++)n?1===r[s].nodeType&&t(r[s]).is(n)&&a.push(r[s]):1===r[s].nodeType&&a.push(r[s]);return new e(t.unique(a))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},detach:function(){return this.remove()}},function(){function t(t){e.prototype[t]=function(e){var n;if("undefined"==typeof e){for(n=0;n<this.length;n++)a.indexOf(t)<0&&this[n][t]();return this}return this.on(t,e)}}for(var n="click blur focus focusin focusout keyup keydown keypress submit change mousedown mousemove mouseup mouseenter mouseleave mouseout mouseover touchstart touchend touchmove resize scroll".split(" "),a="resize scroll".split(" "),i=0;i<n.length;i++)t(n[i])}();var n=0;return t.ajax=function(e){var a={method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0};e.type&&(e.method=e.type);for(var i in a)i in e||(e[i]=a[i]);e.url||(e.url=window.location.toString());var r=e.method.toUpperCase();if(("GET"===r||"HEAD"===r)&&e.data){var s;s="string"==typeof e.data?e.data.indexOf("?")>=0?e.data.split("?")[1]:e.data:t.serializeObject(e.data),e.url.indexOf("?")>=0?e.url+="&"+s:e.url+="?"+s}if("json"===e.dataType&&e.url.indexOf("callback=")>=0){var o,l,u="f7jsonp_"+Date.now()+n++,c=e.url.split("callback=");if(c[1].indexOf("&")>=0){var d=c[1].split("&").filter(function(e){return e.indexOf("=")>0}).join("&");o=c[0]+"callback="+u+(d.length>0?"&"+d:"")}else o=c[0]+"callback="+u;var p=document.createElement("script");return p.type="text/javascript",p.onerror=function(){clearTimeout(l),e.error&&e.error()},p.src=o,window[u]=function(t){clearTimeout(l),e.success&&e.success(t),p.parentNode.removeChild(p),p=null,delete window[u]},document.querySelector("head").appendChild(p),void(e.timeout>0&&(l=setTimeout(function(){p.parentNode.removeChild(p),p=null,e.error&&e.error()},e.timeout)))}("GET"===r||"HEAD"===r)&&e.cache===!1&&(e.url+="_nocache="+Date.now());var h=new XMLHttpRequest;h.open(r,e.url,e.async,e.user,e.password);var f=null;if(("POST"===r||"PUT"===r)&&e.data)if(e.processData){var m=[ArrayBuffer,Blob,Document,FormData];if(m.indexOf(e.data.constructor)>=0)f=e.data;else{var g="---------------------------"+Date.now().toString(16);"multipart/form-data"===e.contentType?h.setRequestHeader("Content-Type","multipart/form-data; boundary="+g):h.setRequestHeader("Content-Type",e.contentType),f="";var v=t.serializeObject(e.data);if("multipart/form-data"===e.contentType){g="---------------------------"+Date.now().toString(16),v=v.split("&");for(var y=[],b=0;b<v.length;b++)y.push('Content-Disposition: form-data; name="'+v[b].split("=")[0]+'"\r\n\r\n'+v[b].split("=")[1]+"\r\n");f="--"+g+"\r\n"+y.join("--"+g+"\r\n")+"--"+g+"--\r\n"}else f="application/x-www-form-urlencoded"===e.contentType?v:v.replace(/&/g,"\r\n")}}else f=e.data;if(e.headers)for(var w in e.headers)h.setRequestHeader(w,e.headers[w]);if("undefined"==typeof e.crossDomain&&(e.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(e.url)&&RegExp.$2!==window.location.host),e.crossDomain||h.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.xhrFields)for(var x in e.xhrFields)h[x]=e.xhrFields[x];return h.onload=function(n){if((200===h.status||0===h.status)&&(t(document).trigger("ajaxSuccess",{xhr:h}),e.success)){var a=h.responseText;"json"===e.dataType&&(a=JSON.parse(a)),e.success(a,h.status,h)}e.statusCode&&e.statusCode[h.status]&&e.statusCode[h.status](h),e.complete&&e.complete(h),t(document).trigger("ajaxComplete",{xhr:h})},h.onerror=function(n){t(document).trigger("ajaxError",{xhr:h}),e.error&&e.error(h)},e.start&&e.start(h),t(document).trigger("ajaxStart",{xhr:h}),h.send(f),h},function(){function e(e){t[e]=function(n,a,i){return t.ajax({url:n,method:"post"===e?"POST":"GET",data:"function"==typeof a?void 0:a,success:"function"==typeof a?a:i,dataType:"getJSON"===e?"json":void 0})}}for(var n="get post getJSON".split(" "),a=0;a<n.length;a++)e(n[a])}(),t.parseUrlQuery=function(e){var t,n,a,i={};if(!(e.indexOf("?")>=0))return i;for(e=e.split("?")[1],n=e.split("&"),t=0;t<n.length;t++)a=n[t].split("="),i[a[0]]=a[1];return i},t.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)?!0:!1},t.unique=function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t},t.trim=function(e){return e.trim()},t.serializeObject=function(e){if("string"==typeof e)return e;var n=[],a="&";for(var i in e)if(t.isArray(e[i])){for(var r=[],s=0;s<e[i].length;s++)r.push(i+"="+e[i][s]);n.push(r.join(a))}else n.push(i+"="+e[i]);return n.join(a)},t.getTranslate=function(e,t){var n,a,i,r;return"undefined"==typeof t&&(t="x"),i=window.getComputedStyle(e,null),window.WebKitCSSMatrix?r=new WebKitCSSMatrix("none"===i.webkitTransform?"":i.webkitTransform):(r=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=r.toString().split(",")),"x"===t&&(a=window.WebKitCSSMatrix?r.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(a=window.WebKitCSSMatrix?r.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),a||0},t.requestAnimationFrame=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(e):window.setTimeout(e,1e3/60)},t.supportTouch=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),t.fn=e.prototype,t.fn.scrollTo=function(e,n,a){return this.each(function(){function i(e){void 0===e&&(e=(new Date).getTime()),null===g&&(g=e);var n;f&&(d=r+(e-g)/a*(u-r)),m&&(p=s+(e-g)/a*(c-s)),f&&u>r&&d>=u&&(h.scrollTop=u,n=!0),f&&r>u&&u>=d&&(h.scrollTop=u,n=!0),m&&c>s&&p>=c&&(h.scrollLeft=c,n=!0),m&&s>c&&c>=p&&(h.scrollLeft=c,n=!0),n||(f&&(h.scrollTop=d),m&&(h.scrollLeft=p),t.requestAnimationFrame(i))}var r,s,o,l,u,c,d,p,h=this,f=n>0||0===n,m=e>0||0===e;if(f&&(r=h.scrollTop,a||(h.scrollTop=n)),m&&(s=h.scrollLeft,a||(h.scrollLeft=e)),a){f&&(o=h.scrollHeight-h.offsetHeight,u=Math.max(Math.min(n,o),0)),m&&(l=h.scrollWidth-h.offsetWidth,c=Math.max(Math.min(e,l),0));var g=null;f&&u===r&&(f=!1),m&&c===s&&(m=!1),t.requestAnimationFrame(i)}})},t.fn.scrollTop=function(e,t){var n=this;return"undefined"==typeof e?n.length>0?n[0].scrollTop:null:n.scrollTo(void 0,e,t)},t.fn.scrollLeft=function(e,t){var n=this;return"undefined"==typeof e?n.length>0?n[0].scrollLeft:null:n.scrollTo(e,void 0,t)},t}();Framework7.$=e;window.Dom7=e,Framework7.prototype.support=function(){var e={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)};return e}(),Framework7.prototype.device=function(){var t={},n=navigator.userAgent,a=e,i=n.match(/(Android);?[\s\/]+([\d.]+)?/),r=n.match(/(iPad).*OS\s([\d_]+)/),s=n.match(/(iPod)(.*OS\s([\d_]+))?/),o=!r&&n.match(/(iPhone\sOS)\s([\d_]+)/);if(t.ios=t.android=t.iphone=t.ipad=!1,i&&(t.os="android",t.osVersion=i[2],t.android=!0),(r||o||s)&&(t.os="ios",t.ios=!0),o&&!s&&(t.osVersion=o[2].replace(/_/g,"."),t.iphone=!0),r&&(t.osVersion=r[2].replace(/_/g,"."),t.ipad=!0),s&&(t.osVersion=s[3]?s[3].replace(/_/g,"."):null,
t.iphone=!0),t.ios&&t.osVersion&&n.indexOf("Version/")>=0&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=n.toLowerCase().split("version/")[1].split(" ")[0]),t.webView=(o||r||s)&&n.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&"ios"===t.os){var l=t.osVersion.split(".");t.minimalUi=!t.webView&&(s||o)&&(1*l[0]===7?1*l[1]>=1:1*l[0]>7)&&a('meta[name="viewport"]').length>0&&a('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var u=a(window).width(),c=a(window).height();t.statusBar=!1,t.webView&&u*c===screen.width*screen.height?t.statusBar=!0:t.statusBar=!1;var d=[];if(t.pixelRatio=window.devicePixelRatio||1,t.pixelRatio>=2&&d.push("retina"),t.os&&(d.push(t.os,t.os+"-"+t.osVersion.split(".")[0],t.os+"-"+t.osVersion.replace(/\./g,"-")),"ios"===t.os))for(var p=parseInt(t.osVersion.split(".")[0],10),h=p-1;h>=6;h--)d.push("ios-gt-"+h);return t.statusBar?d.push("with-statusbar-overlay"):a("html").removeClass("with-statusbar-overlay"),d.length>0&&a("html").addClass(d.join(" ")),t}(),Framework7.prototype.plugins={}}(),window.Template7=function(){"use strict";function e(e){return"[object Array]"===Object.prototype.toString.apply(e)}function t(e){return"function"==typeof e}function n(e){var t,n,a,i=e.replace(/[{}#}]/g,"").split(" "),r=[];for(n=0;n<i.length;n++){var s=i[n];if(0===n)r.push(s);else if(0===s.indexOf('"'))if(2===s.match(/"/g).length)r.push(s);else{for(t=0,a=n+1;a<i.length;a++)if(s+=" "+i[a],i[a].indexOf('"')>=0){t=a,r.push(s);break}t&&(n=t)}else if(s.indexOf("=")>0){var o=s.split("="),l=o[0],u=o[1];if(2!==u.match(/"/g).length){for(t=0,a=n+1;a<i.length;a++)if(u+=" "+i[a],i[a].indexOf('"')>=0){t=a;break}t&&(n=t)}var c=[l,u.replace(/"/g,"")];r.push(c)}else r.push(s)}return r}function a(t){var a,i,r=[];if(!t)return[];var s=t.split(/({{[^{^}]*}})/);for(a=0;a<s.length;a++){var o=s[a];if(""!==o)if(o.indexOf("{{")<0)r.push({type:"plain",content:o});else{if(o.indexOf("{/")>=0)continue;if(o.indexOf("{#")<0&&o.indexOf(" ")<0&&o.indexOf("else")<0){r.push({type:"variable",contextName:o.replace(/[{}]/g,"")});continue}var l=n(o),u=l[0],c=[],d={};for(i=1;i<l.length;i++){var p=l[i];e(p)?d[p[0]]="false"===p[1]?!1:p[1]:c.push(p)}if(o.indexOf("{#")>=0){var h,f="",m="",g=0,v=!1,y=!1,b=0;for(i=a+1;i<s.length;i++)if(s[i].indexOf("{{#")>=0&&b++,s[i].indexOf("{{/")>=0&&b--,s[i].indexOf("{{#"+u)>=0)f+=s[i],y&&(m+=s[i]),g++;else if(s[i].indexOf("{{/"+u)>=0){if(!(g>0)){h=i,v=!0;break}g--,f+=s[i],y&&(m+=s[i])}else s[i].indexOf("else")>=0&&0===b?y=!0:(y||(f+=s[i]),y&&(m+=s[i]));v&&(h&&(a=h),r.push({type:"helper",helperName:u,contextName:c,content:f,inverseContent:m,hash:d}))}else o.indexOf(" ")>0&&r.push({type:"helper",helperName:u,contextName:c,hash:d})}}return r}var i=function(e){function t(e,t){return e.content?s(e.content,t):function(){return""}}function n(e,t){return e.inverseContent?s(e.inverseContent,t):function(){return""}}function i(e,t){var n;if(e.indexOf(".")>0)n=0===e.indexOf("this")?e.replace("this",t):t+"."+e;else if(0===e.indexOf("../")){var a=e.split("../").length-1,i=e.split("../")[e.split("../").length-1],r=t.split("_")[1]-a;n="ctx_"+(r>=1?r:1)+"."+i}else n="this"===e?t:t+"."+e;return e&&e.indexOf("@")>=0&&(n="(data && data."+e.replace("@","")+")"),n}function r(e,t){for(var n=[],a=0;a<e.length;a++)0===e[a].indexOf('"')?n.push(e[a]):n.push(i(e[a],t));return n.join(", ")}function s(e,s){if(s=s||1,e=e||o.template,"string"!=typeof e)throw new Error("Template7: Template must be a string");var l=a(e);if(0===l.length)return function(){return""};var u="ctx_"+s,c="(function ("+u+", data) {\n";1===s&&(c+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",c+="function isFunction(func){return (typeof func === 'function');}\n",c+='function c(val, ctx) {if (typeof val !== "undefined") {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n'),c+="var r = '';\n";var d;for(d=0;d<l.length;d++){var p=l[d];if("plain"!==p.type){var h,f;if("variable"===p.type&&(h=i(p.contextName,u),c+="r += c("+h+", "+u+");"),"helper"===p.type)if(p.helperName in o.helpers)f=r(p.contextName,u),c+="r += (Template7.helpers."+p.helperName+").call("+u+", "+(f&&f+",")+"{hash:"+JSON.stringify(p.hash)+", data: data || {}, fn: "+t(p,s+1)+", inverse: "+n(p,s+1)+"});";else{if(p.contextName.length>0)throw new Error('Template7: Missing helper: "'+p.helperName+'"');h=i(p.helperName,u),c+="if ("+h+") {",c+="if (isArray("+h+")) {",c+="r += (Template7.helpers.each).call("+u+", "+h+", {hash:"+JSON.stringify(p.hash)+", data: data || {}, fn: "+t(p,s+1)+", inverse: "+n(p,s+1)+"});",c+="}else {",c+="r += (Template7.helpers.with).call("+u+", "+h+", {hash:"+JSON.stringify(p.hash)+", data: data || {}, fn: "+t(p,s+1)+", inverse: "+n(p,s+1)+"});",c+="}}"}}else c+="r +='"+p.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return c+="\nreturn r;})",eval.call(window,c)}var o=this;o.template=e,o.compile=function(e){return o.compiled||(o.compiled=s(e)),o.compiled}};i.prototype={options:{},helpers:{"if":function(e,n){return t(e)&&(e=e.call(this)),e?n.fn(this,n.data):n.inverse(this,n.data)},unless:function(e,n){return t(e)&&(e=e.call(this)),e?n.inverse(this,n.data):n.fn(this,n.data)},each:function(n,a){var i="",r=0;if(t(n)&&(n=n.call(this)),e(n)){for(a.hash.reverse&&(n=n.reverse()),r=0;r<n.length;r++)i+=a.fn(n[r],{first:0===r,last:r===n.length-1,index:r});a.hash.reverse&&(n=n.reverse())}else for(var s in n)r++,i+=a.fn(n[s],{key:s});return r>0?i:a.inverse(this)},"with":function(e,n){return t(e)&&(e=e.call(this)),n.fn(e)},join:function(e,n){return t(e)&&(e=e.call(this)),e.join(n.hash.delimeter)}}};var r=function(e,t){if(2===arguments.length){var n=new i(e),a=n.compile()(t);return n=null,a}return new i(e)};return r.registerHelper=function(e,t){i.prototype.helpers[e]=t},r.unregisterHelper=function(e){i.prototype.helpers[e]=void 0,delete i.prototype.helpers[e]},r.compile=function(e,t){var n=new i(e,t);return n.compile()},r.options=i.prototype.options,r.helpers=i.prototype.helpers,r}(),define("framework7",function(){}),function(){"use strict";function e(e,t,n){var i=n||a(e);return i==="[object "+t+"]"}function t(t){var n="Array"===t&&on.isArray||function(n,a){return e(n,t,a)};return bn[t]=n,n}function n(t,n){var a=function(a){return y(a)?e(a,n):typeof a===t};return bn[n]=a,a}function a(e){return fn.call(e)}function i(){r(sn),x(xn,function(e,t){r(hn[t])})}function r(e){e.SugarMethods||(c(e,"SugarMethods",{}),s(e,!1,!0,{extend:function(t,n,a){s(e,a!==!1,n,t)},sugarRestore:function(){return l(this,e,arguments,function(e,t,n){c(e,t,n.method)})},sugarRevert:function(){return l(this,e,arguments,function(e,t,n){n.existed?c(e,t,n.original):delete e[t]})}}))}function s(e,t,n,a){var i=t?e.prototype:e;r(e),x(a,function(a,r){var s=i[a],o=v(i,a);jn(n)&&s&&(r=u(s,r,n)),n===!1&&s||c(i,a,r),e.SugarMethods[a]={method:r,existed:o,original:s,instance:t}})}function o(e,t,n,a,i){var r={};a=_n(a)?a.split(","):a,a.forEach(function(e,t){i(r,e,t)}),s(e,t,n,r)}function l(e,t,n,a){var i=0===n.length,r=d(n),s=!1;return x(t.SugarMethods,function(t,n){(i||-1!==r.indexOf(t))&&(s=!0,a(n.instance?e.prototype:e,t,n))}),s}function u(e,t,n){return function(a){return n.apply(this,arguments)?t.apply(this,arguments):e.apply(this,arguments)}}function c(e,t,n){gn?sn.defineProperty(e,t,{value:n,configurable:!0,enumerable:!1,writable:!0}):e[t]=n}function d(e,t,n){var a,i=[],r=n||0;for(a=e.length;a>r;r++)i.push(e[r]),t&&t.call(e,e[r],r);return i}function p(e,t,n){var a=e[n||0];return Tn(a)&&(e=a,n=0),d(e,t,n)}function h(e){if(!e||!e.call)throw new TypeError("Callback is not callable")}function f(e){return e!==rn}function m(e){return e===rn}function g(e,t){return!b(e)&&t in e}function v(e,t){return!!e&&mn.call(e,t)}function y(e){return!!e&&("object"==typeof e||vn&&Pn(e))}function b(e){var t=typeof e;return null==e||"string"===t||"number"===t||"boolean"===t}function w(e,t){t=t||a(e);try{if(e&&e.constructor&&!v(e,"constructor")&&!v(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}return!!e&&"[object Object]"===t&&"hasOwnProperty"in e}function x(e,t){var n;for(n in e)if(v(e,n)&&t.call(e,n,e[n],e)===!1)break}function C(e,t){for(var n=0;e>n;n++)t(n)}function k(e,t){return x(t,function(n){e[n]=t[n]}),e}function _(e){return b(e)&&(e=sn(e)),yn&&_n(e)&&T(e),e}function T(e){for(var t,n=0;t=e.charAt(n);)e[n++]=t}function S(e){k(this,_(e))}function P(e,t,n){var a=On(10,Nn(t||0));return n=n||Ln,0>t&&(a=1/a),n(e*a)/a}function j(e){return e>=Rn&&qn>=e||e>=Bn&&In>=e}function E(){var e,t;for(t=0;9>=t;t++)e=N(t+Bn),Vn+=e,Un[e]=N(t+Rn);Un[$n]="",Un[zn]=Hn,Un[Hn]=Hn,En=ln("["+Vn+zn+$n+Hn+"]","g")}function N(e){return cn.fromCharCode(e)}function O(){return"	\n\x0B\f\r \u2028\u2029\ufeff"}function M(e,t){for(var n="",e=e.toString();t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n}function A(e,t){var n,a;return n=e.replace(En,function(e){var t=Un[e];return t===Hn&&(a=!0),t}),a?parseFloat(n):parseInt(n,t||10)}function L(e,t,n,a){var i=Nn(e).toString(a||10);return i=M("0",t-i.replace(/\.\d+/,"").length)+i,(n||0>e)&&(i=(0>e?"-":"+")+i),i}function D(e){if(e>=11&&13>=e)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function F(e,t){function n(e,n){(e||t.indexOf(n)>-1)&&(a+=n)}var a="";return t=t||"",n(e.multiline,"m"),n(e.ignoreCase,"i"),n(e.global,"g"),n(e.sticky,"y"),a}function R(e){return _n(e)||(e=cn(e)),e.replace(/([\\/\'*+?|()\[\]{}.^$])/g,"\\$1")}function q(e,t){return e["get"+(e._utc?"UTC":"")+t]()}function B(e,t,n){return e["set"+(e._utc&&"ISOWeek"!=t?"UTC":"")+t](n)}function I(e,t){var n,a,i,r,s,o,l,u,c=typeof e;if("string"===c)return e;if(i=fn.call(e),n=w(e,i),a=Tn(e,i),null!=e&&n||a){if(t||(t=[]),t.length>1)for(l=t.length;l--;)if(t[l]===e)return"CYC";for(t.push(e),r=e.valueOf()+cn(e.constructor),s=a?e:sn.keys(e).sort(),l=0,u=s.length;u>l;l++)o=a?l:s[l],r+=o+I(e[o],t);t.pop()}else r=1/e===-(1/0)?"-0":cn(e&&e.valueOf?e.valueOf():e);return c+i+r}function H(e,t){return e===t?0!==e||1/e===1/t:z(e)&&z(t)?I(e)===I(t):!1}function z(e){var t=a(e);return wn.test(t)||w(e,t)}function $(e,t,n){var a,i=e.length,r=t.length,s=t[r-1]!==!1,o=r>(s?1:2);return o?(a=[],d(t,function(t){return Cn(t)?!1:void a.push(V(e,i,t,s,n))}),a):V(e,i,t[0],s,n)}function V(e,t,n,a,i){return a&&(n%=t,0>n&&(n=t+n)),i?e.charAt(n):e[n]}function U(e,t){o(t,!0,!1,e,function(e,t){e[t+("equal"===t?"s":"")]=function(){return sn[t].apply(null,[this].concat(d(arguments)))}})}function W(e,t,n,a){var i=e.length,r=-1==a,s=r?i-1:0,o=G(n,s);for(0>o&&(o=i+o),(!r&&0>o||r&&o>=i)&&(o=s);r&&o>=0||!r&&i>o;){if(e[o]===t)return o;o+=a}return-1}function X(e,t,n,a){var i,r,s=e.length,o=0,l=f(n);if(h(t),0==s&&!l)throw new TypeError("Reduce called on empty array with no initial value");for(l?i=n:(i=e[a?s-1:o],o++);s>o;)r=a?s-o-1:o,r in e&&(i=t(i,e[r],r,e)),o++;return i}function G(e,t){return isNaN(e)?t:parseInt(e>>0)}function Y(e){if(0===e.length)throw new TypeError("First argument must be defined")}function J(){var e=O().match(/^\s+$/);try{cn.prototype.trim.call([1])}catch(t){e=!1}s(cn,!0,!e,{trim:function(){return this.toString().trimLeft().trimRight()},trimLeft:function(){return this.replace(ln("^["+O()+"]+"),"")},trimRight:function(){return this.replace(ln("["+O()+"]+$"),"")}})}function Q(){var e=new un(un.UTC(1999,11,31)),t="1999-12-31T00:00:00.000Z",n=e.toISOString&&e.toISOString()===t;o(un,!0,!n,"toISOString,toJSON",function(e,t){e[t]=function(){return L(this.getUTCFullYear(),4)+"-"+L(this.getUTCMonth()+1,2)+"-"+L(this.getUTCDate(),2)+"T"+L(this.getUTCHours(),2)+":"+L(this.getUTCMinutes(),2)+":"+L(this.getUTCSeconds(),2)+"."+L(this.getUTCMilliseconds(),3)+"Z"}})}function Z(e){return e=ln(e),function(t){return e.test(t)}}function K(e){var t=e.getTime();return function(e){return!(!e||!e.getTime)&&e.getTime()===t}}function ee(e){return function(t,n,a){return t===e||e.call(this,t,n,a)}}function te(e){return function(t,n,a){return t===e||e.call(a,n,t,a)}}function ne(e,t){var n={};return function(a,i,r){var s;if(!y(a))return!1;for(s in e)if(n[s]=n[s]||ie(e[s],t),n[s].call(r,a[s],i,r)===!1)return!1;return!0}}function ae(e){return function(t){return t===e||H(t,e)}}function ie(e,t){if(b(e));else{if(Pn(e))return Z(e);if(Sn(e))return K(e);if(jn(e))return t?te(e):ee(e);if(w(e))return ne(e,t)}return ae(e)}function re(e,t,n,a){return t?t.apply?t.apply(n,a||[]):jn(e[t])?e[t].call(e):e[t]:e}function se(e,t,n,a){var i,r,s=+e.length;for(0>n&&(n=e.length+n),r=isNaN(n)?0:n,a===!0&&(s+=r);s>r;){if(i=r%e.length,!(i in e))return oe(e,t,r,a);if(t.call(e,e[i],i,e)===!1)break;r++}}function oe(e,t,n,a){var i,r=[];for(i in e)le(e,i)&&i>=n&&r.push(parseInt(i));return r.sort().each(function(n){return t.call(e,e[n],n,e)}),e}function le(e,t){return t in e&&ue(t)==t&&4294967295!=t}function ue(e){return e>>>0}function ce(e,t,n,a,i,r){var s,o,l;return e.length>0&&(l=ie(t),se(e,function(t,n){return l.call(r,t,n,e)?(s=t,o=n,!1):void 0},n,a)),i?o:s}function de(e,t){var n,a=[],i={};return se(e,function(r,s){n=t?re(r,t,e,[r,s,e]):r,ye(i,n)||a.push(r)}),a}function pe(e,t,n){var a=[],i={};return t.each(function(e){ye(i,e)}),e.each(function(e){var t=I(e),r=!z(e);ve(i,t,e,r)!==n&&(be(i,t,e,r),a.push(e))}),a}function he(e,t,n){t=t||1/0,n=n||0;var a=[];return se(e,function(e){Tn(e)&&t>n?a=a.concat(he(e,t,n+1)):a.push(e)}),a}function fe(e){return g(e,"length")&&!_n(e)&&!w(e)}function me(e){return g(e,"length")&&("[object Arguments]"===a(e)||!!e.callee)}function ge(e){var t=[];return d(e,function(e){t=t.concat(e)}),t}function ve(e,t,n,a){var i=t in e;return a&&(e[t]||(e[t]=[]),i=-1!==e[t].indexOf(n)),i}function ye(e,t){var n=I(t),a=!z(t),i=ve(e,n,t,a);return a?e[n].push(t):e[n]=t,i}function be(e,t,n,a){var i,r=0;if(a)for(i=e[t];r<i.length;)i[r]===n?i.splice(r,1):r+=1;else delete e[t]}function we(e,t,n,a){var i,r,s,o,l=[],u="max"===n,c="min"===n,d=on.isArray(e);for(r in e)if(e.hasOwnProperty(r)){if(i=e[r],o=re(i,t,e,d?[i,parseInt(r),e]:[]),m(o))throw new TypeError("Cannot compare with undefined");o===s?l.push(i):(m(s)||u&&o>s||c&&s>o)&&(l=[i],s=o)}return d||(l=he(l,1)),a?l:l[0]}function xe(e,t){var n,a,i,r,s,o,l=0,u=0,c=on[Gn],d=on[Yn],p=on[Jn],h=on[Xn],f=on[Qn];e=Ce(e,c,d),t=Ce(t,c,d);do i=ke(e,l,p),r=ke(t,l,p),n=_e(i,h),a=_e(r,h),-1===n||-1===a?(n=e.charCodeAt(l)||null,a=t.charCodeAt(l)||null,f&&j(n)&&j(a)&&(n=A(e.slice(l)),a=A(t.slice(l)))):(s=i!==e.charAt(l),o=r!==t.charAt(l),s!==o&&0===u&&(u=s-o)),l+=1;while(null!=n&&null!=a&&n===a);return n===a?u:n-a}function Ce(e,t,n){return _n(e)||(e=cn(e)),n&&(e=e.toLowerCase()),t&&(e=e.replace(t,"")),e}function ke(e,t,n){var a=e.charAt(t);return n[a]||a}function _e(e,t){return e?t.indexOf(e):null}function Te(){var e=on.prototype.map,t=function(){var e=arguments;return e.length>0&&!jn(e[0])};o(on,!0,t,"every,all,some,filter,any,none,find,findIndex",function(e,t){var n=on.prototype[t];e[t]=function(e){var t=ie(e);return n.call(this,function(e,n){return t(e,n,this)})}}),s(on,!0,t,{map:function(t){return e.call(this,function(e,n){return re(e,t,this,[e,n,this])})}})}function Se(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t="A,C,E,I,O,S,U";on[Xn]=e.split("").map(function(e){return e+e.toLowerCase()}).join("");var n={};se(t.split(","),function(e){var t=e.charAt(0);se(e.slice(1).split(""),function(e){n[e]=t,n[e.toLowerCase()]=t.toLowerCase()})}),on[Qn]=!0,on[Yn]=!0,on[Jn]=n}function Pe(e){return sn.keys(_(e))}function je(e,t){o(sn,!1,!0,e,function(e,n){e[n]=function(e,a,i){var r,s,o=Pe(e);return t||(s=ie(a,!0)),r=on.prototype[n].call(o,function(n){var i=e[n];return t?re(i,a,e,[n,i,e]):s(i,n,e)},i),Tn(r)&&(r=r.reduce(function(t,n,a){return t[n]=e[n],t},{})),r}}),U(e,S)}function Ee(){on[Wn]=xe}function Ne(e){k(this,e),this.compiledFormats=fa.concat()}function Oe(e,t){var n;if(_n(e)||(e=""),n=ya[e]||ya[e.slice(0,2)],t===!1&&!n)throw new TypeError("Invalid locale.");return n||aa}function Me(e,t){function n(e){var t=u[e];_n(t)?u[e]=t.split(","):t||(u[e]=[])}function a(e,t){return e=e.split("+").map(function(e){return e.replace(/(.+):(.+)$/,function(e,t,n){return n.split("|").map(function(e){return t+e}).join("|")})}).join("|"),e.split("|").forEach(t)}function i(e,t,n){var i=[];u[e].forEach(function(e,r){t&&(e+="+"+e.slice(0,3)),a(e,function(e,t){i[t*n+r]=e.toLowerCase()})}),u[e]=i}function r(e,t,n){var a="\\d{"+e+","+t+"}";return n&&(a+="|(?:"+De(u.numbers)+")+"),a}function s(){var e=["-?\\d+"].concat(u.articles);return u.numbers&&(e=e.concat(u.numbers)),De(e)}function o(e,t){u[e]=u[e]||t}function l(){var e=[];u.modifiersByName={},u.modifiers.push({name:"day",src:"yesterday",value:-1}),u.modifiers.push({name:"day",src:"today",value:0}),u.modifiers.push({name:"day",src:"tomorrow",value:1}),u.modifiers.forEach(function(t){var n=t.name;a(t.src,function(a){var i=u[n];u.modifiersByName[a]=t,e.push({name:n,src:a,value:t.value}),u[n]=i?i+"|"+a:a})}),u.day+="|"+De(u.weekdays),u.modifiers=e}var u,c;return u=new Ne(t),n("modifiers"),"months,weekdays,units,numbers,articles,tokens,timeMarker,ampm,timeSuffixes,dateParse,timeParse".split(",").forEach(n),c=!u.monthSuffix,i("months",c,12),i("weekdays",c,7),i("units",!1,8),i("numbers",!1,10),o("code",e),o("date",r(1,2,u.digitDate)),o("year","'\\d{2}|"+r(4,4)),o("num",s()),l(),u.monthSuffix&&(u.month=r(1,2),u.months="1,2,3,4,5,6,7,8,9,10,11,12".split(",").map(function(e){return e+u.monthSuffix})),u.full_month=r(1,2)+"|"+De(u.months),u.timeSuffixes.length>0&&u.addFormat(ot(da,u),!1,oa),u.addFormat("{day}",!0),u.addFormat("{month}"+(u.monthSuffix||"")),u.addFormat("{year}"+(u.yearSuffix||"")),u.timeParse.forEach(function(e){u.addFormat(e,!0)}),u.dateParse.forEach(function(e){u.addFormat(e)}),ya[e]=u}function Ae(e,t,n,a){e.compiledFormats.unshift({variant:a,locale:e,reg:ln("^"+t+"$","i"),to:n})}function Le(e){return e.slice(0,1).toUpperCase()+e.slice(1)}function De(e){return e.filter(function(e){return!!e}).join("|")}function Fe(){var e=un.SugarNewDate;return e?e():new un}function Re(e,t){var n;return y(e[0])?e:kn(e[0])&&!kn(e[1])?[e[0]]:_n(e[0])&&t?[qe(e[0]),e[1]]:(n={},ra.forEach(function(t,a){n[t.name]=e[a]}),[n])}function qe(e,t){var n,a={};return n=e.match(/^(\d+)?\s?(\w+?)s?$/i),n&&(m(t)&&(t=parseInt(n[1])||1),a[n[2].toLowerCase()]=t),a}function Be(e,t,n){var a,i;for(m(n)&&(n=sa.length),a=t||0;n>a&&(i=sa[a],e(i.name,i,a)!==!1);a++);}function Ie(e,t){var n,a,i={};return t.forEach(function(t,r){n=e[r+1],m(n)||""===n||("year"===t&&(i.yearAsString=n.replace(/'/,"")),a=parseFloat(n.replace(/'/,"").replace(/,/,".")),i[t]=isNaN(a)?n.toLowerCase():a)}),i}function He(e){return e=e.trim().replace(/^just (?=now)|\.+$/i,""),ze(e)}function ze(e){return e.replace(ia,function(e,t,n){var a,i,r=0,s=1;return t?e:(n.split("").reverse().forEach(function(e){var t=ha[e],n=t>9;n?(a&&(r+=s),s*=t/(i||1),i=t):(a===!1&&(s*=10),r+=s*t),a=n}),a&&(r+=s),r)})}function $e(e,t,n,a){function i(e){p.push(e)}function r(){p.forEach(function(e){e.call()})}function s(){var e=u.getWeekday();u.setWeekday(7*(m.num-1)+(e>b?b+7:b))}function o(){var e=h.modifiersByName[m.edge];Be(function(e){return f(m[e])?(g=e,!1):void 0},4),"year"===g?m.specificity="month":("month"===g||"week"===g)&&(m.specificity="day"),u[(e.value<0?"endOf":"beginningOf")+Le(g)](),-2===e.value&&u.reset()}function l(){var e;Be(function(t,n,a){if("day"===t&&(t="date"),f(m[t])){if(a>=v)return ct(u),!1;e=e||{},e[t]=m[t],delete m[t]}}),e&&i(function(){u.set(e,!0)})}var u,c,d,p,h,m,g,v,b,w,C;return u=Fe(),p=[],u.utc(a),Sn(e)?u.utc(e.isUTC()).setTime(e.getTime()):kn(e)?u.setTime(e):y(e)?(u.set(e,!0),m=e):_n(e)&&(d=Oe(t),e=He(e),d&&x(d.getFormats(),function(n,a){var r=e.match(a.reg);return r?(h=a.locale,m=Ie(r,a.to,h),h.cachedFormat=a,m.utc&&u.utc(),m.timestamp?(m=m.timestamp,!1):(a.variant&&!_n(m.month)&&(_n(m.date)||d.hasVariant(t))&&(C=m.month,m.month=m.date,m.date=C),m.year&&2===m.yearAsString.length&&(m.year=Ve(m.year)),m.month&&(m.month=h.getMonth(m.month),m.shift&&!m.unit&&(m.unit=h.units[7])),m.weekday&&m.date?delete m.weekday:m.weekday&&(m.weekday=h.getWeekday(m.weekday),m.shift&&!m.unit&&(m.unit=h.units[5])),m.day&&(C=h.modifiersByName[m.day])?(m.day=C.value,u.reset(),c=!0):m.day&&(b=h.getWeekday(m.day))>-1&&(delete m.day,m.num&&m.month?(i(s),m.day=1):m.weekday=b),m.date&&!kn(m.date)&&(m.date=h.getNumericDate(m.date)),h.matchPM(m.ampm)&&m.hour<12?m.hour+=12:h.matchAM(m.ampm)&&12===m.hour&&(m.hour=0),("offset_hours"in m||"offset_minutes"in m)&&(u.utc(),m.offset_minutes=m.offset_minutes||0,m.offset_minutes+=60*m.offset_hours,"-"===m.offset_sign&&(m.offset_minutes*=-1),m.minute-=m.offset_minutes),m.unit&&(c=!0,w=h.getNumber(m.num),v=h.getUnitIndex(m.unit),g=na.units[v],l(),m.shift&&(w*=(C=h.modifiersByName[m.shift])?C.value:0),m.sign&&(C=h.modifiersByName[m.sign])&&(w*=C.value),f(m.weekday)&&(u.set({weekday:m.weekday},!0),delete m.weekday),m[g]=(m[g]||0)+w),m.edge&&i(o),"-"===m.year_sign&&(m.year*=-1),Be(function(e,t,n){var a=m[e],i=a%1;i&&(m[sa[n-1].name]=Ln(i*("second"===e?1e3:60)),m[e]=An(a))},1,4),!1)):void 0}),m?c?u.advance(m):(u._utc&&u.reset(),st(u,m,!0,!1,n)):("now"!==e&&(u=new un(e)),a&&u.addMinutes(-u.getTimezoneOffset())),r(),u.utc(!1)),{date:u,set:m}}function Ve(e){return 100*Ln(q(Fe(),"FullYear")/100)-100*Ln(e/100)+e}function Ue(e){e=e.clone();var t=q(e,"Day")||7;return e.addDays(4-t).reset(),1+An(e.daysSince(e.clone().beginningOfYear())/7)}function We(e){var t,n=Nn(e),a=n,i=0;return Be(function(e,r,s){t=An(P(n/r.multiplier(),1)),t>=1&&(a=t,i=s)},1),[a,i,e]}function Xe(e){var t=We(e.millisecondsFromNow());return Ge(e,t)&&(t[0]=Nn(e.monthsFromNow()),t[1]=6),t}function Ge(e,t){return 6===t[1]||5===t[1]&&4===t[0]&&e.daysFromNow()>=Fe().daysInMonth()}function Ye(e,t){var n=function(e,t){var n=q(e,"Hours");return Oe(t).ampm[An(n/12)]||""};Ke("t",n,1),Ke("tt",n),Ke("T",n,1,1),Ke("TT",n,null,2)}function Je(e,t){var n=function(e,t){var n=q(e,"Day");return Oe(t).weekdays[n]};Ke("dow",n,3),Ke("Dow",n,3,1),Ke("weekday",n),Ke("Weekday",n,null,1)}function Qe(e,t){Ze("mon",0,3),Ze("month",0),Ze("month2",1),Ze("month3",2)}function Ze(e,t,n){var a=function(e,n){var a=q(e,"Month");return Oe(n).months[a+12*t]};Ke(e,a,n),Ke(Le(e),a,n,1)}function Ke(e,t,n,a){ga[e]=function(e,i){var r=t(e,i);return n&&(r=r.slice(0,n)),a&&(r=r.slice(0,a).toUpperCase()+r.slice(a)),r}}function et(e,t,n){ga[e]=t,ga[e+e]=function(e,n){return L(t(e,n),2)},n&&(ga[e+e+e]=function(e,n){return L(t(e,n),3)},ga[e+e+e+e]=function(e,n){return L(t(e,n),4)})}function tt(e){var t=e.match(/(\{\w+\})|[^{}]+/g);ma[e]=t.map(function(e){return e.replace(/\{(\w+)\}/,function(t,n){return e=ga[n]||n,n}),e})}function nt(e,t,n){var a,i,r,s,o="";for(a=ma[t],r=0,i=a.length;i>r;r++)s=a[r],o+=jn(s)?s(e,n):s;return o}function at(e,t,n,a){var i;return e.isValid()?(Date[t]?t=Date[t]:jn(t)&&(i=Xe(e),t=t.apply(e,i.concat(Oe(a)))),!t&&n?(i=i||Xe(e),0===i[1]&&(i[1]=1,i[0]=1),Oe(a).getRelativeFormat(i)):(t=t||"long",("short"===t||"long"===t||"full"===t)&&(t=Oe(a)[t]),ma[t]||tt(t),nt(e,t,a))):"Invalid Date"}function it(e,t,n,a,i){var r,s,o,l,u,c,d=0,p=0,h=0;return r=$e(t,n,null,i),a>0&&(p=h=a,u=!0),r.date.isValid()?(r.set&&r.set.specificity&&(va.forEach(function(t,n){t.name===r.set.specificity&&(d=t.multiplier(r.date,e-r.date)-1)}),c=Le(r.set.specificity),(r.set.edge||r.set.shift)&&r.date["beginningOf"+c](),"month"===r.set.specificity&&(l=r.date.clone()["endOf"+c]().getTime()),!u&&r.set.sign&&"millisecond"!=r.set.specificity&&(p=50,h=-50)),s=e.getTime(),o=r.date.getTime(),l=l||o+d,l=rt(e,o,l),s>=o-p&&l+h>=s):!1}function rt(e,t,n){var a,i,r,s;return a=new un(t),i=new un(n).utc(e.isUTC()),23!==q(i,"Hours")&&(r=a.getTimezoneOffset(),s=i.getTimezoneOffset(),r!==s&&(n+=(s-r).minutes())),n}function st(e,t,n,a,i){function r(e){return f(t[e])?t[e]:t[e+"s"]}function s(e){return f(r(e))}function o(e,t){return s(e)||t&&s("weekday")}function l(){switch(i){case-1:return e>Fe();case 1:return e<Fe()}}var u,c;if(kn(t)&&a)t={milliseconds:t};else if(kn(t))return e.setTime(t),e;if(f(t.date)&&(t.day=t.date),Be(function(a,i,r){var l="day"===a;return o(a,l)?(t.specificity=a,c=+r,!1):void(!n||"week"===a||l&&s("week")||B(e,i.method,l?1:0))}),va.forEach(function(n,i){var o,l=n.name,u=n.method;va[i-1];o=r(l),m(o)||(a?("week"===l&&(o=(t.day||0)+7*o,u="Date"),o=o*a+q(e,u)):"month"===l&&s("day")&&B(e,"Date",15),B(e,u,o),a&&"month"===l&&lt(e,o))}),!a&&!s("day")&&s("weekday")){var u=r("weekday");e.setWeekday(u)}return l()&&Be(function(t,n){var a=n.ambiguous||"week"===t&&s("weekday");return a&&!o(t,"day"===t)?(e[n.addMethod](i),!1):void 0},c+1),e}function ot(e,t,n){var a,i={h:0,m:1,s:2};return t=t||na,e.replace(/{([a-z])}/g,function(e,r){var s=[],o="h"===r,l=o&&!n;return"t"===r?t.ampm.join("|"):(o&&s.push(":"),(a=t.timeSuffixes[i[r]])&&s.push(a+"\\s*"),0===s.length?"":"(?:"+s.join("|")+")"+(l?"":"?"))})}function lt(e,t){0>t&&(t=t%12+12),t%12!=q(e,"Month")&&B(e,"Date",0)}function ut(e,t,n){var a,i;return kn(e[1])?a=Re(e)[0]:(a=e[0],i=e[1]),$e(a,i,t,n).date}function ct(e){e.setTime(NaN)}function dt(){sa=va.concat().reverse(),ra=va.concat(),ra.splice(2,1)}function pt(){o(un,!0,!0,va,function(e,t,n){function a(e){var n=e/l,a=n%1,i=t.error||.999;return a&&Nn(a%1)>i&&(n=Ln(n)),0>n?Mn(n):An(n)}var i,r,s=t.name,o=Le(s),l=t.multiplier();t.addMethod="add"+o+"s",i=function(e,t){return a(this.getTime()-un.create(e,t).getTime())},r=function(e,t){return a(un.create(e,t).getTime()-this.getTime())},e[s+"sAgo"]=r,e[s+"sUntil"]=r,e[s+"sSince"]=i,e[s+"sFromNow"]=i,e[t.addMethod]=function(e,t){var n={};return n[s]=e,this.advance(n,t)},wt(t,l),3>n&&["Last","This","Next"].forEach(function(t){e["is"+t+o]=function(){return it(this,t+" "+s,"en")}}),4>n&&(e["beginningOf"+o]=function(){var e={};switch(s){case"year":e.year=q(this,"FullYear");break;case"month":e.month=q(this,"Month");break;case"day":e.day=q(this,"Date");break;case"week":e.weekday=0}return this.set(e,!0)},e["endOf"+o]=function(){var e={hours:23,minutes:59,seconds:59,milliseconds:999};switch(s){case"year":e.month=11,e.day=31;break;case"month":e.day=this.daysInMonth();break;case"week":e.weekday=6}return this.set(e,!0)})})}function ht(){na.addFormat("([+-])?(\\d{4,4})[-.]?{full_month}[-.]?(\\d{1,2})?",!0,["year_sign","year","month","date"],!1,!0),na.addFormat("(\\d{1,2})[-.\\/]{full_month}(?:[-.\\/](\\d{2,4}))?",!0,["date","month","year"],!0),na.addFormat("{full_month}[-.](\\d{4,4})",!1,["month","year"]),na.addFormat("\\/Date\\((\\d+(?:[+-]\\d{4,4})?)\\)\\/",!1,["timestamp"]),na.addFormat(ot(da,na),!1,oa),fa=na.compiledFormats.slice(0,7).reverse(),na.compiledFormats=na.compiledFormats.slice(7).concat(fa)}function ft(){et("f",function(e){return q(e,"Milliseconds")},!0),et("s",function(e){return q(e,"Seconds")}),et("m",function(e){return q(e,"Minutes")}),et("h",function(e){return q(e,"Hours")%12||12}),et("H",function(e){return q(e,"Hours")}),et("d",function(e){return q(e,"Date")}),et("M",function(e){return q(e,"Month")+1}),Ye(),Je(),Qe(),ga.ms=ga.f,ga.milliseconds=ga.f,ga.seconds=ga.s,ga.minutes=ga.m,ga.hours=ga.h,ga["24hr"]=ga.H,ga["12hr"]=ga.h,ga.date=ga.d,ga.day=ga.d,ga.year=ga.yyyy}function mt(){o(un,!0,!0,"short,long,full",function(e,t){e[t]=function(e){return at(this,t,!1,e)}})}function gt(){pa.split("").forEach(function(e,t){t>9&&(t=On(10,t-9)),ha[e]=t}),k(ha,Un),ia=ln("([])?(["+pa+Vn+"]+)(?!)","g")}function vt(){var e="today,yesterday,tomorrow,weekday,weekend,future,past".split(","),t=na.weekdays.slice(0,7),n=na.months.slice(0,12);o(un,!0,!0,e.concat(t).concat(n),function(e,t){e["is"+Le(t)]=function(e){return this.is(t,0,e)}})}function yt(){un.utc||(un.utc={create:function(){return ut(arguments,0,!0)},past:function(){return ut(arguments,-1,!0)},future:function(){return ut(arguments,1,!0)}})}function bt(){s(un,!1,!0,{RFC1123:"{Dow}, {dd} {Mon} {yyyy} {HH}:{mm}:{ss} {tz}",RFC1036:"{Weekday}, {dd}-{Mon}-{yy} {HH}:{mm}:{ss} {tz}",ISO8601_DATE:"{yyyy}-{MM}-{dd}",ISO8601_DATETIME:"{yyyy}-{MM}-{dd}T{HH}:{mm}:{ss}.{fff}{isotz}"})}function wt(e,t){function n(){return Ln(this*t)}function a(){return ut(arguments)[e.addMethod](this)}function i(){return ut(arguments)[e.addMethod](-this)}var r=e.name,s={};s[r]=n,s[r+"s"]=n,s[r+"Before"]=i,s[r+"sBefore"]=i,s[r+"Ago"]=i,s[r+"sAgo"]=i,s[r+"After"]=a,s[r+"sAfter"]=a,s[r+"FromNow"]=a,s[r+"sFromNow"]=a,dn.extend(s)}function xt(e,t){this.start=_t(e),this.end=_t(t)}function Ct(e){return _n(e)?e.charCodeAt(0):e}function kt(e){return null==e?e:Sn(e)?e.getTime():e.valueOf()}function _t(e){return Sn(e)?new un(e.getTime()):kt(e)}function Tt(e){var t=kt(e);return!!t||0===t}function St(e){var t,n,a;return kn(e)?e:(t=e.toLowerCase().match(/^(\d+)?\s?(\w+?)s?$/i),n=parseInt(t[1])||1,a=t[2].slice(0,1).toUpperCase()+t[2].slice(1),a.match(/hour|minute|second/i)?a+="s":"Year"===a?a="FullYear":"Day"===a&&(a="Date"),[n,a])}function Pt(e,t){var n,a,i,r;return kn(t)?new un(e.getTime()+t):(n=t[0],a=t[1],i=q(e,a),r=new un(e.getTime()),B(r,a,i+n),r)}function jt(e,t){return cn.fromCharCode(e.charCodeAt(0)+t)}function Et(e,t){return e+t}function Nt(e,t,n,a,i){t!==1/0&&(e.timers||(e.timers=[]),kn(t)||(t=1),e._canceled=!1,e.timers.push(setTimeout(function(){e._canceled||n.apply(a,i||[])},t)))}function Ot(e,t,n,a,i,r){var s,o,l,u=e.toFixed(20),c=u.search(/\./),d=u.search(/[1-9]/),p=c-d;return p>0&&(p-=1),o=Fn(Dn(An(p/3),i===!1?n.length:i),-a),s=n.charAt(o+a-1),-9>p&&(o=-3,t=Nn(p)-9,s=n.slice(0,1)),l=r?On(2,10*o):On(10,3*o),P(e/l,t||0).format()+s.trim()}function Mt(){function e(e){return function(t){return t?P(this,t,e):e(this)}}s(dn,!0,!0,{ceil:e(Mn),round:e(Ln),floor:e(An)}),o(dn,!0,!0,"abs,pow,sin,asin,cos,acos,tan,atan,exp,pow,sqrt",function(e,t){e[t]=function(e,n){return pn[t](this,e,n)}})}function At(e,t,n,a){var i,r,s,o,l=/^(.+?)(\[.*\])$/;(r=t.match(l))?(o=r[1],s=r[2].replace(/^\[|\]$/g,"").split("]["),s.forEach(function(t){i=!t||t.match(/^\d+$/),!o&&Tn(e)&&(o=e.length),v(e,o)||(e[o]=i?[]:{}),e=e[o],o=t}),!o&&i&&(o=e.length.toString()),At(e,o,n,a)):a&&"true"===n?e[t]=!0:a&&"false"===n?e[t]=!1:e[t]=n}function Lt(e,t){var n;return Tn(t)||y(t)&&t.toString===fn?(n=[],x(t,function(t,a){e&&(t=e+"["+t+"]"),n.push(Lt(t,a))}),n.join("&")):e?Dt(e)+"="+(Sn(t)?t.getTime():Dt(t)):""}function Dt(e){return e||e===!1||0===e?encodeURIComponent(e).replace(/%20/g,"+"):""}function Ft(e,t,n){return Pn(e)?e.test(t):y(e)?e[t]===n:t===cn(e)}function Rt(e,t,n){var a,i=e instanceof S?new S:{};return x(e,function(e,r){a=!1,p(t,function(t){Ft(t,e,r)&&(a=!0)},1),a===n&&(i[e]=r)}),i}function qt(){o(sn,!1,!0,xn,function(e,t){var n="is"+t;ba.push(n),e[n]=bn[t]})}function Bt(){s(sn,!1,function(){return 0===arguments.length},{extend:function(){var e=ba.concat(wa);"undefined"!=typeof ta&&(e=e.concat(ta)),U(e,sn)}})}function It(e){var t=cn.Inflector,e=t&&t.acronyms[e];return _n(e)?e:void 0}function Ht(e){if(e=+e,0>e||e===1/0)throw new RangeError("Invalid number");return e}function zt(e,t){return M(f(t)?t:" ",e)}function $t(e,t,n,a,i){var r,s,o,l;if(e.length<=t)return e.toString();switch(a=m(a)?"...":a,n){case"left":return s=i?Vt(e,t,!0):e.slice(e.length-t),a+s;case"middle":return o=Mn(t/2),l=An(t/2),r=i?Vt(e,o):e.slice(0,o),s=i?Vt(e,l,!0):e.slice(e.length-l),r+a+s;default:return r=i?Vt(e,t):e.slice(0,t),r+a}}function Vt(e,t,n){if(n)return Vt(e.reverse(),t).reverse();var a=ln("(?=["+O()+"])"),i=e.split(a),r=0;return i.filter(function(e){return r+=e.length,t>=r}).join("")}function Ut(e,t,n){return _n(t)&&(t=e.indexOf(t),-1===t&&(t=n?e.length:0)),t}function Wt(e){if(hn.btoa)return xa=hn.btoa,void(Ca=hn.atob);var t=/[^A-Za-z0-9\+\/\=]/g;xa=function(t){var n,a,i,r,s,o,l,u="",c=0;do n=t.charCodeAt(c++),a=t.charCodeAt(c++),i=t.charCodeAt(c++),r=n>>2,s=(3&n)<<4|a>>4,o=(15&a)<<2|i>>6,l=63&i,isNaN(a)?o=l=64:isNaN(i)&&(l=64),u=u+e.charAt(r)+e.charAt(s)+e.charAt(o)+e.charAt(l),n=a=i="",r=s=o=l="";while(c<t.length);return u},Ca=function(n){var a,i,r,s,o,l,u,c="",d=0;if(n.match(t))throw new Error("String contains invalid base64 characters");n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");do s=e.indexOf(n.charAt(d++)),o=e.indexOf(n.charAt(d++)),l=e.indexOf(n.charAt(d++)),u=e.indexOf(n.charAt(d++)),
a=s<<2|o>>4,i=(15&o)<<4|l>>2,r=(3&l)<<6|u,c+=N(a),64!=l&&(c+=N(i)),64!=u&&(c+=N(r)),a=i=r="",s=o=l=u="";while(d<n.length);return c}}function Xt(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function Gt(e,t,n){_n(t)&&Xt(Pa,t),Xt(Pa,n),e.unshift({rule:t,replacement:n})}function Yt(e,t){return e==t||"all"==e||!e}function Jt(e){return Pa.some(function(t){return new ln("\\b"+t+"$","i").test(e)})}function Qt(e,t){return e=_n(e)?e.toString():"",e.isBlank()||Jt(e)?e:Zt(e,t?Ta:Sa)}function Zt(e,t){return x(t,function(t,n){return e.match(n.rule)?(e=e.replace(n.rule,n.replacement),!1):void 0}),e}function Kt(e){return e.replace(/^\W*[a-z]/,function(e){return e.toUpperCase()})}function en(){Oa.forEach(function(e){var t=ln("^["+e.source+"\\s]+$"),n=ln("["+e.source+"]");e.names.forEach(function(e){c(cn.prototype,"is"+e,function(){return t.test(this.trim())}),c(cn.prototype,"has"+e,function(){return n.test(this)})})})}function tn(e,t,n,a){Na||nn();var i=d(t).join(""),r=Na[a];return i=i.replace(/all/,"").replace(/(\w)lphabet|umbers?|atakana|paces?|unctuation/g,"$1"),e.replace(n,function(e){return!r[e]||i&&!i.has(r[e].type)?e:r[e].to})}function nn(){var e;Na={zenkaku:{},hankaku:{}},Aa.forEach(function(e){C(e.end-e.start+1,function(t){t+=e.start,an(e.type,N(t),N(t+Ma))})}),Ha.each(function(t,n){e=Ia.charAt(n),an("k",e,t),t.match(qa)&&an("k",e+"",t.shift(1)),t.match(Ba)&&an("k",e+"",t.shift(2))}),Ra.each(function(e,t){an("p",Fa.charAt(t),e)}),an("k","",""),an("k","",""),an("s"," ","")}function an(e,t,n){Na.zenkaku[t]={type:e,to:n},Na.hankaku[n]={type:e,to:t}}var rn,sn=Object,on=Array,ln=RegExp,un=Date,cn=String,dn=Number,pn=Math,hn="undefined"!=typeof global?global:this,fn=sn.prototype.toString,mn=sn.prototype.hasOwnProperty,gn=sn.defineProperty&&sn.defineProperties,vn="function"==typeof ln(),yn=!("0"in new cn("a")),bn={},wn=/^\[object Date|Array|String|Number|RegExp|Boolean|Arguments\]$/,xn="Boolean,Number,String,Array,Date,RegExp,Function".split(","),Cn=n("boolean",xn[0]),kn=n("number",xn[1]),_n=n("string",xn[2]),Tn=t(xn[3]),Sn=t(xn[4]),Pn=t(xn[5]),jn=t(xn[6]);S.prototype.constructor=sn;var En,Nn=pn.abs,On=pn.pow,Mn=pn.ceil,An=pn.floor,Ln=pn.round,Dn=pn.min,Fn=pn.max,Rn=48,qn=57,Bn=65296,In=65305,Hn=".",zn="",$n=",",Vn="",Un={};i(),E(),s(sn,!1,!1,{keys:function(e){var t=[];if(!y(e)&&!Pn(e)&&!jn(e))throw new TypeError("Object required");return x(e,function(e,n){t.push(e)}),t}}),s(on,!1,!1,{isArray:function(e){return Tn(e)}}),s(on,!0,!1,{every:function(e,t){var n=this.length,a=0;for(Y(arguments);n>a;){if(a in this&&!e.call(t,this[a],a,this))return!1;a++}return!0},some:function(e,t){var n=this.length,a=0;for(Y(arguments);n>a;){if(a in this&&e.call(t,this[a],a,this))return!0;a++}return!1},map:function(e,t){var t=arguments[1],n=this.length,a=0,i=new Array(n);for(Y(arguments);n>a;)a in this&&(i[a]=e.call(t,this[a],a,this)),a++;return i},filter:function(e){var t=arguments[1],n=this.length,a=0,i=[];for(Y(arguments);n>a;)a in this&&e.call(t,this[a],a,this)&&i.push(this[a]),a++;return i},indexOf:function(e){var t=arguments[1];return _n(this)?this.indexOf(e,t):W(this,e,t,1)},lastIndexOf:function(e){var t=arguments[1];return _n(this)?this.lastIndexOf(e,t):W(this,e,t,-1)},forEach:function(e){var t=this.length,n=0,a=arguments[1];for(h(e);t>n;)n in this&&e.call(a,this[n],n,this),n++},reduce:function(e){return X(this,e,arguments[1])},reduceRight:function(e){return X(this,e,arguments[1],!0)}}),s(Function,!0,!1,{bind:function(e){var t,n=this,a=d(arguments,null,1);if(!jn(this))throw new TypeError("Function.prototype.bind called on a non-function");return t=function(){return n.apply(n.prototype&&this instanceof n?this:e,a.concat(d(arguments)))},t.prototype=this.prototype,t}}),s(un,!1,!1,{now:function(){return(new un).getTime()}}),J(),Q();var Wn="AlphanumericSort",Xn="AlphanumericSortOrder",Gn="AlphanumericSortIgnore",Yn="AlphanumericSortIgnoreCase",Jn="AlphanumericSortEquivalents",Qn="AlphanumericSortNatural";s(on,!1,!0,{create:function(){var e=[];return d(arguments,function(t){(me(t)||fe(t))&&(t=on.prototype.slice.call(t,0)),e=e.concat(t)}),e}}),s(on,!0,!1,{find:function(e,t){return h(e),ce(this,e,0,!1,!1,t)},findIndex:function(e,t){var n;return h(e),n=ce(this,e,0,!1,!0,t),m(n)?-1:n}}),s(on,!0,!0,{findFrom:function(e,t,n){return ce(this,e,t,n)},findIndexFrom:function(e,t,n){var t=ce(this,e,t,n,!0);return m(t)?-1:t},findAll:function(e,t,n){var a,i=[];return this.length>0&&(a=ie(e),se(this,function(e,t,n){a(e,t,n)&&i.push(e)},t,n)),i},count:function(e){return m(e)?this.length:this.findAll(e).length},removeAt:function(e,t){return m(e)?this:(m(t)&&(t=e),this.splice(e,t-e+1),this)},include:function(e,t){return this.clone().add(e,t)},exclude:function(){return on.prototype.remove.apply(this.clone(),arguments)},clone:function(){return k([],this)},unique:function(e){return de(this,e)},flatten:function(e){return he(this,e)},union:function(){return de(this.concat(ge(arguments)))},intersect:function(){return pe(this,ge(arguments),!1)},subtract:function(e){return pe(this,ge(arguments),!0)},at:function(){return $(this,arguments)},first:function(e){return m(e)?this[0]:(0>e&&(e=0),this.slice(0,e))},last:function(e){if(m(e))return this[this.length-1];var t=this.length-e<0?0:this.length-e;return this.slice(t)},from:function(e){return this.slice(e)},to:function(e){return m(e)&&(e=this.length),this.slice(0,e)},min:function(e,t){return we(this,e,"min",t)},max:function(e,t){return we(this,e,"max",t)},least:function(e,t){return we(this.groupBy.apply(this,[e]),"length","min",t)},most:function(e,t){return we(this.groupBy.apply(this,[e]),"length","max",t)},sum:function(e){var t=e?this.map(e):this;return t.length>0?t.reduce(function(e,t){return e+t}):0},average:function(e){var t=e?this.map(e):this;return t.length>0?t.sum()/t.length:0},inGroups:function(e,t){var n=arguments.length>1,a=this,i=[],r=Mn(this.length/e);return C(e,function(e){var s=e*r,o=a.slice(s,s+r);n&&o.length<r&&C(r-o.length,function(){o=o.add(t)}),i.push(o)}),i},inGroupsOf:function(e,t){var n,a=[],i=this.length,r=this;return 0===i||0===e?r:(m(e)&&(e=1),m(t)&&(t=null),C(Mn(i/e),function(i){for(n=r.slice(e*i,e*i+e);n.length<e;)n.push(t);a.push(n)}),a)},isEmpty:function(){return 0==this.compact().length},sortBy:function(e,t){var n=this.clone();return n.sort(function(a,i){var r,s,o;return r=re(a,e,n,[a]),s=re(i,e,n,[i]),o=_n(r)&&_n(s)?xe(r,s):s>r?-1:r>s?1:0,o*(t?-1:1)}),n},randomize:function(){for(var e,t,n=this.concat(),a=n.length;a;)e=pn.random()*a|0,t=n[--a],n[a]=n[e],n[e]=t;return n},zip:function(){var e=d(arguments);return this.map(function(t,n){return[t].concat(e.map(function(e){return n in e?e[n]:null}))})},sample:function(e){var t=this.randomize();return arguments.length>0?t.slice(0,e):t[0]},each:function(e,t,n){return se(this,e,t,n),this},add:function(e,t){return(!kn(dn(t))||isNaN(t))&&(t=this.length),on.prototype.splice.apply(this,[t,0].concat(e)),this},remove:function(){var e=this;return d(arguments,function(t){for(var n=0,a=ie(t);n<e.length;)a(e[n],n,e)?e.splice(n,1):n++}),e},compact:function(e){var t=[];return se(this,function(n,a){Tn(n)?t.push(n.compact()):e&&n?t.push(n):e||null==n||n.valueOf()!==n.valueOf()||t.push(n)}),t},groupBy:function(e,t){var n,a=this,i={};return se(a,function(t,r){n=re(t,e,a,[t,r,a]),i[n]||(i[n]=[]),i[n].push(t)}),t&&x(i,t),i},none:function(){return!this.any.apply(this,arguments)}}),s(on,!0,!0,{all:on.prototype.every,any:on.prototype.some,insert:on.prototype.add}),s(sn,!1,!0,{map:function(e,t){var n,a,i={};for(n in e)v(e,n)&&(a=e[n],i[n]=re(a,t,e,[n,a,e]));return i},reduce:function(e){var t=Pe(e).map(function(t){return e[t]});return t.reduce.apply(t,d(arguments,null,1))},each:function(e,t){return h(t),x(e,t),e},size:function(e){return Pe(e).length}});var Zn="any,all,none,count,find,findAll,isEmpty".split(","),Kn="sum,average,min,max,least,most".split(","),ea="map,reduce,size".split(","),ta=Zn.concat(Kn).concat(ea);Te(),Se(),je(Zn),je(Kn,!0),U(ea,S),Ee();var na,aa,ia,ra,sa,oa=["ampm","hour","minute","second","ampm","utc","offset_sign","offset_hours","offset_minutes","ampm"],la="(?:[,.]\\d+)?",ua="\\d{1,2}"+la,ca="[0-5]\\d"+la,da="({t})?\\s*("+ua+")(?:{h}("+ca+")?{m}(?::?("+ca+"){s})?\\s*(?:({t})|(Z)|(?:([+-])(\\d{2,2})(?::?(\\d{2,2}))?)?)?|\\s*({t}))",pa="",ha={},fa=[],ma={},ga={yyyy:function(e){return q(e,"FullYear")},yy:function(e){return q(e,"FullYear")%100},ord:function(e){var t=q(e,"Date");return t+D(t)},tz:function(e){return e.getUTCOffset()},isotz:function(e){return e.getUTCOffset(!0)},Z:function(e){return e.getUTCOffset()},ZZ:function(e){return e.getUTCOffset().replace(/(\d{2})$/,":$1")}},va=[{name:"year",method:"FullYear",ambiguous:!0,multiplier:function(e){var t=e?e.isLeapYear()?1:0:.25;return 24*(365+t)*60*60*1e3}},{name:"month",error:.919,method:"Month",ambiguous:!0,multiplier:function(e,t){var n,a=30.4375;return e&&(n=e.daysInMonth(),t<=n.days()&&(a=n)),24*a*60*60*1e3}},{name:"week",method:"ISOWeek",multiplier:function(){return 6048e5}},{name:"day",error:.958,method:"Date",ambiguous:!0,multiplier:function(){return 864e5}},{name:"hour",method:"Hours",multiplier:function(){return 36e5}},{name:"minute",method:"Minutes",multiplier:function(){return 6e4}},{name:"second",method:"Seconds",multiplier:function(){return 1e3}},{name:"millisecond",method:"Milliseconds",multiplier:function(){return 1}}],ya={};Ne.prototype={getMonth:function(e){return kn(e)?e-1:this.months.indexOf(e)%12},getWeekday:function(e){return this.weekdays.indexOf(e)%7},getNumber:function(e){var t;return kn(e)?e:e&&-1!==(t=this.numbers.indexOf(e))?(t+1)%10:1},getNumericDate:function(e){var t=this;return e.replace(ln(this.num,"g"),function(e){var n=t.getNumber(e);return n||""})},getUnitIndex:function(e){return this.units.indexOf(e)%8},getRelativeFormat:function(e){return this.convertAdjustedToFormat(e,e[2]>0?"future":"past")},getDuration:function(e){return this.convertAdjustedToFormat(We(e),"duration")},hasVariant:function(e){return e=e||this.code,"en"===e||"en-US"===e?!0:this.variant},matchAM:function(e){return e===this.ampm[0]},matchPM:function(e){return e&&e===this.ampm[1]},convertAdjustedToFormat:function(e,t){var n,a,i,r=e[0],s=e[1],o=e[2],l=this[t]||this.relative;return jn(l)?l.call(this,r,s,o,t):(i=this.plural&&r>1?1:0,a=this.units[8*i+s]||this.units[s],this.capitalizeUnit&&(a=Le(a)),n=this.modifiers.filter(function(e){return"sign"==e.name&&e.value==(o>0?1:-1)})[0],l.replace(/\{(.*?)\}/g,function(e,t){switch(t){case"num":return r;case"unit":return a;case"sign":return n.src}}))},getFormats:function(){return this.cachedFormat?[this.cachedFormat].concat(this.compiledFormats):this.compiledFormats},addFormat:function(e,t,n,a,i){var r,s,o,l=n||[],u=this;e=e.replace(/\s+/g,"[,. ]*"),e=e.replace(/\{([^,]+?)\}/g,function(e,t){var a,i,r,s=t.match(/\?$/),o=t.match(/^(\d+)\??$/),c=t.match(/(\d)(?:-(\d))?/),d=t.replace(/[^a-z]+$/,"");return o?a=u.tokens[o[1]]:u[d]?a=u[d]:u[d+"s"]&&(a=u[d+"s"],c&&(i=[],a.forEach(function(e,t){var n=t%(u.units?8:a.length);n>=c[1]&&n<=(c[2]||c[1])&&i.push(e)}),a=i),a=De(a)),o?r="(?:"+a+")":(n||l.push(d),r="("+a+")"),s&&(r+="?"),r}),t?(r=ot(da,u,i),s=["t","[\\s\\u3000]"].concat(u.timeMarker),o=e.match(/\\d\{\d,\d\}\)+\??$/),Ae(u,"(?:"+r+")[,\\s\\u3000]+?"+e,oa.concat(l),a),Ae(u,e+"(?:[,\\s]*(?:"+s.join("|")+(o?"+":"*")+")"+r+")?",l.concat(oa),a)):Ae(u,e,l,a)}},s(un,!1,!0,{create:function(){return ut(arguments)},past:function(){return ut(arguments,-1)},future:function(){return ut(arguments,1)},addLocale:function(e,t){return Me(e,t)},setLocale:function(e,t){var n=Oe(e,!1);return aa=n,e&&e!=n.code&&(n.code=e),n},getLocale:function(e){return e?Oe(e,!1):aa},addFormat:function(e,t,n){Ae(Oe(n),e,t)}}),s(un,!0,!0,{set:function(){var e=Re(arguments);return st(this,e[0],e[1])},setWeekday:function(e){return m(e)?void 0:B(this,"Date",q(this,"Date")+e-q(this,"Day"))},setISOWeek:function(e){var t=q(this,"Day")||7;if(!m(e))return this.set({month:0,date:4}),this.set({weekday:1}),e>1&&this.addWeeks(e-1),1!==t&&this.advance({days:t-1}),this.getTime()},getISOWeek:function(){return Ue(this)},beginningOfISOWeek:function(){var e=this.getDay();return 0===e?e=-6:1!==e&&(e=1),this.setWeekday(e),this.reset()},endOfISOWeek:function(){return 0!==this.getDay()&&this.setWeekday(7),this.endOfDay()},getUTCOffset:function(e){var t=this._utc?0:this.getTimezoneOffset(),n=e===!0?":":"";return!t&&e?"Z":L(An(-t/60),2,!0)+n+L(Nn(t%60),2)},utc:function(e){return c(this,"_utc",e===!0||0===arguments.length),this},isUTC:function(){return!!this._utc||0===this.getTimezoneOffset()},advance:function(){var e=Re(arguments,!0);return st(this,e[0],e[1],1)},rewind:function(){var e=Re(arguments,!0);return st(this,e[0],e[1],-1)},isValid:function(){return!isNaN(this.getTime())},isAfter:function(e,t,n){return this.getTime()>un.create(e).getTime()-(t||0)},isBefore:function(e,t){return this.getTime()<un.create(e).getTime()+(t||0)},isBetween:function(e,t,n){var a=this.getTime(),i=un.create(e).getTime(),r=un.create(t).getTime(),s=Dn(i,r),o=Fn(i,r);return n=n||0,a>s-n&&o+n>a},isLeapYear:function(){var e=q(this,"FullYear");return e%4===0&&e%100!==0||e%400===0},daysInMonth:function(){return 32-q(new un(q(this,"FullYear"),q(this,"Month"),32),"Date")},format:function(e,t){return at(this,e,!1,t)},relative:function(e,t){return _n(e)&&(t=e,e=null),at(this,e,!0,t)},is:function(e,t,n){var a,i;if(this.isValid()){if(_n(e))switch(e=e.trim().toLowerCase(),i=this.clone().utc(n),!0){case"future"===e:return this.getTime()>Fe().getTime();case"past"===e:return this.getTime()<Fe().getTime();case"weekday"===e:return q(i,"Day")>0&&q(i,"Day")<6;case"weekend"===e:return 0===q(i,"Day")||6===q(i,"Day");case(a=na.weekdays.indexOf(e)%7)>-1:return q(i,"Day")===a;case(a=na.months.indexOf(e)%12)>-1:return q(i,"Month")===a}return it(this,e,null,t,n)}},reset:function(e){var t,n={};return e=e||"hours","date"===e&&(e="days"),t=va.some(function(t){return e===t.name||e===t.name+"s"}),n[e]=e.match(/^days?/)?1:0,t?this.set(n,!0):this},clone:function(){var e=new un(this.getTime());return e.utc(!!this._utc),e}}),s(un,!0,!0,{iso:function(){return this.toISOString()},getWeekday:un.prototype.getDay,getUTCWeekday:un.prototype.getUTCDay}),s(dn,!0,!0,{duration:function(e){return Oe(e).getDuration(this)}}),na=aa=un.addLocale("en",{plural:!0,timeMarker:"at",ampm:"am,pm",months:"January,February,March,April,May,June,July,August,September,October,November,December",weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",units:"millisecond:|s,second:|s,minute:|s,hour:|s,day:|s,week:|s,month:|s,year:|s",numbers:"one,two,three,four,five,six,seven,eight,nine,ten",articles:"a,an,the",tokens:"the,st|nd|rd|th,of","short":"{Month} {d}, {yyyy}","long":"{Month} {d}, {yyyy} {h}:{mm}{tt}",full:"{Weekday} {Month} {d}, {yyyy} {h}:{mm}:{ss}{tt}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",modifiers:[{name:"sign",src:"ago|before",value:-1},{name:"sign",src:"from now|after|from|in|later",value:1},{name:"edge",src:"last day",value:-2},{name:"edge",src:"end",value:-1},{name:"edge",src:"first day|beginning",value:1},{name:"shift",src:"last",value:-1},{name:"shift",src:"the|this",value:0},{name:"shift",src:"next",value:1}],dateParse:["{month} {year}","{shift} {unit=5-7}","{0?} {date}{1}","{0?} {edge} of {shift?} {unit=4-7?}{month?}{year?}"],timeParse:["{num} {unit} {sign}","{sign} {num} {unit}","{0} {num}{1} {day} of {month} {year?}","{weekday?} {month} {date}{1?} {year?}","{date} {month} {year}","{date} {month}","{shift} {weekday}","{shift} week {weekday}","{weekday} {2?} {shift} week","{num} {unit=4-5} {sign} {day}","{0?} {date}{1} of {month}","{0?}{month?} {date?}{1?} of {shift} {unit=6-7}"]}),dt(),pt(),ht(),ft(),mt(),gt(),vt(),yt(),bt(),xt.prototype.toString=function(){return this.isValid()?this.start+".."+this.end:"Invalid Range"},s(xt,!0,!0,{isValid:function(){return Tt(this.start)&&Tt(this.end)&&typeof this.start==typeof this.end},span:function(){return this.isValid()?Nn(Ct(this.end)-Ct(this.start))+1:NaN},contains:function(e){return null==e?!1:e.start&&e.end?e.start>=this.start&&e.start<=this.end&&e.end>=this.start&&e.end<=this.end:e>=this.start&&e<=this.end},every:function(e,t){var n,a=this.start,i=this.end,r=a>i,s=a,o=0,l=[];for(jn(e)&&(t=e,e=null),e=e||1,kn(a)?n=Et:_n(a)?n=jt:Sn(a)&&(e=St(e),n=Pt),r&&e>0&&(e*=-1);r?s>=i:i>=s;)l.push(s),t&&t(s,o),s=n(s,e),o++;return l},union:function(e){return new xt(this.start<e.start?this.start:e.start,this.end>e.end?this.end:e.end)},intersect:function(e){return e.start>this.end||e.end<this.start?new xt(NaN,NaN):new xt(this.start>e.start?this.start:e.start,this.end<e.end?this.end:e.end)},clone:function(e){return new xt(this.start,this.end)},clamp:function(e){var t,n=this.start,a=this.end,i=n>a?a:n,r=n>a?n:a;return t=i>e?i:e>r?r:e,_t(t)}}),[dn,cn,un].forEach(function(e){s(e,!1,!0,{range:function(t,n){return e.create&&(t=e.create(t),n=e.create(n)),new xt(t,n)}})}),s(dn,!0,!0,{upto:function(e,t,n){return dn.range(this,e).every(n,t)},clamp:function(e,t){return new xt(e,t).clamp(this)},cap:function(e){return this.clamp(rn,e)}}),s(dn,!0,!0,{downto:dn.prototype.upto}),s(on,!1,function(e){return e instanceof xt},{create:function(e){return e.every()}}),s(Function,!0,!0,{lazy:function(e,t,n){function a(){return u.length<n-(c&&t?1:0)&&u.push([this,arguments]),c||(c=!0,t?i():Nt(a,r,i)),o}var i,r,s,o,l=this,u=[],c=!1;return e=e||1,n=n||1/0,r=Mn(e),s=Ln(r/e)||1,i=function(){var e,t=u.length;if(0!=t){for(e=Fn(t-s,0);t>e;)o=Function.prototype.apply.apply(l,u.shift()),t--;Nt(a,r,function(){c=!1,i()})}},a},throttle:function(e){return this.lazy(e,!0,1)},debounce:function(e){function t(){t.cancel(),Nt(t,e,n,this,arguments)}var n=this;return t},delay:function(e){var t=this,n=d(arguments,null,1);return Nt(t,e,t,t,n),t},every:function(e){function t(){n.apply(n,a),Nt(n,e,t)}var n=this,a=arguments;return a=a.length>1?d(a,null,1):[],Nt(n,e,t),n},cancel:function(){var e,t=this.timers;if(Tn(t))for(;e=t.shift();)clearTimeout(e);return this._canceled=!0,this},after:function(e){var t=this,n=0,a=[];if(kn(e)){if(0===e)return t.call(),t}else e=1;return function(){var i;return a.push(d(arguments)),n++,n==e?(i=t.call(this,a),n=0,a=[],i):void 0}},once:function(){return this.throttle(1/0,!0)},fill:function(){var e=this,t=d(arguments);return function(){var n=d(arguments);return t.forEach(function(e,t){(null!=e||t>=n.length)&&n.splice(t,0,e)}),e.apply(this,n)}}}),s(dn,!1,!0,{random:function(e,t){var n,a;return 1==arguments.length&&(t=e,e=0),n=Dn(e||0,m(t)?1:t),a=Fn(e||0,m(t)?1:t)+1,An(pn.random()*(a-n)+n)}}),s(dn,!0,!0,{log:function(e){return pn.log(this)/(e?pn.log(e):1)},abbr:function(e){return Ot(this,e,"kmbt",0,4)},metric:function(e,t){return Ot(this,e,"nm kMGTPE",4,m(t)?1:t)},bytes:function(e,t){return Ot(this,e,"kMGTPE",0,m(t)?4:t,!0)+"B"},isInteger:function(){return this%1==0},isOdd:function(){return!isNaN(this)&&!this.isMultipleOf(2)},isEven:function(){return this.isMultipleOf(2)},isMultipleOf:function(e){return this%e===0},format:function(e,t,n){var a,i,r,s,o,l="";for(m(t)&&(t=","),m(n)&&(n="."),i=(kn(e)?P(this,e||0).toFixed(Fn(e,0)):this.toString()).replace(/^-/,""),r=i.split("."),s=r[0],o=r[1],a=s.length;a>0;a-=3)a<s.length&&(l=t+l),l=s.slice(Fn(0,a-3),a)+l;return o&&(l+=n+M("0",(e||0)-o.length)+o),(0>this?"-":"")+l},hex:function(e){return this.pad(e||1,!1,16)},times:function(e){if(e)for(var t=0;this>t;t++)e.call(this,t);return this.toNumber()},chr:function(){return cn.fromCharCode(this)},pad:function(e,t,n){return L(this,e,t,n)},ordinalize:function(){var e=Nn(this),t=parseInt(e.toString().slice(-2));return this+D(t)},toNumber:function(){return parseFloat(this,10)}}),Mt();var ba="isObject,isNaN".split(","),wa="keys,values,select,reject,each,merge,clone,equal,watch,tap,has,toQueryString".split(",");s(sn,!1,!0,{watch:function(e,t,n){if(gn){var a=e[t];sn.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return a},set:function(i){a=n.call(e,t,a,i)}})}}}),s(sn,!1,function(){return arguments.length>1},{keys:function(e,t){var n=sn.keys(e);return n.forEach(function(n){t.call(e,n,e[n])}),n}}),s(sn,!1,!0,{isObject:function(e){return w(e)},isNaN:function(e){return kn(e)&&e.valueOf()!==e.valueOf()},equal:function(e,t){return H(e,t)},extended:function(e){return new S(e)},merge:function(e,t,n,a){var i,r,s,o,l,u,c;if(e&&"string"!=typeof t)for(i in t)if(v(t,i)&&e){if(o=t[i],l=e[i],u=f(l),r=y(o),s=y(l),c=u&&a===!1?l:o,u&&jn(a)&&(c=a.call(t,i,l,o)),n&&(r||s))if(Sn(o))c=new un(o.getTime());else{if(!Pn(o)){s||(e[i]=on.isArray(o)?[]:{}),sn.merge(e[i],o,n,a);continue}c=new ln(o.source,F(o))}e[i]=c}return e},values:function(e,t){var n=[];return x(e,function(a,i){n.push(i),t&&t.call(e,i)}),n},clone:function(e,t){var n,i;if(!y(e))return e;if(i=a(e),Sn(e,i)&&e.clone)return e.clone();if(Sn(e,i)||Pn(e,i))return new e.constructor(e);if(e instanceof S)n=new S;else if(Tn(e,i))n=[];else{if(!w(e,i))throw new TypeError("Clone must be a basic data type.");n={}}return sn.merge(n,e,t)},fromQueryString:function(e,t){var n=sn.extended();return e=e&&e.toString?e.toString():"",e.replace(/^.*?\?/,"").split("&").forEach(function(e){var a=e.split("=");2===a.length&&At(n,a[0],decodeURIComponent(a[1]),t)}),n},toQueryString:function(e,t){return Lt(t,e)},tap:function(e,t){var n=t;return jn(t)||(n=function(){t&&e[t]()}),n.call(e,e),e},has:function(e,t){return v(e,t)},select:function(e){return Rt(e,arguments,!0)},reject:function(e){return Rt(e,arguments,!1)}}),qt(),Bt(),U(wa,S),s(ln,!1,!0,{escape:function(e){return R(e)}}),s(ln,!0,!0,{getFlags:function(){return F(this)},setFlags:function(e){return ln(this.source,e)},addFlag:function(e){return this.setFlags(F(this,e))},removeFlag:function(e){return this.setFlags(F(this).replace(e,""))}});var xa,Ca;s(cn,!0,!1,{repeat:function(e){return e=Ht(e),M(this,e)}}),s(cn,!0,function(e){return Pn(e)||arguments.length>2},{startsWith:function(e){var t,n=arguments,a=n[1],i=n[2],r=this;return a&&(r=r.slice(a)),m(i)&&(i=!0),t=Pn(e)?e.source.replace("^",""):R(e),ln("^"+t,i?"":"i").test(r)},endsWith:function(e){var t,n=arguments,a=n[1],i=n[2],r=this;return f(a)&&(r=r.slice(0,a)),m(i)&&(i=!0),t=Pn(e)?e.source.replace("$",""):R(e),ln(t+"$",i?"":"i").test(r)}}),s(cn,!0,!0,{escapeRegExp:function(){return R(this)},escapeURL:function(e){return e?encodeURIComponent(this):encodeURI(this)},unescapeURL:function(e){return e?decodeURI(this):decodeURIComponent(this)},escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2f;")},unescapeHTML:function(){return this.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&#x2f;/g,"/").replace(/&amp;/g,"&")},encodeBase64:function(){return xa(unescape(encodeURIComponent(this)))},decodeBase64:function(){return decodeURIComponent(escape(Ca(this)))},each:function(e,t){var n,a,i;if(jn(e)?(t=e,e=/[\s\S]/g):e?_n(e)?e=ln(R(e),"gi"):Pn(e)&&(e=ln(e.source,F(e,"g"))):e=/[\s\S]/g,n=this.match(e)||[],t)for(a=0,i=n.length;i>a;a++)n[a]=t.call(this,n[a],a,n)||n[a];return n},shift:function(e){var t="";return e=e||0,this.codes(function(n){t+=N(n+e)}),t},codes:function(e){var t,n,a=[];for(t=0,n=this.length;n>t;t++){var i=this.charCodeAt(t);a.push(i),e&&e.call(this,i,t)}return a},chars:function(e){return this.each(e)},words:function(e){return this.trim().each(/\S+/g,e)},lines:function(e){return this.trim().each(/^.*$/gm,e)},paragraphs:function(e){var t=this.trim().split(/[\r\n]{2,}/);return t=t.map(function(t){if(e)var n=e.call(t);return n?n:t})},isBlank:function(){return 0===this.trim().length},has:function(e){return-1!==this.search(Pn(e)?e:R(e))},add:function(e,t){return t=m(t)?this.length:t,this.slice(0,t)+e+this.slice(t)},remove:function(e){return this.replace(e,"")},reverse:function(){return this.split("").reverse().join("")},compact:function(){return this.trim().replace(/([\r\n\s])+/g,function(e,t){return""===t?t:" "})},at:function(){return $(this,arguments,!0)},from:function(e){return this.slice(Ut(this,e,!0))},to:function(e){return m(e)&&(e=this.length),this.slice(0,Ut(this,e))},dasherize:function(){return this.underscore().replace(/_/g,"-")},underscore:function(){return this.replace(/[-\s]+/g,"_").replace(cn.Inflector&&cn.Inflector.acronymRegExp,function(e,t){return(t>0?"_":"")+e.toLowerCase()}).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase()},camelize:function(e){return this.underscore().replace(/(^|_)([^_]+)/g,function(t,n,a,i){var r=It(a),s=e!==!1||i>0;return r?s?r:r.toLowerCase():s?a.capitalize():a})},spacify:function(){return this.underscore().replace(/_/g," ")},stripTags:function(){var e=this,t=arguments.length>0?arguments:[""];return p(t,function(t){e=e.replace(ln("</?"+R(t)+"[^<>]*>","gi"),"")}),e},removeTags:function(){var e=this,t=arguments.length>0?arguments:["\\S+"];return p(t,function(t){var n=ln("<("+t+")[^<>]*(?:\\/>|>.*?<\\/\\1>)","gi");e=e.replace(n,"")}),e},truncate:function(e,t,n){return $t(this,e,t,n)},truncateOnWord:function(e,t,n){return $t(this,e,t,n,!0)},pad:function(e,t){var n,a,i;return e=Ht(e),n=Fn(0,e-this.length)/2,a=An(n),i=Mn(n),zt(a,t)+this+zt(i,t)},padLeft:function(e,t){return e=Ht(e),zt(Fn(0,e-this.length),t)+this},padRight:function(e,t){return e=Ht(e),this+zt(Fn(0,e-this.length),t)},first:function(e){return m(e)&&(e=1),this.substr(0,e)},last:function(e){m(e)&&(e=1);var t=this.length-e<0?0:this.length-e;return this.substr(t)},toNumber:function(e){return A(this,e)},capitalize:function(e){var t;return this.toLowerCase().replace(e?/[^']/g:/^\S/,function(e){var n,a=e.toUpperCase();return n=t?e:a,t=a!==e,n})},assign:function(){var e={};return p(arguments,function(t,n){y(t)?k(e,t):e[n+1]=t}),this.replace(/\{([^{]+?)\}/g,function(t,n){return v(e,n)?e[n]:t})}}),s(cn,!0,!0,{insert:cn.prototype.add}),Wt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");var ka,_a,Ta=[],Sa=[],Pa=[],ja=[],Ea={};_a={acronym:function(e){Ea[e.toLowerCase()]=e;var t=sn.keys(Ea).map(function(e){return Ea[e]});_a.acronymRegExp=ln(t.join("|"),"g")},plural:function(e,t){Gt(Ta,e,t)},singular:function(e,t){Gt(Sa,e,t)},irregular:function(e,t){var n=e.first(),a=e.from(1),i=t.first(),r=t.from(1),s=i.toUpperCase(),o=i.toLowerCase(),l=n.toUpperCase(),u=n.toLowerCase();Xt(Pa,e),Xt(Pa,t),l==s?(_a.plural(new ln("({1}){2}$".assign(n,a),"i"),"$1"+r),_a.plural(new ln("({1}){2}$".assign(i,r),"i"),"$1"+r),_a.singular(new ln("({1}){2}$".assign(i,r),"i"),"$1"+a)):(_a.plural(new ln("{1}{2}$".assign(l,a)),s+r),_a.plural(new ln("{1}{2}$".assign(u,a)),o+r),_a.plural(new ln("{1}{2}$".assign(s,r)),s+r),_a.plural(new ln("{1}{2}$".assign(o,r)),o+r),_a.singular(new ln("{1}{2}$".assign(s,r)),l+a),_a.singular(new ln("{1}{2}$".assign(o,r)),u+a))},uncountable:function(e){var t=on.isArray(e)?e:d(arguments);Pa=Pa.concat(t)},human:function(e,t){ja.unshift({rule:e,replacement:t})},clear:function(e){Yt(e,"singulars")&&(Sa=[]),Yt(e,"plurals")&&(Ta=[]),Yt(e,"uncountables")&&(Pa=[]),Yt(e,"humans")&&(ja=[]),Yt(e,"acronyms")&&(Ea={})}},ka=["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"],_a.plural(/$/,"s"),_a.plural(/s$/gi,"s"),_a.plural(/(ax|test)is$/gi,"$1es"),_a.plural(/(octop|vir|fung|foc|radi|alumn)(i|us)$/gi,"$1i"),_a.plural(/(census|alias|status)$/gi,"$1es"),_a.plural(/(bu)s$/gi,"$1ses"),_a.plural(/(buffal|tomat)o$/gi,"$1oes"),_a.plural(/([ti])um$/gi,"$1a"),_a.plural(/([ti])a$/gi,"$1a"),_a.plural(/sis$/gi,"ses"),_a.plural(/f+e?$/gi,"ves"),_a.plural(/(cuff|roof)$/gi,"$1s"),_a.plural(/([ht]ive)$/gi,"$1s"),_a.plural(/([^aeiouy]o)$/gi,"$1es"),_a.plural(/([^aeiouy]|qu)y$/gi,"$1ies"),_a.plural(/(x|ch|ss|sh)$/gi,"$1es"),_a.plural(/(matr|vert|ind)(?:ix|ex)$/gi,"$1ices"),_a.plural(/([ml])ouse$/gi,"$1ice"),_a.plural(/([ml])ice$/gi,"$1ice"),_a.plural(/^(ox)$/gi,"$1en"),_a.plural(/^(oxen)$/gi,"$1"),_a.plural(/(quiz)$/gi,"$1zes"),_a.plural(/(phot|cant|hom|zer|pian|portic|pr|quart|kimon)o$/gi,"$1os"),_a.plural(/(craft)$/gi,"$1"),_a.plural(/([ft])[eo]{2}(th?)$/gi,"$1ee$2"),_a.singular(/s$/gi,""),_a.singular(/([pst][aiu]s)$/gi,"$1"),_a.singular(/([aeiouy])ss$/gi,"$1ss"),_a.singular(/(n)ews$/gi,"$1ews"),_a.singular(/([ti])a$/gi,"$1um"),_a.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/gi,"$1$2sis"),_a.singular(/(^analy)ses$/gi,"$1sis"),_a.singular(/(i)(f|ves)$/i,"$1fe"),_a.singular(/([aeolr]f?)(f|ves)$/i,"$1f"),_a.singular(/([ht]ive)s$/gi,"$1"),_a.singular(/([^aeiouy]|qu)ies$/gi,"$1y"),_a.singular(/(s)eries$/gi,"$1eries"),_a.singular(/(m)ovies$/gi,"$1ovie"),_a.singular(/(x|ch|ss|sh)es$/gi,"$1"),_a.singular(/([ml])(ous|ic)e$/gi,"$1ouse"),_a.singular(/(bus)(es)?$/gi,"$1"),_a.singular(/(o)es$/gi,"$1"),_a.singular(/(shoe)s?$/gi,"$1"),_a.singular(/(cris|ax|test)[ie]s$/gi,"$1is"),_a.singular(/(octop|vir|fung|foc|radi|alumn)(i|us)$/gi,"$1us"),_a.singular(/(census|alias|status)(es)?$/gi,"$1"),_a.singular(/^(ox)(en)?/gi,"$1"),_a.singular(/(vert|ind)(ex|ices)$/gi,"$1ex"),_a.singular(/(matr)(ix|ices)$/gi,"$1ix"),_a.singular(/(quiz)(zes)?$/gi,"$1"),_a.singular(/(database)s?$/gi,"$1"),_a.singular(/ee(th?)$/gi,"oo$1"),_a.irregular("person","people"),_a.irregular("man","men"),_a.irregular("child","children"),_a.irregular("sex","sexes"),_a.irregular("move","moves"),_a.irregular("save","saves"),_a.irregular("cow","kine"),_a.irregular("goose","geese"),_a.irregular("zombie","zombies"),_a.uncountable("equipment,information,rice,money,species,series,fish,sheep,jeans".split(",")),s(cn,!0,!0,{pluralize:function(){return Qt(this,!0)},singularize:function(){return Qt(this,!1)},humanize:function(){var e,t=Zt(this,ja);return t=t.replace(/_id$/g,""),t=t.replace(/(_)?([a-z\d]*)/gi,function(t,n,a){return e=v(Ea,a)?Ea[a]:null,(n?" ":"")+(e||a.toLowerCase())}),Kt(t)},titleize:function(){var e,t,n,a=/[.:;!]$/;return this.spacify().humanize().words(function(i,r,s){return e=a.test(i),n=0==r||r==s.length-1||e||t,t=e,n||-1===ka.indexOf(i)?Kt(i):i}).join(" ")},parameterize:function(e){var t=this;return void 0===e&&(e="-"),t.normalize&&(t=t.normalize()),t=t.replace(/[^a-z0-9\-_]+/gi,e),e&&(t=t.replace(new ln("^{sep}+|{sep}+$|({sep}){sep}+".assign({sep:R(e)}),"g"),"$1")),encodeURI(t.toLowerCase())}}),cn.Inflector=_a,cn.Inflector.acronyms=Ea;var Na,Oa=[{names:["Arabic"],source:"-"},{names:["Cyrillic"],source:"-"},{names:["Devanagari"],source:"-"},{names:["Greek"],source:"-"},{names:["Hangul"],source:"--"},{names:["Han","Kanji"],source:"--"},{names:["Hebrew"],source:"-"},{names:["Hiragana"],source:"--"},{names:["Kana"],source:"--"},{names:["Katakana"],source:"--"},{names:["Latin"],source:"----"},{names:["Thai"],source:"-"}],Ma=65248,Aa=[{type:"a",start:65,end:90},{type:"a",start:97,end:122},{type:"n",start:48,end:57},{type:"p",start:33,end:47},{type:"p",start:58,end:64},{type:"p",start:91,end:96},{type:"p",start:123,end:126}],La=/[\u0020-\u00A5]|[\uFF61-\uFF9F][]?/g,Da=/[\u3000-\u301C]|[\u301A-\u30FC]|[\uFF01-\uFF60]|[\uFFE0-\uFFE6]/g,Fa="",Ra="",qa=/[]/,Ba=/[]/,Ia="",Ha="";s(cn,!0,!0,{hankaku:function(){return tn(this,arguments,Da,"hankaku")},zenkaku:function(){return tn(this,arguments,La,"zenkaku")},hiragana:function(e){var t=this;return e!==!1&&(t=t.zenkaku("k")),t.replace(/[\u30A1-\u30F6]/g,function(e){return e.shift(-96)})},katakana:function(){return this.replace(/[\u3041-\u3096]/g,function(e){return e.shift(96)})}}),en(),Date.addLocale("da",{plural:!0,months:"januar,februar,marts,april,maj,juni,juli,august,september,oktober,november,december",weekdays:"sndag|sondag,mandag,tirsdag,onsdag,torsdag,fredag,lrdag|lordag",units:"millisekund:|er,sekund:|er,minut:|ter,tim:e|er,dag:|e,ug:e|er|en,mned:|er|en+maaned:|er|en,r:||et+aar:||et",numbers:"en|et,to,tre,fire,fem,seks,syv,otte,ni,ti",tokens:"den,for",articles:"den","short":"d. {d}. {month} {yyyy}","long":"den {d}. {month} {yyyy} {H}:{mm}",
full:"{Weekday} den {d}. {month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",ampm:"am,pm",modifiers:[{name:"day",src:"forgrs|i forgrs|forgaars|i forgaars",value:-2},{name:"day",src:"i gr|igr|i gaar|igaar",value:-1},{name:"day",src:"i dag|idag",value:0},{name:"day",src:"i morgen|imorgen",value:1},{name:"day",src:"over morgon|overmorgen|i over morgen|i overmorgen|iovermorgen",value:2},{name:"sign",src:"siden",value:-1},{name:"sign",src:"om",value:1},{name:"shift",src:"i sidste|sidste",value:-1},{name:"shift",src:"denne",value:0},{name:"shift",src:"nste|naeste",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{1?} {num} {unit} {sign}","{shift} {unit=5-7}"],timeParse:["{0?} {weekday?} {date?} {month} {year}","{date} {month}","{shift} {weekday}"]}),Date.addLocale("de",{plural:!0,capitalizeUnit:!0,months:"Januar,Februar,Mrz|Marz,April,Mai,Juni,Juli,August,September,Oktober,November,Dezember",weekdays:"Sonntag,Montag,Dienstag,Mittwoch,Donnerstag,Freitag,Samstag",units:"Millisekunde:|n,Sekunde:|n,Minute:|n,Stunde:|n,Tag:|en,Woche:|n,Monat:|en,Jahr:|en",numbers:"ein:|e|er|en|em,zwei,drei,vier,fuenf,sechs,sieben,acht,neun,zehn",tokens:"der","short":"{d}. {Month} {yyyy}","long":"{d}. {Month} {yyyy} {H}:{mm}",full:"{Weekday} {d}. {Month} {yyyy} {H}:{mm}:{ss}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"um",ampm:"am,pm",modifiers:[{name:"day",src:"vorgestern",value:-2},{name:"day",src:"gestern",value:-1},{name:"day",src:"heute",value:0},{name:"day",src:"morgen",value:1},{name:"day",src:"bermorgen|ubermorgen|uebermorgen",value:2},{name:"sign",src:"vor:|her",value:-1},{name:"sign",src:"in",value:1},{name:"shift",src:"letzte:|r|n|s",value:-1},{name:"shift",src:"nchste:|r|n|s+nachste:|r|n|s+naechste:|r|n|s+kommende:n|r",value:1}],dateParse:["{sign} {num} {unit}","{num} {unit} {sign}","{shift} {unit=5-7}"],timeParse:["{weekday?} {date?} {month} {year?}","{shift} {weekday}"]}),Date.addLocale("es",{plural:!0,months:"enero,febrero,marzo,abril,mayo,junio,julio,agosto,septiembre,octubre,noviembre,diciembre",weekdays:"domingo,lunes,martes,mircoles|miercoles,jueves,viernes,sbado|sabado",units:"milisegundo:|s,segundo:|s,minuto:|s,hora:|s,da|das|dia|dias,semana:|s,mes:|es,ao|aos|ano|anos",numbers:"uno,dos,tres,cuatro,cinco,seis,siete,ocho,nueve,diez",tokens:"el,la,de","short":"{d} {month} {yyyy}","long":"{d} {month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {month} {yyyy} {H}:{mm}:{ss}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"a las",ampm:"am,pm",modifiers:[{name:"day",src:"anteayer",value:-2},{name:"day",src:"ayer",value:-1},{name:"day",src:"hoy",value:0},{name:"day",src:"maana|manana",value:1},{name:"sign",src:"hace",value:-1},{name:"sign",src:"dentro de",value:1},{name:"shift",src:"pasad:o|a",value:-1},{name:"shift",src:"prximo|prxima|proximo|proxima",value:1}],dateParse:["{sign} {num} {unit}","{num} {unit} {sign}","{0?}{1?} {unit=5-7} {shift}","{0?}{1?} {shift} {unit=5-7}"],timeParse:["{shift} {weekday}","{weekday} {shift}","{date?} {2?} {month} {2?} {year?}"]}),Date.addLocale("fi",{plural:!0,timeMarker:"kello",ampm:",",months:"tammikuu,helmikuu,maaliskuu,huhtikuu,toukokuu,keskuu,heinkuu,elokuu,syyskuu,lokakuu,marraskuu,joulukuu",weekdays:"sunnuntai,maanantai,tiistai,keskiviikko,torstai,perjantai,lauantai",units:"millisekun:ti|tia|teja|tina|nin,sekun:ti|tia|teja|tina|nin,minuut:ti|tia|teja|tina|in,tun:ti|tia|teja|tina|nin,piv:||i|n|n,viik:ko|koa|koja|on|kona,kuukau:si|sia|tta|den|tena,vuo:si|sia|tta|den|tena",numbers:"yksi|ensimminen,kaksi|toinen,kolm:e|as,nelj:s,vii:si|des,kuu:si|des,seitsem:n|s,kahdeksa:n|s,yhdeks:n|s,kymmene:n|s",articles:"",optionals:"","short":"{d}. {month}ta {yyyy}","long":"{d}. {month}ta {yyyy} kello {H}.{mm}",full:"{Weekday}na {d}. {month}ta {yyyy} kello {H}.{mm}",relative:function(e,t,n,a){function i(n){return(1===e?"":e+" ")+r[8*n+t]}var r=this.units;switch(a){case"duration":return i(0);case"past":return i(e>1?1:0)+" sitten";case"future":return i(4)+" pst"}},modifiers:[{name:"day",src:"toissa pivn|toissa pivist",value:-2},{name:"day",src:"eilen|eilist",value:-1},{name:"day",src:"tnn",value:0},{name:"day",src:"huomenna|huomista",value:1},{name:"day",src:"ylihuomenna|ylihuomista",value:2},{name:"sign",src:"sitten|aiemmin",value:-1},{name:"sign",src:"pst|kuluttua|myhemmin",value:1},{name:"edge",src:"viimeinen|viimeisen",value:-2},{name:"edge",src:"lopussa",value:-1},{name:"edge",src:"ensimminen|ensimmisen",value:1},{name:"shift",src:"edellinen|edellisen|edeltv|edeltvn|viime|toissa",value:-1},{name:"shift",src:"tn|tmn",value:0},{name:"shift",src:"seuraava|seuraavana|tuleva|tulevana|ensi",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{num} {unit=4-5} {sign} {day}","{month} {year}","{shift} {unit=5-7}"],timeParse:["{0} {num}{1} {day} of {month} {year?}","{weekday?} {month} {date}{1} {year?}","{date} {month} {year}","{shift} {weekday}","{shift} week {weekday}","{weekday} {2} {shift} week","{0} {date}{1} of {month}","{0}{month?} {date?}{1} of {shift} {unit=6-7}"]}),Date.addLocale("fr",{plural:!0,months:"janvier,fvrier|fevrier,mars,avril,mai,juin,juillet,aot,septembre,octobre,novembre,dcembre|decembre",weekdays:"dimanche,lundi,mardi,mercredi,jeudi,vendredi,samedi",units:"milliseconde:|s,seconde:|s,minute:|s,heure:|s,jour:|s,semaine:|s,mois,an:|s|ne|nee",numbers:"un:|e,deux,trois,quatre,cinq,six,sept,huit,neuf,dix",tokens:"l'|la|le","short":"{d} {month} {yyyy}","long":"{d} {month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {month} {yyyy} {H}:{mm}:{ss}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"",ampm:"am,pm",modifiers:[{name:"day",src:"hier",value:-1},{name:"day",src:"aujourd'hui",value:0},{name:"day",src:"demain",value:1},{name:"sign",src:"il y a",value:-1},{name:"sign",src:"dans|d'ici",value:1},{name:"shift",src:"derni:r|er|re|ere",value:-1},{name:"shift",src:"prochain:|e",value:1}],dateParse:["{sign} {num} {unit}","{sign} {num} {unit}","{0?} {unit=5-7} {shift}"],timeParse:["{weekday?} {0?} {date?} {month} {year?}","{0?} {weekday} {shift}"]}),Date.addLocale("it",{plural:!0,months:"Gennaio,Febbraio,Marzo,Aprile,Maggio,Giugno,Luglio,Agosto,Settembre,Ottobre,Novembre,Dicembre",weekdays:"Domenica,Luned:|i,Marted:|i,Mercoled:|i,Gioved:|i,Venerd:|i,Sabato",units:"millisecond:o|i,second:o|i,minut:o|i,or:a|e,giorn:o|i,settiman:a|e,mes:e|i,ann:o|i",numbers:"un:|a|o|',due,tre,quattro,cinque,sei,sette,otto,nove,dieci",tokens:"l'|la|il","short":"{d} {Month} {yyyy}","long":"{d} {Month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {Month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",timeMarker:"alle",ampm:"am,pm",modifiers:[{name:"day",src:"ieri",value:-1},{name:"day",src:"oggi",value:0},{name:"day",src:"domani",value:1},{name:"day",src:"dopodomani",value:2},{name:"sign",src:"fa",value:-1},{name:"sign",src:"da adesso",value:1},{name:"shift",src:"scors:o|a",value:-1},{name:"shift",src:"prossim:o|a",value:1}],dateParse:["{num} {unit} {sign}","{0?} {unit=5-7} {shift}","{0?} {shift} {unit=5-7}"],timeParse:["{weekday?} {date?} {month} {year?}","{shift} {weekday}"]}),Date.addLocale("ja",{monthSuffix:"",weekdays:",,,,,,",units:",,,,,|,||,","short":"{yyyy}{M}{d}","long":"{yyyy}{M}{d} {H}{mm}",full:"{yyyy}{M}{d} {Weekday} {H}{mm}{ss}",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",timeSuffixes:",,",ampm:",",modifiers:[{name:"day",src:"",value:-2},{name:"day",src:"",value:-1},{name:"day",src:"",value:0},{name:"day",src:"",value:1},{name:"day",src:"",value:2},{name:"sign",src:"",value:-1},{name:"sign",src:"",value:1},{name:"shift",src:"|",value:-1},{name:"shift",src:"",value:1}],dateParse:["{num}{unit}{sign}"],timeParse:["{shift}{unit=5-7}{weekday?}","{year}{month?}?{date?}?","{month}{date?}?","{date}"]}),Date.addLocale("ko",{digitDate:!0,monthSuffix:"",weekdays:",,,,,,",units:",,,,,,|,",numbers:"|,,,,,,,,,","short":"{yyyy}{M}{d}","long":"{yyyy}{M}{d} {H}{mm}",full:"{yyyy}{M}{d} {Weekday} {H}{mm}{ss}",past:"{num}{unit} {sign}",future:"{num}{unit} {sign}",duration:"{num}{unit}",timeSuffixes:",,",ampm:",",modifiers:[{name:"day",src:"",value:-2},{name:"day",src:"",value:-1},{name:"day",src:"",value:0},{name:"day",src:"",value:1},{name:"day",src:"",value:2},{name:"sign",src:"",value:-1},{name:"sign",src:"",value:1},{name:"shift",src:"|",value:-1},{name:"shift",src:"",value:0},{name:"shift",src:"|",value:1}],dateParse:["{num}{unit} {sign}","{shift?} {unit=5-7}"],timeParse:["{shift} {unit=5?} {weekday}","{year}{month?}?{date?}?","{month}{date?}?","{date}"]}),Date.addLocale("nl",{plural:!0,months:"januari,februari,maart,april,mei,juni,juli,augustus,september,oktober,november,december",weekdays:"zondag|zo,maandag|ma,dinsdag|di,woensdag|woe|wo,donderdag|do,vrijdag|vrij|vr,zaterdag|za",units:"milliseconde:|n,seconde:|n,minu:ut|ten,uur,dag:|en,we:ek|ken,maand:|en,jaar",numbers:"een,twee,drie,vier,vijf,zes,zeven,acht,negen",tokens:"","short":"{d} {Month} {yyyy}","long":"{d} {Month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {Month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",timeMarker:"'s|om",modifiers:[{name:"day",src:"gisteren",value:-1},{name:"day",src:"vandaag",value:0},{name:"day",src:"morgen",value:1},{name:"day",src:"overmorgen",value:2},{name:"sign",src:"geleden",value:-1},{name:"sign",src:"vanaf nu",value:1},{name:"shift",src:"laatste|vorige|afgelopen",value:-1},{name:"shift",src:"volgend:|e",value:1}],dateParse:["{num} {unit} {sign}","{0?} {unit=5-7} {shift}","{0?} {shift} {unit=5-7}"],timeParse:["{weekday?} {date?} {month} {year?}","{shift} {weekday}"]}),Date.addLocale("pl",{plural:!0,months:"Stycze|Stycznia,Luty|Lutego,Marzec|Marca,Kwiecie|Kwietnia,Maj|Maja,Czerwiec|Czerwca,Lipiec|Lipca,Sierpie|Sierpnia,Wrzesie|Wrzenia,Padziernik|Padziernika,Listopad|Listopada,Grudzie|Grudnia",weekdays:"Niedziela|Niedziel,Poniedziaek,Wtorek,rod:a|,Czwartek,Pitek,Sobota|Sobot",units:"milisekund:a|y|,sekund:a|y|,minut:a|y|,godzin:a|y|,dzie|dni,tydzie|tygodnie|tygodni,miesice|miesice|miesicy,rok|lata|lat",numbers:"jeden|jedn,dwa|dwie,trzy,cztery,pi,sze,siedem,osiem,dziewi,dziesi",optionals:"w|we,roku","short":"{d} {Month} {yyyy}","long":"{d} {Month} {yyyy} {H}:{mm}",full:"{Weekday}, {d} {Month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"o",ampm:"am,pm",modifiers:[{name:"day",src:"przedwczoraj",value:-2},{name:"day",src:"wczoraj",value:-1},{name:"day",src:"dzisiaj|dzi",value:0},{name:"day",src:"jutro",value:1},{name:"day",src:"pojutrze",value:2},{name:"sign",src:"temu|przed",value:-1},{name:"sign",src:"za",value:1},{name:"shift",src:"zeszy|zesza|ostatni|ostatnia",value:-1},{name:"shift",src:"nastpny|nastpna|nastpnego|przyszy|przysza|przyszego",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{month} {year}","{shift} {unit=5-7}","{0} {shift?} {weekday}"],timeParse:["{date} {month} {year?} {1}","{0} {shift?} {weekday}"]}),Date.addLocale("pt",{plural:!0,months:"janeiro,fevereiro,maro,abril,maio,junho,julho,agosto,setembro,outubro,novembro,dezembro",weekdays:"domingo,segunda-feira,tera-feira,quarta-feira,quinta-feira,sexta-feira,sbado|sabado",units:"milisegundo:|s,segundo:|s,minuto:|s,hora:|s,dia:|s,semana:|s,ms|mses|mes|meses,ano:|s",numbers:"um,dois,trs|tres,quatro,cinco,seis,sete,oito,nove,dez,uma,duas",tokens:"a,de","short":"{d} de {month} de {yyyy}","long":"{d} de {month} de {yyyy} {H}:{mm}",full:"{Weekday}, {d} de {month} de {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"s",ampm:"am,pm",modifiers:[{name:"day",src:"anteontem",value:-2},{name:"day",src:"ontem",value:-1},{name:"day",src:"hoje",value:0},{name:"day",src:"amanh:|a",value:1},{name:"sign",src:"atrs|atras|h|ha",value:-1},{name:"sign",src:"daqui a",value:1},{name:"shift",src:"passad:o|a",value:-1},{name:"shift",src:"prximo|prxima|proximo|proxima",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{0?} {unit=5-7} {shift}","{0?} {shift} {unit=5-7}"],timeParse:["{date?} {1?} {month} {1?} {year?}","{0?} {shift} {weekday}"]}),Date.addLocale("ru",{months:":|,:|,:|,:|,:|,:|,:|,:|,:|,:|,:|,:|",weekdays:",,,,,,",units:":|||,:|||,:|||,:|||,|||,:||||,:||||,||||",numbers:":|,:|,,,,,,,,",tokens:"|,","short":"{d} {month} {yyyy} ","long":"{d} {month} {yyyy}  {H}:{mm}",full:"{Weekday} {d} {month} {yyyy}  {H}:{mm}:{ss}",relative:function(e,t,n,a){var i,r,s=e.toString().slice(-1);switch(!0){case e>=11&&15>=e:r=3;break;case 1==s:r=1;break;case s>=2&&4>=s:r=2;break;default:r=3}switch(i=e+" "+this.units[8*r+t],a){case"duration":return i;case"past":return i+" ";case"future":return" "+i}},timeMarker:"",ampm:" , ",modifiers:[{name:"day",src:"",value:-2},{name:"day",src:"",value:-1},{name:"day",src:"",value:0},{name:"day",src:"",value:1},{name:"day",src:"",value:2},{name:"sign",src:"",value:-1},{name:"sign",src:"",value:1},{name:"shift",src:":||",value:-1},{name:"shift",src:":||",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{month} {year}","{0?} {shift} {unit=5-7}"],timeParse:["{date} {month} {year?} {1?}","{0?} {shift} {weekday}"]}),Date.addLocale("sv",{plural:!0,months:"januari,februari,mars,april,maj,juni,juli,augusti,september,oktober,november,december",weekdays:"sndag|sondag,mndag:|en+mandag:|en,tisdag,onsdag,torsdag,fredag,lrdag|lordag",units:"millisekund:|er,sekund:|er,minut:|er,timm:e|ar,dag:|ar,veck:a|or|an,mnad:|er|en+manad:|er|en,r:||et+ar:||et",numbers:"en|ett,tv|tva,tre,fyra,fem,sex,sju,tta|atta,nio,tio",tokens:"den,fr|for",articles:"den","short":"den {d} {month} {yyyy}","long":"den {d} {month} {yyyy} {H}:{mm}",full:"{Weekday} den {d} {month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",ampm:"am,pm",modifiers:[{name:"day",src:"frrgr|i frrgr|ifrrgr|forrgar|i forrgar|iforrgar",value:-2},{name:"day",src:"gr|i gr|igr|gar|i gar|igar",value:-1},{name:"day",src:"dag|i dag|idag",value:0},{name:"day",src:"morgon|i morgon|imorgon",value:1},{name:"day",src:"ver morgon|vermorgon|i ver morgon|i vermorgon|ivermorgon|over morgon|overmorgon|i over morgon|i overmorgon|iovermorgon",value:2},{name:"sign",src:"sedan|sen",value:-1},{name:"sign",src:"om",value:1},{name:"shift",src:"i frra|frra|i forra|forra",value:-1},{name:"shift",src:"denna",value:0},{name:"shift",src:"nsta|nasta",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{1?} {num} {unit} {sign}","{shift} {unit=5-7}"],timeParse:["{0?} {weekday?} {date?} {month} {year}","{date} {month}","{shift} {weekday}"]}),Date.addLocale("zh-CN",{variant:!0,monthSuffix:"",weekdays:"|,|,|,|,|,|,|",units:",,,,,|,,",tokens:"|","short":"{yyyy}{M}{d}","long":"{yyyy}{M}{d} {tt}{h}:{mm}",full:"{yyyy}{M}{d} {weekday} {tt}{h}:{mm}:{ss}",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",timeSuffixes:"|,?,",ampm:",",modifiers:[{name:"day",src:"",value:-2},{name:"day",src:"",value:-1},{name:"day",src:"",value:0},{name:"day",src:"",value:1},{name:"day",src:"",value:2},{name:"sign",src:"",value:-1},{name:"sign",src:"",value:1},{name:"shift",src:"|",value:-1},{name:"shift",src:"",value:0},{name:"shift",src:"|",value:1}],dateParse:["{num}{unit}{sign}","{shift}{unit=5-7}"],timeParse:["{shift}{weekday}","{year}{month?}?{date?}{0?}","{month}{date?}{0?}","{date}[]"]}),Date.addLocale("zh-TW",{monthSuffix:"",weekdays:"|,|,|,|,|,|,|",units:",,,,,|,,",tokens:"|","short":"{yyyy}{M}{d}","long":"{yyyy}{M}{d} {tt}{h}:{mm}",full:"{yyyy}{M}{d} {Weekday} {tt}{h}:{mm}:{ss}",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",timeSuffixes:"|,?,",ampm:",",modifiers:[{name:"day",src:"",value:-2},{name:"day",src:"",value:-1},{name:"day",src:"",value:0},{name:"day",src:"",value:1},{name:"day",src:"",value:2},{name:"sign",src:"",value:-1},{name:"sign",src:"",value:1},{name:"shift",src:"|",value:-1},{name:"shift",src:"",value:0},{name:"shift",src:"|",value:1}],dateParse:["{num}{unit}{sign}","{shift}{unit=5-7}"],timeParse:["{shift}{weekday}","{year}{month?}?{date?}{0?}","{month}{date?}{0?}","{date}[]"]})}.call(this),define("sugar",function(){}),define("mtemplate!canjsfm7-plugin/pagebase.mustache",["can/view/mustache"],function(e){var t='<div class="navbar">\n	\n	<div class="navbar-inner">\n		\n	</div>\n</div>\n<div class="pages">\n    <!-- Page, data-page contains page name-->\n    <div data-page="" class="page">\n		\n    </div>\n</div>\n';return can.mustache(t)}),define("mtemplate!canjsfm7-plugin/pagenavbar.mustache",["can/view/mustache"],function(e){var t='{{#if showBackLink}}\n	<div class="left sliding" style="">\n		<a href="#" class="back link">\n			<span>Back</span></a>\n	</div>\n{{/if}}\n\n<div class="center sliding" style="">{{title}}</div>\n\n<div class="right">\n	<a href="#" class="open-login link icon-only"></a>\n</div>';return can.mustache(t)}),define("mtemplate!canjsfm7-plugin/popupnavbar.mustache",["can/view/mustache"],function(e){var t='\n\n<div class="center sliding" style="">{{title}}</div>\n\n<div class="right">\n	<a href="#" class="link close-popup">Close</a>\n</div>';return can.mustache(t)}),define("canjsfm7-plugin/plugin",["framework7","jquery","mtemplate!canjsfm7-plugin/pagebase.mustache","mtemplate!canjsfm7-plugin/pagenavbar.mustache","mtemplate!canjsfm7-plugin/popupnavbar.mustache"],function(e,t,n,a,i){Framework7.prototype.plugins.canjsPlugin=function(e,r){var s={};return e.openPage=function(e,a){var i={animatePages:!0,showBackLink:!0};a=can.extend(i,a),a.options.showBackLink=a.showBackLink,e.pageConfig=a,e.url="",a.content=n.render(),a.element=t('<div class="page-content"></div>');var r=new a.pageController(a.element,a.options);return r._preRenderPhase().done(function(){e.router.load(a)})},s.pageBeforeInit=function(e){var n=t(e.container),i=e.view.pageConfig;n.append(i.element);var s=n.find(".page-content").control(),o=t(e.navbarInnerContainer);if(s.navbar=o,s.renderNavbar)s.renderNavbar(o);else{var l=i.navbarTemplate||r.navbarTemplate||a;o.html(l(s.options))}s._postRenderPhase(),e.view.pageConfig=null},s.pageBeforeRemove=function(e){var n=t(e.container).find(".page-content"),a=n.control();a.destroy()},e.openPopup=function(t,n){var a=this,s={animatePages:!1,showBackLink:!1,navbarTemplate:r.popupNavbarTemplate||i};n=can.extend(s,n),e.openPage(t,n).done(function(){a.popup(".popup")})},t(".popup").on("closed",function(){t(".popup .navbar").html(""),t(".popup .pages").html("")}),{hooks:s}}}),define("mtemplate!app/pages/storypage/storypage.mustache",["can/view/mustache"],function(e){var t='<div>\n\n<div class="content-block">\n	<h1>{{story.title}}</h1>\n	<div class="description">{{story.description}}</div>\n</div>\n\n\n\n		<div id="jp-container" class="jp-audio" state="{{story.state}}">\n			<div class="jp-type-single">\n				<div class="jp-gui jp-interface">\n					<div class="jp-controls" >\n						<a href="javascript:;" class="jp-play jp-mainbutton" tabindex="1"><span class="ss-icon ss-standard">&#x25B6;</span></a>\n						<a href="javascript:;" class="jp-pause jp-mainbutton" tabindex="1"><span class="ss-icon ss-standard">&#xE8A0;</span></a>\n					</div>\n				</div>\n				\n				\n				\n			</div>\n			\n			{{#if story.progress}}\n			\n			<div class="content-block">\n				<div class="input-slider">\n					<input type="range" min="0" max="100" step="1" can-value="story.progressPercent">\n				</div>	\n			</div>\n			{{/if}}\n			\n		</div>\n\n\n\n\n</div>';return can.mustache(t)}),define("basecontroller",["can","canjs-commons/functions","jquery","can/construct/super"],function(e,t,n){return e.Control.extend({},{init:function(e,t){},render:function(){var e=this;return this._preRenderPhase().done(function(){e._postRenderPhase()})},_preRenderPhase:function(){var a=this,i=(a.element,n.Deferred()),r=a.getData(a.options)||{};return n.when(t.dfdMap(r)).done(function(t){return a.element?(e.extend(a.options,t),a.options=new e.Map(a.options),void n.when(a.preRender(a.options)).done(function(){i.resolve()})):void i.fail()}).fail(function(){i.fail()}),i.promise()},_postRenderPhase:function(){var e=this,t=this.element;t.html(e.template(e.options)),e.postRender(e.options),t.addClass("controller"),t.trigger("rendered")},reRender:function(){return this.render()},getData:function(){return{}},preRender:function(e){},postRender:function(e){},destroy:function(){this.element&&this.element.removeClass("controller"),this._super()}})}),function(e,t){"function"==typeof define&&define.amd?define("jplayer",["jquery"],t):t(e.jQuery?e.jQuery:e.Zepto)}(this,function(e,t){e.fn.jPlayer=function(n){var a="jPlayer",i="string"==typeof n,r=Array.prototype.slice.call(arguments,1),s=this;return n=!i&&r.length?e.extend.apply(null,[!0,n].concat(r)):n,i&&"_"===n.charAt(0)?s:(i?this.each(function(){var i=e(this).data(a),o=i&&e.isFunction(i[n])?i[n].apply(i,r):i;return o!==i&&o!==t?(s=o,!1):void 0}):this.each(function(){var t=e(this).data(a);t?t.option(n||{}):e(this).data(a,new e.jPlayer(n,this))}),s)},e.jPlayer=function(t,n){if(arguments.length){this.element=e(n),this.options=e.extend(!0,{},this.options,t);var a=this;this.element.bind("remove.jPlayer",function(){a.destroy()}),this._init()}},"function"!=typeof e.fn.stop&&(e.fn.stop=function(){}),e.jPlayer.emulateMethods="load play pause",e.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",e.jPlayer.emulateOptions="muted volume",e.jPlayer.reservedEvent="ready flashreset resize repeat error warning",e.jPlayer.event={},e.each(["ready","setmedia","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],function(){e.jPlayer.event[this]="jPlayer_"+this}),e.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough"],e.jPlayer.pause=function(){e.each(e.jPlayer.prototype.instances,function(e,t){t.data("jPlayer").status.srcSet&&t.jPlayer("pause")})},e.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var n=function(){this.init()};n.prototype={init:function(){this.options={timeFormat:e.jPlayer.timeFormat}},time:function(e){e=e&&"number"==typeof e?e:0;var t=new Date(1e3*e),n=t.getUTCHours(),a=this.options.timeFormat.showHour?t.getUTCMinutes():t.getUTCMinutes()+60*n,i=this.options.timeFormat.showMin?t.getUTCSeconds():t.getUTCSeconds()+60*a,r=this.options.timeFormat.padHour&&10>n?"0"+n:n,s=this.options.timeFormat.padMin&&10>a?"0"+a:a,o=this.options.timeFormat.padSec&&10>i?"0"+i:i,l="";return l+=this.options.timeFormat.showHour?r+this.options.timeFormat.sepHour:"",l+=this.options.timeFormat.showMin?s+this.options.timeFormat.sepMin:"",l+=this.options.timeFormat.showSec?o+this.options.timeFormat.sepSec:""}};var a=new n;e.jPlayer.convertTime=function(e){return a.time(e)},e.jPlayer.uaBrowser=function(e){var t=e.toLowerCase(),n=/(webkit)[ \/]([\w.]+)/,a=/(opera)(?:.*version)?[ \/]([\w.]+)/,i=/(msie) ([\w.]+)/,r=/(mozilla)(?:.*? rv:([\w.]+))?/,s=n.exec(t)||a.exec(t)||i.exec(t)||t.indexOf("compatible")<0&&r.exec(t)||[];return{browser:s[1]||"",version:s[2]||"0"}},e.jPlayer.uaPlatform=function(e){var t=e.toLowerCase(),n=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/,a=/(ipad|playbook)/,i=/(android)/,r=/(mobile)/,s=n.exec(t)||[],o=a.exec(t)||!r.exec(t)&&i.exec(t)||[];return s[1]&&(s[1]=s[1].replace(/\s/g,"_")),{platform:s[1]||"",tablet:o[1]||""}},e.jPlayer.browser={},e.jPlayer.platform={};var i=e.jPlayer.uaBrowser(navigator.userAgent);i.browser&&(e.jPlayer.browser[i.browser]=!0,e.jPlayer.browser.version=i.version);var r=e.jPlayer.uaPlatform(navigator.userAgent);r.platform&&(e.jPlayer.platform[r.platform]=!0,e.jPlayer.platform.mobile=!r.tablet,e.jPlayer.platform.tablet=!!r.tablet),e.jPlayer.getDocMode=function(){var t;return e.jPlayer.browser.msie&&(document.documentMode?t=document.documentMode:(t=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(t=7))),t},e.jPlayer.browser.documentMode=e.jPlayer.getDocMode(),e.jPlayer.nativeFeatures={init:function(){var e,t,n,a=document,i=a.createElement("video"),r={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""]},s=["w3c","moz","webkit","webkitVideo"];for(this.fullscreen=e={support:{w3c:!!a[r.w3c[0]],moz:!!a[r.moz[0]],webkit:"function"==typeof a[r.webkit[3]],webkitVideo:"function"==typeof i[r.webkitVideo[2]]},used:{}},t=0,n=s.length;n>t;t++){var o=s[t];if(e.support[o]){e.spec=o,e.used[o]=!0;break}}if(e.spec){var l=r[e.spec];e.api={fullscreenEnabled:!0,fullscreenElement:function(e){return e=e?e:a,e[l[1]]},requestFullscreen:function(e){return e[l[2]]()},exitFullscreen:function(e){return e=e?e:a,e[l[3]]()}},e.event={fullscreenchange:l[4],fullscreenerror:l[5]}}else e.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},e.event={}}},e.jPlayer.nativeFeatures.init(),e.jPlayer.focus=null,e.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var s=function(t){var n,a=e.jPlayer.focus,i=document.activeElement;a&&("undefined"!=typeof i?null!==i&&"BODY"!==i.nodeName.toUpperCase()&&(n=!0):e.each(e.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(e,a){return t.target.nodeName.toUpperCase()===a.toUpperCase()?(n=!0,!1):void 0}),n||e.each(a.options.keyBindings,function(n,i){return i&&t.which===i.key&&e.isFunction(i.fn)?(t.preventDefault(),i.fn(a),!1):void 0}))};e.jPlayer.keys=function(t){var n="keydown.jPlayer";e(document.documentElement).unbind(n),t&&e(document.documentElement).bind(n,s)},e.jPlayer.keys(!0),e.jPlayer.prototype={count:0,version:{script:"2.7.0",needFlash:"2.7.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(t){t.jPlayer.options.loop?e(this).unbind(".jPlayerRepeat").bind(e.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){e(this).jPlayer("play")}):e(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:32,fn:function(e){e.status.paused?e.play():e.pause()}},fullScreen:{key:13,fn:function(e){(e.status.video||e.options.audioFullScreen)&&e._setOption("fullScreen",!e.options.fullScreen)}},muted:{key:8,fn:function(e){e._muted(!e.options.muted)}},volumeUp:{key:38,fn:function(e){e.volume(e.options.volume+.1)}},volumeDown:{key:40,fn:function(e){e.volume(e.options.volume-.1)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var n=this;if(this.element.empty(),this.status=e.extend({},this.status),this.internal=e.extend({},this.internal),this.options.timeFormat=e.extend({},e.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=e.jPlayer.platform.ipad||e.jPlayer.platform.iphone||e.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!e.jPlayer.focus&&(e.jPlayer.focus=this),
this.androidFix={setMedia:!1,play:!1,pause:!1,time:NaN},e.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),e.each(this.options.supplied.toLowerCase().split(","),function(t,a){var i=a.replace(/^\s+|\s+$/g,"");if(n.format[i]){var r=!1;e.each(n.formats,function(e,t){return i===t?(r=!0,!1):void 0}),r||n.formats.push(i)}}),e.each(this.options.solution.toLowerCase().split(","),function(t,a){var i=a.replace(/^\s+|\s+$/g,"");if(n.solution[i]){var r=!1;e.each(n.solutions,function(e,t){return i===t?(r=!0,!1):void 0}),r||n.solutions.push(i)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=e.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=e.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:t}),this.internal.video=e.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:t}),this.internal.flash=e.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:t,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"Jplayer.swf":"")}),this.internal.poster=e.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:t}),e.each(e.jPlayer.event,function(e,a){n.options[e]!==t&&(n.element.bind(a+".jPlayer",n.options[e]),n.options[e]=t)}),this.require.audio=!1,this.require.video=!1,e.each(this.formats,function(e,t){n.require[n.format[t].media]=!0}),this.require.video?this.options=e.extend(!0,{},this.optionsVideo,this.options):this.options=e.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),e.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){(!n.status.video||n.status.waitForPlay)&&n.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=e("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){n._trigger(e.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.flash.canPlay={},e.each(this.formats,function(e,t){n.html.canPlay[t]=n.html[n.format[t].media].available&&""!==n.htmlElement[n.format[t].media].canPlayType(n.format[t].codec),n.flash.canPlay[t]=n.format[t].flashCanPlay&&n.flash.available}),this.html.desired=!1,this.flash.desired=!1,e.each(this.solutions,function(t,a){if(0===t)n[a].desired=!0;else{var i=!1,r=!1;e.each(n.formats,function(e,t){n[n.solutions[0]].canPlay[t]&&("video"===n.format[t].media?r=!0:i=!0)}),n[a].desired=n.require.audio&&!i||n.require.video&&!r}}),this.html.support={},this.flash.support={},e.each(this.formats,function(e,t){n.html.support[t]=n.html.canPlay[t]&&n.html.desired,n.flash.support[t]=n.flash.canPlay[t]&&n.flash.desired}),this.html.used=!1,this.flash.used=!1,e.each(this.solutions,function(t,a){e.each(n.formats,function(e,t){return n[a].support[t]?(n[a].used=!0,!1):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:e.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:e.jPlayer.errorMsg.NO_SOLUTION,hint:e.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var a,i="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(e.jPlayer.browser.msie&&(Number(e.jPlayer.browser.version)<9||e.jPlayer.browser.documentMode<9)){var r='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>',s=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+i+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];a=document.createElement(r);for(var o=0;o<s.length;o++)a.appendChild(document.createElement(s[o]))}else{var l=function(e,t,n){var a=document.createElement("param");a.setAttribute("name",t),a.setAttribute("value",n),e.appendChild(a)};a=document.createElement("object"),a.setAttribute("id",this.internal.flash.id),a.setAttribute("name",this.internal.flash.id),a.setAttribute("data",this.internal.flash.swf),a.setAttribute("type","application/x-shockwave-flash"),a.setAttribute("width","1"),a.setAttribute("height","1"),a.setAttribute("tabindex","-1"),l(a,"flashvars",i),l(a,"allowscriptaccess","always"),l(a,"bgcolor",this.options.backgroundColor),l(a,"wmode",this.options.wmode)}this.element.append(a),this.internal.flash.jq=e(a)}this.html.used&&!this.flash.used?this.status.playbackRateEnabled=this._testPlaybackRate("audio"):this.status.playbackRateEnabled=!1,this._updatePlaybackRate(),this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=e("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=e("#"+this.internal.video.id),this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):this.internal.video.jq.css({width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){n._trigger(e.jPlayer.event.click)}))),this.options.emulateHtml&&this._emulateHtmlBridge(),this.html.used&&!this.flash.used&&setTimeout(function(){n.internal.ready=!0,n.version.flash="n/a",n._trigger(e.jPlayer.event.repeat),n._trigger(e.jPlayer.event.ready)},100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),e.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),e.each(this.css.jq,function(e,t){t.length&&t.unbind(".jPlayer")}),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===e.jPlayer.focus&&(e.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},enable:function(){},disable:function(){},_testCanPlayType:function(e){try{return e.canPlayType(this.format.mp3.codec),!0}catch(t){return!1}},_testPlaybackRate:function(e){var t,n=.5;e="string"==typeof e?e:"audio",t=document.createElement(e);try{return"playbackRate"in t?(t.playbackRate=n,t.playbackRate===n):!1}catch(a){return!1}},_uaBlocklist:function(t){var n=navigator.userAgent.toLowerCase(),a=!1;return e.each(t,function(e,t){return t&&t.test(n)?(a=!0,!1):void 0}),a},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(t,n){var a=this;t.preload=this.options.preload,t.muted=this.options.muted,t.volume=this.options.volume,this.status.playbackRateEnabled&&(t.defaultPlaybackRate=this.options.defaultPlaybackRate,t.playbackRate=this.options.playbackRate),t.addEventListener("progress",function(){n.gate&&(a.internal.cmdsIgnored&&this.readyState>0&&(a.internal.cmdsIgnored=!1),a.androidFix.setMedia=!1,a.androidFix.play&&(a.androidFix.play=!1,a.play(a.androidFix.time)),a.androidFix.pause&&(a.androidFix.pause=!1,a.pause(a.androidFix.time)),a._getHtmlStatus(t),a._updateInterface(),a._trigger(e.jPlayer.event.progress))},!1),t.addEventListener("timeupdate",function(){n.gate&&(a._getHtmlStatus(t),a._updateInterface(),a._trigger(e.jPlayer.event.timeupdate))},!1),t.addEventListener("durationchange",function(){n.gate&&(a._getHtmlStatus(t),a._updateInterface(),a._trigger(e.jPlayer.event.durationchange))},!1),t.addEventListener("play",function(){n.gate&&(a._updateButtons(!0),a._html_checkWaitForPlay(),a._trigger(e.jPlayer.event.play))},!1),t.addEventListener("playing",function(){n.gate&&(a._updateButtons(!0),a._seeked(),a._trigger(e.jPlayer.event.playing))},!1),t.addEventListener("pause",function(){n.gate&&(a._updateButtons(!1),a._trigger(e.jPlayer.event.pause))},!1),t.addEventListener("waiting",function(){n.gate&&(a._seeking(),a._trigger(e.jPlayer.event.waiting))},!1),t.addEventListener("seeking",function(){n.gate&&(a._seeking(),a._trigger(e.jPlayer.event.seeking))},!1),t.addEventListener("seeked",function(){n.gate&&(a._seeked(),a._trigger(e.jPlayer.event.seeked))},!1),t.addEventListener("volumechange",function(){n.gate&&(a.options.volume=t.volume,a.options.muted=t.muted,a._updateMute(),a._updateVolume(),a._trigger(e.jPlayer.event.volumechange))},!1),t.addEventListener("ratechange",function(){n.gate&&(a.options.defaultPlaybackRate=t.defaultPlaybackRate,a.options.playbackRate=t.playbackRate,a._updatePlaybackRate(),a._trigger(e.jPlayer.event.ratechange))},!1),t.addEventListener("suspend",function(){n.gate&&(a._seeked(),a._trigger(e.jPlayer.event.suspend))},!1),t.addEventListener("ended",function(){n.gate&&(e.jPlayer.browser.webkit||(a.htmlElement.media.currentTime=0),a.htmlElement.media.pause(),a._updateButtons(!1),a._getHtmlStatus(t,!0),a._updateInterface(),a._trigger(e.jPlayer.event.ended))},!1),t.addEventListener("error",function(){n.gate&&(a._updateButtons(!1),a._seeked(),a.status.srcSet&&(clearTimeout(a.internal.htmlDlyCmdId),a.status.waitForLoad=!0,a.status.waitForPlay=!0,a.status.video&&!a.status.nativeVideoControls&&a.internal.video.jq.css({width:"0px",height:"0px"}),a._validString(a.status.media.poster)&&!a.status.nativeVideoControls&&a.internal.poster.jq.show(),a.css.jq.videoPlay.length&&a.css.jq.videoPlay.show(),a._error({type:e.jPlayer.error.URL,context:a.status.src,message:e.jPlayer.errorMsg.URL,hint:e.jPlayer.errorHint.URL})))},!1),e.each(e.jPlayer.htmlEvent,function(i,r){t.addEventListener(this,function(){n.gate&&a._trigger(e.jPlayer.event[r])},!1)})},_getHtmlStatus:function(e,t){var n=0,a=0,i=0,r=0;isFinite(e.duration)&&(this.status.duration=e.duration),n=e.currentTime,a=this.status.duration>0?100*n/this.status.duration:0,"object"==typeof e.seekable&&e.seekable.length>0?(i=this.status.duration>0?100*e.seekable.end(e.seekable.length-1)/this.status.duration:100,r=this.status.duration>0?100*e.currentTime/e.seekable.end(e.seekable.length-1):0):(i=100,r=a),t&&(n=0,r=0,a=0),this.status.seekPercent=i,this.status.currentPercentRelative=r,this.status.currentPercentAbsolute=a,this.status.currentTime=n,this.status.remaining=this.status.duration-this.status.currentTime,this.status.videoWidth=e.videoWidth,this.status.videoHeight=e.videoHeight,this.status.readyState=e.readyState,this.status.networkState=e.networkState,this.status.playbackRate=e.playbackRate,this.status.ended=e.ended},_resetStatus:function(){this.status=e.extend({},this.status,e.jPlayer.prototype.status)},_trigger:function(t,n,a){var i=e.Event(t);i.jPlayer={},i.jPlayer.version=e.extend({},this.version),i.jPlayer.options=e.extend(!0,{},this.options),i.jPlayer.status=e.extend(!0,{},this.status),i.jPlayer.html=e.extend(!0,{},this.html),i.jPlayer.flash=e.extend(!0,{},this.flash),n&&(i.jPlayer.error=e.extend({},n)),a&&(i.jPlayer.warning=e.extend({},a)),this.element.trigger(i)},jPlayerFlashEvent:function(t,n){if(t===e.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var a=this.status.currentTime,i=this.status.paused;this.setMedia(this.status.media),this.volumeWorker(this.options.volume),a>0&&(i?this.pause(a):this.play(a))}this._trigger(e.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=n.version,this.version.needFlash!==this.version.flash&&this._error({type:e.jPlayer.error.VERSION,context:this.version.flash,message:e.jPlayer.errorMsg.VERSION+this.version.flash,hint:e.jPlayer.errorHint.VERSION}),this._trigger(e.jPlayer.event.repeat),this._trigger(t);if(this.flash.gate)switch(t){case e.jPlayer.event.progress:this._getFlashStatus(n),this._updateInterface(),this._trigger(t);break;case e.jPlayer.event.timeupdate:this._getFlashStatus(n),this._updateInterface(),this._trigger(t);break;case e.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(t);break;case e.jPlayer.event.pause:this._updateButtons(!1),this._trigger(t);break;case e.jPlayer.event.ended:this._updateButtons(!1),this._trigger(t);break;case e.jPlayer.event.click:this._trigger(t);break;case e.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:e.jPlayer.error.URL,context:n.src,message:e.jPlayer.errorMsg.URL,hint:e.jPlayer.errorHint.URL});break;case e.jPlayer.event.seeking:this._seeking(),this._trigger(t);break;case e.jPlayer.event.seeked:this._seeked(),this._trigger(t);break;case e.jPlayer.event.ready:break;default:this._trigger(t)}return!1},_getFlashStatus:function(e){this.status.seekPercent=e.seekPercent,this.status.currentPercentRelative=e.currentPercentRelative,this.status.currentPercentAbsolute=e.currentPercentAbsolute,this.status.currentTime=e.currentTime,this.status.duration=e.duration,this.status.remaining=e.duration-e.currentTime,this.status.videoWidth=e.videoWidth,this.status.videoHeight=e.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(e){e===t?e=!this.status.paused:this.status.paused=!e,e?this.addStateClass("playing"):this.removeStateClass("playing"),!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen"),this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped"),this.css.jq.play.length&&this.css.jq.pause.length&&(e?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));var e="";this.css.jq.currentTime.length&&(e=this._convertTime(this.status.currentTime),e!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)));var t="",n=this.status.duration,a=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?t=this.status.media.duration:("number"==typeof this.status.media.duration&&(n=this.status.media.duration,a=n-this.status.currentTime),t=this.options.remainingDuration?(a>0?"-":"")+this._convertTime(a):this._convertTime(n)),t!==this.css.jq.duration.text()&&this.css.jq.duration.text(t))},_convertTime:n.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg"),this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg"),this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.flash.active=!1},_escapeHtml:function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(e){var t=document.createElement("div");return t.innerHTML='<a href="'+this._escapeHtml(e)+'">x</a>',t.firstChild.href},_absoluteMediaUrls:function(t){var n=this;return e.each(t,function(e,a){a&&n.format[e]&&(t[e]=n._qualifyURL(a))}),t},addStateClass:function(e){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[e])},removeStateClass:function(e){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[e])},setMedia:function(t){var n=this,a=!1,i=this.status.media.poster!==t.poster;this._resetMedia(),this._resetGate(),this._resetActive(),this.androidFix.setMedia=!1,this.androidFix.play=!1,this.androidFix.pause=!1,t=this._absoluteMediaUrls(t),e.each(this.formats,function(i,r){var s="video"===n.format[r].media;return e.each(n.solutions,function(i,o){if(n[o].support[r]&&n._validString(t[r])){var l="html"===o;return s?(l?(n.html.video.gate=!0,n._html_setVideo(t),n.html.active=!0):(n.flash.gate=!0,n._flash_setVideo(t),n.flash.active=!0),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.show(),n.status.video=!0):(l?(n.html.audio.gate=!0,n._html_setAudio(t),n.html.active=!0,e.jPlayer.platform.android&&(n.androidFix.setMedia=!0)):(n.flash.gate=!0,n._flash_setAudio(t),n.flash.active=!0),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.hide(),n.status.video=!1),a=!0,!1}}),a?!1:void 0}),a?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(t.poster)&&(i?this.htmlElement.poster.src=t.poster:this.internal.poster.jq.show()),this.css.jq.title.length&&"string"==typeof t.title&&(this.css.jq.title.html(t.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",t.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",t.title)),this.status.srcSet=!0,this.status.media=e.extend({},t),this._updateButtons(!1),this._updateInterface(),this._trigger(e.jPlayer.event.setmedia)):this._error({type:e.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:e.jPlayer.errorMsg.NO_SUPPORT,hint:e.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(e.jPlayer.focus=this)},play:function(e){var t="object"==typeof e;t&&this.options.useStateClassSkin&&!this.status.paused?this.pause(e):(e="number"==typeof e?e:NaN,this.status.srcSet?(this.focus(),this.html.active?this._html_play(e):this.flash.active&&this._flash_play(e)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(e){e="number"==typeof e?e:NaN,this.status.srcSet?this.html.active?this._html_pause(e):this.flash.active&&this._flash_pause(e):this._urlNotSetError("pause")},tellOthers:function(t,n){var a=this,i="function"==typeof n,r=Array.prototype.slice.call(arguments);"string"==typeof t&&(i&&r.splice(1,1),e.each(this.instances,function(){a.element!==this&&(!i||n.call(this.data("jPlayer"),a))&&this.jPlayer.apply(this,r)}))},pauseOthers:function(e){this.tellOthers("pause",function(){return this.status.srcSet},e)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(e){e=this._limitValue(e,0,100),this.status.srcSet?this.html.active?this._html_playHead(e):this.flash.active&&this._flash_playHead(e):this._urlNotSetError("playHead")},_muted:function(e){this.mutedWorker(e),this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},e)},mutedWorker:function(t){this.options.muted=t,this.html.used&&this._html_setProperty("muted",t),this.flash.used&&this._flash_mute(t),this.html.video.gate||this.html.audio.gate||(this._updateMute(t),this._updateVolume(this.options.volume),this._trigger(e.jPlayer.event.volumechange))},mute:function(e){var n="object"==typeof e;n&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(e=e===t?!0:!!e,this._muted(e))},unmute:function(e){e=e===t?!0:!!e,this._muted(!e)},_updateMute:function(e){e===t&&(e=this.options.muted),e?this.addStateClass("muted"):this.removeStateClass("muted"),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):e?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(e){this.volumeWorker(e),this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},e)},volumeWorker:function(t){t=this._limitValue(t,0,1),this.options.volume=t,this.html.used&&this._html_setProperty("volume",t),this.flash.used&&this._flash_volume(t),this.html.video.gate||this.html.audio.gate||(this._updateVolume(t),this._trigger(e.jPlayer.event.volumechange))},volumeBar:function(t){if(this.css.jq.volumeBar.length){var n=e(t.currentTarget),a=n.offset(),i=t.pageX-a.left,r=n.width(),s=n.height()-t.pageY+a.top,o=n.height();this.options.verticalVolume?this.volume(s/o):this.volume(i/r)}this.options.muted&&this._muted(!1)},_updateVolume:function(e){e===t&&(e=this.options.volume),e=this.options.muted?0:e,this.status.noVolume?(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*e+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(t){var n=this;this.options.cssSelectorAncestor=t,this._removeUiClass(),this.ancestorJq=t?e(t):[],t&&1!==this.ancestorJq.length&&this._warning({type:e.jPlayer.warning.CSS_SELECTOR_COUNT,context:t,message:e.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:e.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),e.each(this.options.cssSelector,function(e,t){n._cssSelector(e,t)}),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(t,n){var a=this;if("string"==typeof n)if(e.jPlayer.prototype.options.cssSelector[t]){if(this.css.jq[t]&&this.css.jq[t].length&&this.css.jq[t].unbind(".jPlayer"),this.options.cssSelector[t]=n,this.css.cs[t]=this.options.cssSelectorAncestor+" "+n,n?this.css.jq[t]=e(this.css.cs[t]):this.css.jq[t]=[],this.css.jq[t].length&&this[t]){var i=function(n){n.preventDefault(),a[t](n),a.options.autoBlur&&e(this).blur()};this.css.jq[t].bind("click.jPlayer",i)}n&&1!==this.css.jq[t].length&&this._warning({type:e.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[t],message:e.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[t].length+" found for "+t+" method.",hint:e.jPlayer.warningHint.CSS_SELECTOR_COUNT})}else this._warning({type:e.jPlayer.warning.CSS_SELECTOR_METHOD,context:t,message:e.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:e.jPlayer.warningHint.CSS_SELECTOR_METHOD});else this._warning({type:e.jPlayer.warning.CSS_SELECTOR_STRING,context:n,message:e.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:e.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(e){this.options.toggleDuration&&(this.options.captureDuration&&e.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(t){if(this.css.jq.seekBar.length){var n=e(t.currentTarget),a=n.offset(),i=t.pageX-a.left,r=n.width(),s=100*i/r;this.playHead(s)}},playbackRate:function(e){this._setOption("playbackRate",e)},playbackRateBar:function(t){if(this.css.jq.playbackRateBar.length){var n,a,i=e(t.currentTarget),r=i.offset(),s=t.pageX-r.left,o=i.width(),l=i.height()-t.pageY+r.top,u=i.height();n=this.options.verticalPlaybackRate?l/u:s/o,a=n*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate,this.playbackRate(a)}},_updatePlaybackRate:function(){var e=this.options.playbackRate,t=(e-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*t+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(e){var t="object"==typeof e;t&&this.options.useStateClassSkin&&this.options.loop?this._loop(!1):this._loop(!0)},repeatOff:function(){this._loop(!1)},_loop:function(t){this.options.loop!==t&&(this.options.loop=t,this._updateButtons(),this._trigger(e.jPlayer.event.repeat))},option:function(n,a){var i=n;if(0===arguments.length)return e.extend(!0,{},this.options);if("string"==typeof n){var r=n.split(".");if(a===t){for(var s=e.extend(!0,{},this.options),o=0;o<r.length;o++){if(s[r[o]]===t)return this._warning({type:e.jPlayer.warning.OPTION_KEY,context:n,message:e.jPlayer.warningMsg.OPTION_KEY,hint:e.jPlayer.warningHint.OPTION_KEY}),t;s=s[r[o]]}return s}i={};for(var l=i,u=0;u<r.length;u++)u<r.length-1?(l[r[u]]={},l=l[r[u]]):l[r[u]]=a}return this._setOptions(i),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(t,n){var a=this;switch(t){case"volume":this.volume(n);break;case"muted":this._muted(n);break;case"globalVolume":this.options[t]=n;break;case"cssSelectorAncestor":this._cssSelectorAncestor(n);break;case"cssSelector":e.each(n,function(e,t){a._cssSelector(e,t)});break;case"playbackRate":this.options[t]=n=this._limitValue(n,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("playbackRate",n),this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[t]=n=this._limitValue(n,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("defaultPlaybackRate",n),this._updatePlaybackRate();break;case"minPlaybackRate":this.options[t]=n=this._limitValue(n,.1,this.options.maxPlaybackRate-.1),this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[t]=n=this._limitValue(n,this.options.minPlaybackRate+.1,16),this._updatePlaybackRate();break;case"fullScreen":if(this.options[t]!==n){var i=e.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!i||i&&!this.status.waitForPlay)&&(i||(this.options[t]=n),n?this._requestFullscreen():this._exitFullscreen(),i||this._setOption("fullWindow",n))}break;case"fullWindow":this.options[t]!==n&&(this._removeUiClass(),this.options[t]=n,this._refreshSize());break;case"size":this.options.fullWindow||this.options[t].cssClass===n.cssClass||this._removeUiClass(),this.options[t]=e.extend({},this.options[t],n),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[t].cssClass!==n.cssClass&&this._removeUiClass(),this.options[t]=e.extend({},this.options[t],n),this._refreshSize();break;case"autohide":this.options[t]=e.extend({},this.options[t],n),this._updateAutohide();break;case"loop":this._loop(n);break;case"remainingDuration":this.options[t]=n,this._updateInterface();break;case"toggleDuration":this.options[t]=n;break;case"nativeVideoControls":this.options[t]=e.extend({},this.options[t],n),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[t]=e.extend({},this.options[t],n),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[t]=e.extend({},this.options[t],n),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[t]!==n&&(this.options[t]=n,n?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[t]=e.extend({},this.options[t],n);break;case"keyEnabled":this.options[t]=n,n||this!==e.jPlayer.focus||(e.jPlayer.focus=null);break;case"keyBindings":this.options[t]=e.extend(!0,{},this.options[t],n);break;case"audioFullScreen":this.options[t]=n;break;case"autoBlur":this.options[t]=n}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(e.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height
})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var e=this,t="mousemove.jPlayer",n=".jPlayerAutohide",a=t+n,i=function(){e.css.jq.gui.fadeIn(e.options.autohide.fadeIn,function(){clearTimeout(e.internal.autohideId),e.internal.autohideId=setTimeout(function(){e.css.jq.gui.fadeOut(e.options.autohide.fadeOut)},e.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),this.element.unbind(n),this.css.jq.gui.unbind(n),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(a,i),this.css.jq.gui.bind(a,i),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(e){var t="object"==typeof e;t&&this.options.useStateClassSkin&&this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var t=this,n=e.jPlayer.nativeFeatures.fullscreen;n.api.fullscreenEnabled&&n.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){t._fullscreenchange()}),document.addEventListener(n.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var t=e.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(t.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!e.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var t=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],n=e.jPlayer.nativeFeatures.fullscreen;n.used.webkitVideo&&(t=this.htmlElement.video),n.api.fullscreenEnabled&&n.api.requestFullscreen(t)},_exitFullscreen:function(){var t,n=e.jPlayer.nativeFeatures.fullscreen;n.used.webkitVideo&&(t=this.htmlElement.video),n.api.fullscreenEnabled&&n.api.exitFullscreen(t)},_html_initMedia:function(t){var n=e(this.htmlElement.media).empty();e.each(t.track||[],function(e,t){var a=document.createElement("track");a.setAttribute("kind",t.kind?t.kind:""),a.setAttribute("src",t.src?t.src:""),a.setAttribute("srclang",t.srclang?t.srclang:""),a.setAttribute("label",t.label?t.label:""),t.def&&a.setAttribute("default",t.def),n.append(a)}),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(e.jPlayer.event.timeupdate)},_html_setFormat:function(t){var n=this;e.each(this.formats,function(e,a){return n.html.support[a]&&t[a]?(n.status.src=t[a],n.status.format[a]=!0,n.status.formatType=a,!1):void 0})},_html_setAudio:function(e){this._html_setFormat(e),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(e)},_html_setVideo:function(e){this._html_setFormat(e),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(e.poster)?e.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(e)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(e){var t=this,n=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=e;else if(isNaN(e))n.play();else{this.internal.cmdsIgnored&&n.play();try{if(n.seekable&&!("object"==typeof n.seekable&&n.seekable.length>0))throw 1;n.currentTime=e,n.play()}catch(a){return void(this.internal.htmlDlyCmdId=setTimeout(function(){t.play(e)},250))}}this._html_checkWaitForPlay()},_html_pause:function(e){var t=this,n=this.htmlElement.media;if(this.androidFix.play=!1,e>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),n.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=e;else if(!isNaN(e))try{if(n.seekable&&!("object"==typeof n.seekable&&n.seekable.length>0))throw 1;n.currentTime=e}catch(a){return void(this.internal.htmlDlyCmdId=setTimeout(function(){t.pause(e)},250))}e>0&&this._html_checkWaitForPlay()},_html_playHead:function(e){var t=this,n=this.htmlElement.media;this._html_load();try{if("object"==typeof n.seekable&&n.seekable.length>0)n.currentTime=e*n.seekable.end(n.seekable.length-1)/100;else{if(!(n.duration>0)||isNaN(n.duration))throw"e";n.currentTime=e*n.duration/100}}catch(a){return void(this.internal.htmlDlyCmdId=setTimeout(function(){t.playHead(e)},250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(e,t){this.html.audio.available&&(this.htmlElement.audio[e]=t),this.html.video.available&&(this.htmlElement.video[e]=t)},_flash_setAudio:function(t){var n=this;try{e.each(this.formats,function(e,a){if(n.flash.support[a]&&t[a]){switch(a){case"m4a":case"fla":n._getMovie().fl_setAudio_m4a(t[a]);break;case"mp3":n._getMovie().fl_setAudio_mp3(t[a]);break;case"rtmpa":n._getMovie().fl_setAudio_rtmp(t[a])}return n.status.src=t[a],n.status.format[a]=!0,n.status.formatType=a,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(a){this._flashError(a)}},_flash_setVideo:function(t){var n=this;try{e.each(this.formats,function(e,a){if(n.flash.support[a]&&t[a]){switch(a){case"m4v":case"flv":n._getMovie().fl_setVideo_m4v(t[a]);break;case"rtmpv":n._getMovie().fl_setVideo_rtmp(t[a])}return n.status.src=t[a],n.status.format[a]=!0,n.status.formatType=a,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(a){this._flashError(a)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(e){this._flashError(e)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(e){this._flashError(e)}this.status.waitForLoad=!1},_flash_play:function(e){try{this._getMovie().fl_play(e)}catch(t){this._flashError(t)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(e){try{this._getMovie().fl_pause(e)}catch(t){this._flashError(t)}e>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(e){try{this._getMovie().fl_play_head(e)}catch(t){this._flashError(t)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(e){try{this._getMovie().fl_volume(e)}catch(t){this._flashError(t)}},_flash_mute:function(e){try{this._getMovie().fl_mute(e)}catch(t){this._flashError(t)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var e,t=0;if(window.ActiveXObject)try{if(e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var n=e.GetVariable("$version");n&&(n=n.split(" ")[1].split(","),t=parseInt(n[0],10)+"."+parseInt(n[1],10))}}catch(a){}else navigator.plugins&&navigator.mimeTypes.length>0&&(e=navigator.plugins["Shockwave Flash"],e&&(t=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")));return 1*t},_checkForFlash:function(e){var t=!1;return this._getFlashPluginVersion()>=e&&(t=!0),t},_validString:function(e){return e&&"string"==typeof e},_limitValue:function(e,t,n){return t>e?t:e>n?n:e},_urlNotSetError:function(t){this._error({type:e.jPlayer.error.URL_NOT_SET,context:t,message:e.jPlayer.errorMsg.URL_NOT_SET,hint:e.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(t){var n;n=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:e.jPlayer.error[n],context:this.internal.flash.swf,message:e.jPlayer.errorMsg[n]+t.message,hint:e.jPlayer.errorHint[n]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(t){this._trigger(e.jPlayer.event.error,t),this.options.errorAlerts&&this._alert("Error!"+(t.message?"\n"+t.message:"")+(t.hint?"\n"+t.hint:"")+"\nContext: "+t.context)},_warning:function(n){this._trigger(e.jPlayer.event.warning,t,n),this.options.warningAlerts&&this._alert("Warning!"+(n.message?"\n"+n.message:"")+(n.hint?"\n"+n.hint:"")+"\nContext: "+n.context)},_alert:function(e){var t="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+e;this.options.consoleAlerts?window.console&&window.console.log&&window.console.log(t):alert(t)},_emulateHtmlBridge:function(){var t=this;e.each(e.jPlayer.emulateMethods.split(/\s+/g),function(e,n){t.internal.domNode[n]=function(e){t[n](e)}}),e.each(e.jPlayer.event,function(n,a){var i=!0;e.each(e.jPlayer.reservedEvent.split(/\s+/g),function(e,t){return t===n?(i=!1,!1):void 0}),i&&t.element.bind(a+".jPlayer.jPlayerHtml",function(){t._emulateHtmlUpdate();var e=document.createEvent("Event");e.initEvent(n,!1,!0),t.internal.domNode.dispatchEvent(e)})})},_emulateHtmlUpdate:function(){var t=this;e.each(e.jPlayer.emulateStatus.split(/\s+/g),function(e,n){t.internal.domNode[n]=t.status[n]}),e.each(e.jPlayer.emulateOptions.split(/\s+/g),function(e,n){t.internal.domNode[n]=t.options[n]})},_destroyHtmlBridge:function(){var t=this;this.element.unbind(".jPlayerHtml");var n=e.jPlayer.emulateMethods+" "+e.jPlayer.emulateStatus+" "+e.jPlayer.emulateOptions;e.each(n.split(/\s+/g),function(e,n){delete t.internal.domNode[n]})}},e.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},e.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+e.jPlayer.prototype.version.script+" needs Jplayer.swf version "+e.jPlayer.prototype.version.needFlash+" but found "},e.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},e.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},e.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},e.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}}),define("app/pages/storypage/storypage",["mtemplate!app/pages/storypage/storypage.mustache","basecontroller","jplayer"],function(e,t){t.extend("Page.Storypage",{},{html:null,template:e,navbarOptions:{},init:function(e,t){this._super(e,t)},getData:function(){return{}},preRender:function(e){},postRender:function(){var e=this.options.story;return e.hasAccess?void 0:void console.log("no access")},".jp-play click":function(e,t){t.stop();var n=this.options.story;if(n.hasAccess)App.player.playStory(this.options.story);else{var a={callback:function(){FM7App.closeModal(".popup")},message:"Denna krver att du r inloggad"};App.openPopup(Page.Login,a)}},".jp-pause click":function(e,t){t.stop(),App.player.pause()},".input-slider input change":function(e,t){var n=e.val();console.log("input change "+n),App.player.setTime(Number(n))}})}),define("mtemplate!app/pages/storiespage/storiespage.mustache",["can/view/mustache"],function(e){var t='<div class="content-block">\n	<h1>{{title}}</h1>\n</div>\n\n\n<div class="list-block media-list issue-list story-list">\n	<ul>\n		{{#each stories}}\n		{{{partial \'item\'}}}\n		\n		{{/each}}\n		\n	</ul>\n	\n	\n</div>';return can.mustache(t)}),define("app/pages/storiespage/storiespage",["mtemplate!app/pages/storiespage/storiespage.mustache","basecontroller"],function(e,t){t.extend("Page.Storiespage",{defaults:{request:{}}},{html:null,template:e,init:function(e,t){this._super(e,t)},getData:function(){return{stories:Story.getAll(this.options.request)}},preRender:function(e){e.request},".story click":function(e,t){t.stop();var n=e.data("model");App.openStoryPage(n)}})}),define("mtemplate!app/pages/storypage/storypagevideo.mustache",["can/view/mustache"],function(e){var t='<div>\n\n<div class="content-block">\n	<h3>{{story.title}}</h3>\n</div>\n\n<video controls=""  name="media">\n<source src="{{story.mp3url}}" type="audio/mpeg">\n</video>\n\n\n</div>';return can.mustache(t)}),define("app/pages/storypage/storypagevideo",["mtemplate!app/pages/storypage/storypagevideo.mustache","basecontroller"],function(e,t){t.extend("Page.Storypagevideo",{},{html:null,template:e,navbarOptions:{},init:function(e,t){this._super(e,t)},getData:function(){return{}},preRender:function(e){},postRender:function(){var e=this.options.story._id;$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:"Bubble",mp3:"/mp3/"+e})},swfPath:"js",supplied:"mp3",wmode:"window",smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!0,toggleDuration:!0})}})}),define("mtemplate!app/pages/adminstart/adminstart.mustache",["can/view/mustache"],function(e){var t='\n\n\n<div class="list-block issue-list story-list">\n	<ul>\n		<li class="" >\n			<a href="adminstories" class="navigate">\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title-row">\n						<div class="item-title title">Historier</div>\n					</div>\n				</div>\n			</div>\n			</a>\n		</li>\n		<li class="" >\n			<a href="adminusers" class="navigate">\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title-row">\n						<div class="item-title title">Anvndare</div>\n					</div>\n				</div>\n			</div>\n			</a>\n		</li>\n		\n	</ul>\n	\n	\n</div>';return can.mustache(t)}),define("app/pages/adminstart/adminstart",["mtemplate!app/pages/adminstart/adminstart.mustache","basecontroller"],function(e,t){t.extend("Page.Adminstart",{requiresLogin:!0},{html:null,template:e,getData:function(){return{}}})}),define("mtemplate!app/pages/adminstories/adminstories.mustache",["can/view/mustache"],function(e){var t='\n\n<div class="locate-right">\n		<a class="button small right button-fill" id="create-new">Skapa ny</a>\n	</div>\n\n\n<div class="list-block media-list issue-list story-list">\n	<ul>\n		{{#each stories}}\n		{{{partial \'item\'}}}\n		\n		{{/each}}\n		\n	</ul>\n	\n	\n</div>';return can.mustache(t)}),define("app/pages/adminstories/adminstories",["mtemplate!app/pages/adminstories/adminstories.mustache","basecontroller"],function(e,t){t.extend("Page.Adminstories",{requiresLogin:!0},{html:null,template:e,init:function(e,t){this._super(e,t)},getData:function(){return{stories:Story.findAdminStories()}},".story click":function(e,t){t.stop(),App.openPage(Page.Adminstory,{story:e.data("model")})},"#create-new click":function(e,t){t.stop(),App.openPage(Page.Adminstory,{story:Story.createNew()})},"{Story} created":function(e,t,n){this.options.stories.push(n)}})}),define("mtemplate!app/pages/adminusers/adminusers.mustache",["can/view/mustache"],function(e){var t='\n\n<h2>Anvndare</h2>\n\n\n<div class="content-block">\n	<table>\n		<thead>\n	<tr>\n		<th>Email</th>\n		<th>Signup Datum</th>\n	</tr>\n	</thead>\n	<tbody>\n	{{#each users}}\n	<tr>\n		\n		<td>\n			{{email}}\n		</td>\n		<td>\n			{{date createdDate}}\n		</td>\n		\n	</tr>\n	{{/each}}\n	</tbody>\n	</table>\n	\n	\n</div>';return can.mustache(t)}),define("app/pages/adminusers/adminusers",["mtemplate!app/pages/adminusers/adminusers.mustache","basecontroller"],function(e,t){t.extend("Page.Adminusers",{requiresLogin:!0},{template:e,getData:function(){return{users:Model.User.getAll()}},preRender:function(e){e.users.each(function(e){console.log(e.email),console.log(e.created)})}})}),define("mtemplate!app/pages/adminstory/adminstory.mustache",["can/view/mustache"],function(e){var t='\n<div class="locate-right">\n	<a class="button small right" id="delete">Radera</a>\n</div>\n\n	\n\n<div class="list-block">\n\n	<ul>\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Skapad av</div>\n					<div class="item-input">{{story.createdByEmail}}\n					</div>\n				</div>\n			</div>\n		</li>\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Titel</div>\n					<div class="item-input">\n						<input type="text" can-value="story.title" placeholder="Titel">\n					</div>\n				</div>\n			</div>\n		</li>\n		<li class="align-top">\n	      <div class="item-content">\n	        <div class="item-inner">\n	          <div class="item-title label">Beskrivning</div>\n	          <div class="item-input">\n	            <textarea can-value="story.description"></textarea>\n	          </div>\n	        </div>\n	      </div>\n	    </li>\n		\n		<li class="align-top">\n	      <div class="item-content">\n	        <div class="item-inner">\n	          <div class="item-title label">Text</div>\n	          <div class="item-input">\n	            <textarea can-value="story.text"></textarea>\n	          </div>\n	        </div>\n	      </div>\n	    </li>\n		{{#if profile.admin}}\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">MP3</div>\n					<div class="item-input">\n						<input type="text" id="mp3-filename" can-value="story.mp3file" placeholder="MP3-fil">\n						<input type="file" id="fileinput" style="display: none;">\n					</div>\n				</div>\n			</div>\n		</li>\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Publicerad</div>\n					<div class="item-input">\n						<input type="date" placeholder="Datum" can-value="story.publishedString" >\n					</div>\n				</div>\n			</div>\n		</li>\n		\n		\n		 \n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Aktiv</div>\n					<div class="item-input">\n						<label class="label-switch"> <input type="checkbox" can-value="story.active">\n							<div class="checkbox"></div>\n						</label>\n					</div>\n				</div>\n			</div>\n		</li>\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Gratis</div>\n					<div class="item-input">\n						<label class="label-switch"> <input type="checkbox" can-value="story.free">\n							<div class="checkbox"></div>\n						</label>\n					</div>\n				</div>\n			</div>\n		</li>\n		<li>\n            <div class="item-content">\n              <div class="item-inner">\n                <div class="item-title label">Kategori</div>\n                <div class="item-input">\n                  \n                  <select can-value="story.categoryId">\n					{{#each categories}}\n					<option value="{{id}}">{{name}}</option>\n					{{/each}}\n					\n					</select>\n                </div>\n              </div>\n            </div>\n          </li>\n          {{/if}}\n	</ul>\n	<div class="content-block">\n		<div class="row">\n			<div class="col-50"><a href="#" id="cancel" class="button button-big">Avbryt</a></div>\n			<div class="col-50"><a href="#" id="save" class="button button-big button-fill">Spara</a></div>\n\n		</div>\n		<div class="row">\n		\n			<div class="col-50"></div>\n\n		</div>\n	</div>\n</div>\n';return can.mustache(t)}),define("app/pages/adminstory/adminstory",["mtemplate!app/pages/adminstory/adminstory.mustache","basecontroller"],function(e,t){t.extend("Page.Adminstory",{},{html:null,template:e,navbarOptions:{},init:function(e,t){this._super(e,t)},getData:function(){return{categories:Category.getAll()}},preRender:function(e){this.options.story.backup()},postRender:function(){var e=this.element[0];FM7App.initPage(e)},"#save click":function(e,t){t.stop();var n=this;this.options.story.save().done(function(){n.uploadFile().done(function(){n.file=null,App.mainView.back()})})},"#delete click":function(e,t){t.stop();var n=this;FM7App.modal({text:"r du sker att du vill radera?",title:"Radera",buttons:[{text:"Avbryt"},{text:"OK",bold:!0,onClick:function(){n.options.story.destroy().done(function(){App.mainView.back()})}}]})},"#cancel click":function(e,t){t.stop(),this.options.story.restore(),App.mainView.back()},uploadFile:function(){if(null==this.file)return can.Deferred().resolve();var e=new FormData,t=this.file,n=this.options.story._id;return e.append(n,t),$.ajax({url:"/mp3upload",type:"POST",data:e,cache:!1,dataType:"json",processData:!1,contentType:!1,success:function(e,t,n){"undefined"==typeof e.error?console.log("success"):console.log("ERRORS: "+e.error)},error:function(e,t,n){console.log("ERRORS: "+t)}})},"#fileinput change":function(e,t){console.log("fileinput change"),this.file=event.target.files[0],this.options.story.attr("mp3file",this.file.name)},"#mp3-filename click":function(e,t){t.stop(),this.element.find("#fileinput").click()}})}),define("mtemplate!app/pages/login/login.mustache",["can/view/mustache"],function(e){var t='\n\n\n\n{{#if profile.loggedIn}}\n<div class="content-block-title">Inloggad</div>\n<div class="list-block">\n	\n	<div class="content-block">\n	<div class="row">\n		<div class="col-50"><a href="#" id="cancel" class="button cancel button-big">Avbryt</a></div>\n		<div class="col-50"><a href="#" id="logout" class="button save button-big active">Logout</a></div>\n	</div>\n	</div>\n</div>\n{{else}}\n<div class="content-block-title">{{message}}</div>\n<div class="list-block">\n	<ul>\n\n\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Email</div>\n					<div class="item-input">\n						\n						<input type="email" can-value="profile.email" autocapitalize="off">\n			\n					</div>\n				</div>\n			</div>\n		</li>\n		\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Lsenord</div>\n					<div class="item-input">\n						\n						<input type="password" can-value="profile.password">\n			\n					</div>\n				</div>\n			</div>\n		</li>\n	</ul>\n	<div class="content-block">\n		<div class="row">\n			<div class="col-50"><a href="#" id="cancel" class="button cancel button-big">Avbryt</a></div>\n			<div class="col-50"><a href="#" id="login" class="button save button-big active">Login</a></div>\n		</div>\n		\n	</div>\n	<div class="content-block">\n		<a href="#" id="to-signup" style="float: right;">Signup</a>\n	</div>\n</div>\n{{/if}}\n\n\n\n';return can.mustache(t)}),define("app/pages/login/login",["mtemplate!app/pages/login/login.mustache","basecontroller"],function(e,t){t.extend("Page.Login",{},{html:null,template:e,navbarOptions:{},init:function(e,t){this._super(e,t),this.options.request=new can.Map({email:"test",password:"test"})},getData:function(){},preRender:function(e){this.options.message=this.options.message||"Logga in"},postRender:function(){},"a#login click":function(e,t){t.stop();var n=this;this.element.find("input").blur(),this.options.profile.login().done(function(){n.options.callback?n.options.callback():FM7App.closeModal(".popup")})},"a#to-signup click":function(e,t){t.stop(),FM7App.openPage(App.popupView,{pageController:Page.Signup,options:{}})},"a#cancel click":function(e,t){t.stop(),FM7App.closeModal(".popup")},"a#signup click":function(e,t){t.stop();var n=this.options.request.serialize();C.jsonajax({url:"/users/signup",data:n}).done(function(e){console.log("signup")})},"a#restricted click":function(e,t){t.stop(),C.jsonajax({url:"/testrestrict",type:"GET"}).done(function(e){alert(e)})},"a#logout click":function(e,t){t.stop(),this.options.profile.logout()},"a.navigate click":function(e,t){t.stop();var n=e.attr("href");FM7App.loadPage(FM7App.mainView,n,!1),FM7App.closeModal(".popup")}})}),define("mtemplate!app/pages/signup/signup.mustache",["can/view/mustache"],function(e){var t='\n<div class="content-block-title">Signup</div>\n<div class="list-block">\n	<ul>\n\n\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Email</div>\n					<div class="item-input">\n						\n						<input type="email" can-value="profile.email" autocapitalize="off">\n			\n					</div>\n				</div>\n			</div>\n		</li>\n		\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Lsenord</div>\n					<div class="item-input">\n						\n						<input type="password" can-value="profile.password">\n			\n					</div>\n				</div>\n			</div>\n		</li>\n	</ul>\n	<div class="content-block">\n	<div class="row">\n		<div class="col-50"><a href="#" id="cancel" class="button cancel button-big">Avbryt</a></div>\n		<div class="col-50"><a href="#" id="signup" class="button save button-big active">Signup</a></div>\n	</div>\n	</div>\n</div>\n\n\n\n\n';return can.mustache(t)}),define("app/pages/signup/signup",["mtemplate!app/pages/signup/signup.mustache","basecontroller"],function(e,t){t.extend("Page.Signup",{},{html:null,template:e,navbarOptions:{},init:function(e,t){this._super(e,t)},getData:function(){return{profile:App.profile}},preRender:function(e){},postRender:function(){},"a#login click":function(e,t){t.stop(),this.options.profile.login().done(function(){FM7App.closeModal(".popup")})},"a#cancel click":function(e,t){t.stop(),FM7App.closeModal(".popup")},"a#signup click":function(e,t){t.stop(),this.options.profile.signup().done(function(){FM7App.closeModal(".popup")})},"a#restricted click":function(e,t){t.stop(),C.jsonajax({url:"/testrestrict",type:"GET"}).done(function(e){alert(e)})},"a#logout click":function(e,t){t.stop(),this.options.profile.logout()}})}),define("mtemplate!app/pages/homepage/homepage.mustache",["can/view/mustache"],function(e){var t='\n\n\n<h2>Senaste</h2>\n\n<div class="list-block media-list issue-list story-list" storytype="latest">\n	\n	<ul>\n	{{#each model.latest}}\n		{{{partial "item"}}}\n	{{/each}}\n	</ul>\n\n	<div class="locate-right">\n		<a class="button small right button-fill" id="navigate-to-more">Se fler</a>\n	</div>\n</div>\n\n\n<h2>Gratis</h2>\n\n<div class="list-block media-list issue-list story-list" storytype="free">\n	\n	<ul>\n	{{#each model.free}}\n		{{{partial "item"}}}\n	{{/each}}\n	</ul>\n\n	<div class="locate-right">\n		<a class="button small right button-fill" id="navigate-to-more">Se fler</a>\n	</div>\n</div>\n\n\n<h2>Kategorier</h2>\n<div class="list-block media-list issue-list story-list">\n\n	<ul>\n		\n		{{#each categories}}\n		\n		<li class="category" {{data \'model\'}}>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title-row">\n						<div class="item-title title">{{name}}</div>\n					</div>\n				</div>\n			</div>\n		</li>\n		\n		{{/each}}\n	</ul>\n</div>\n\n\n\n<div class="content-block inset" id="my-material-box">\n	<div class="content-block-inner">\n		<p class="title">Mitt material</p>\n		<p class="">Ladda upp din egen berttelse och f den publicerad!</p>\n	</div>\n</div>\n';return can.mustache(t)}),define("common/basemodel",["can/model"],function(){return can.Model.extend("BaseModel",{get:function(){return this.findOne(-1)},getAll:function(e){return this.findAll(e)},loadModels:function(e){var t=can.Deferred(),n=this;return C.jsonajax(e).done(function(e){var a=n.models(e);t.resolve(a)}),t.promise()},getOne:function(e){var t=new $.Deferred;return this.getAll().done(function(n){t.resolve(n.getOne(e))}),t.promise()}},{changedAttributes:function(){var e={},t=this.serialize();for(var n in t){var a=t[n],i=this._backupStore[n];can.Object.same(a,i)||(e[n]=a)}return e}})}),define("app/models/story",["common/basemodel"],function(){BaseModel.extend("Story",{id:"_id",findAll:function(e){return C.jsonajax({url:"/story/all",dataType:"json",data:e,type:"POST"})},findAdminStories:function(){var e=can.Deferred(),t=this;return C.jsonajax({url:"/story/adminstories",type:"GET"}).done(function(n){var a=t.models(n);e.resolve(a)}),e.promise()},create:function(e){return console.log("create"),C.jsonajax({url:"/story",data:e})},destroy:function(e){return C.jsonajax({url:"/story",data:{_id:e},type:"DELETE"})},update:function(e,t){return console.log("update"),C.jsonajax({url:"/story",data:t,type:"PUT"})},createNew:function(){var e=new Story({published:new Date});return e}},{playing:!1,progress:null,progressPercent:0,mp3url:function(){return"/mp3/"+this._id},state:function(){return this.attr("playing")?"play":"pause"},clearPlaying:function(){this.attr("playing",!1),this.attr("time",null)},setTime:function(e,t){var n=100*e/t,a=new Date(2e3,0,0,0,0,e,0);this.attr("progress",a.format("{m}:{ss}")),n&&this.attr("progressPercent",Math.round(n))},define:{published:{type:"date"},publishedString:{type:"string",get:function(){var e=this.attr("published");if(null==e)return null;var t=C.formatDate(e);return t},set:function(e){return console.log("set publishedDate"),this.attr("published",C.parseDate(e)),e}},categoryId:{type:"string",set:function(e){return"none"==e?null:e}}}})}),define("app/pages/homepage/homepagemodel",["app/models/story"],function(){BaseModel.extend("HomePageModel",{_findOne:function(){return C.jsonajax({url:"/homepage",dataType:"json",type:"POST"})},findOne:function(){return this._findOne()}},{sync:function(){var e=this;HomePageModel._findOne().done(function(t){e.attr(t,!0)})},define:{free:{Type:Story.List},latest:{Type:Story.List}}})}),define("app/pages/homepage/homepage",["mtemplate!app/pages/homepage/homepage.mustache","basecontroller","app/pages/homepage/homepagemodel"],function(e,t){t.extend("Page.Homepage",{},{html:null,template:e,init:function(e,t){this._super(e,t)},getData:function(){return{model:HomePageModel.get(),categories:Category.getAll()}},preRender:function(e){
e.attr("categories",e.categories.getActive())},postRender:function(){FM7App.slider(".slider-container",{spaceBetween:10,slidesPerView:3})},".story click":function(e,t){t.stop();var n=e.data("model");App.openStoryPage(n)},".category click":function(e,t){t.stop();var n=e.model();App.openPage(Page.Storiespage,{request:{type:"category",categoryId:n.id},title:n.name})},"a#navigate-to-more click":function(e,t){t.stop();var n=e.closest(".story-list"),a=n.attr("storytype");App.openPage(Page.Storiespage,{request:{type:a},title:App.typeName(a)})},"#my-material-box click":function(e,t){t.stop(),App.openPage(Page.Adminstories,{})},"{Profile} update":function(e,t,n){console.log("login triggered"),this.options.model.sync()}})}),define("app/pages",["app/pages/storypage/storypage","app/pages/storiespage/storiespage","app/pages/storypage/storypagevideo","app/pages/adminstart/adminstart","app/pages/adminstories/adminstories","app/pages/adminusers/adminusers","app/pages/adminstory/adminstory","app/pages/login/login","app/pages/signup/signup","app/pages/homepage/homepage"],function(){console.log("loaded pages")}),define("app/models/profile",["common/basemodel"],function(){BaseModel.extend("Profile",{findOne:function(){return C.jsonajax({url:"/users/get",dataType:"json",type:"GET"})}},{authAction:function(){return this.attr("loggedIn")?"Logout":"Login"},login:function(){var e=this,t=this.serialize();return C.jsonajax({url:"/users/login",data:t}).done(function(t){e.attr(t),can.trigger(Profile,"update")}).fail(function(){console.error("failed log in")})},signup:function(){var e=this,t=this.serialize();return C.jsonajax({url:"/users/signup",data:t}).done(function(t){e.attr(t),can.trigger(Profile,"update")}).fail(function(){console.error("failed signup")})},logout:function(){var e=this;return C.jsonajax({url:"/users/logout",type:"GET"}).done(function(t){e.attr(t),can.trigger(Profile,"update")}).fail(function(){console.error("failed log out")})}})}),define("app/models/category",["common/basemodel"],function(){BaseModel.extend("Category",{json:[{name:"ingen",id:"none"},{name:"Kategori 1",id:"kategori1"},{name:"Kategori 2",id:"kategori2"},{name:"Kategori 3",id:"kategori3"}],findAll:function(){var e=can.Deferred(),t=this.models(this.json);return e.resolve(t)}},{}),Category.List=Category.List.extend({findById:function(e){return this.filter(function(t){return t.id==e})[0]},getActive:function(){return this.filter(function(e){return"none"!=e.id})}})}),define("app/models/user",["common/basemodel"],function(){BaseModel.extend("Model.User",{findAll:function(){return C.jsonajax({url:"/adminusers/all",type:"POST",dataType:"json"}).done(function(){console.log("got users")})}},{define:{createdDate:{type:"date"}}})}),define("app/models",["app/models/story","app/models/profile","app/models/category","app/models/user"],function(){}),define("can/util/fixture",["can/util/library","can/util/string","can/util/object"],function(e){if(!e.Object)throw new Error("can.fixture depends on can.Object. Please include it before can.fixture.");var t=function(t){return"undefined"!=typeof steal?e.isFunction(steal.config)?steal.config().root.mapJoin(t).toString():steal.root.join(t).toString():(e.fixture.rootUrl||"")+t},n=function(n,a){if(e.fixture.on){var i=function(){};n.type=n.type||n.method||"GET";var r=l(n);if(!n.fixture)return void("file:"===window.location.protocol&&i("ajax request to "+n.url+", no fixture found"));if("string"==typeof n.fixture&&e.fixture[n.fixture]&&(n.fixture=e.fixture[n.fixture]),"string"==typeof n.fixture){var s=n.fixture;/^\/\//.test(s)&&(s=t(n.fixture.substr(2))),r&&(s=e.sub(s,r)),delete n.fixture,n.url=s,n.data=null,n.type="GET",n.error||(n.error=function(e,t,n){throw"fixtures.js Error "+t+" "+n})}else n.dataTypes&&n.dataTypes.splice(0,0,"fixture"),r&&a&&(a.data=a.data||{},e.extend(a.data,r))}},a=function(e,t,n,a){return"number"!=typeof e&&(a=t,n=e,t="success",e=200),"string"!=typeof t&&(a=n,n=t,t="success"),e>=400&&599>=e&&(this.dataType="text"),[e,t,i(this,n),a]},i=function(e,t){var n=e.dataTypes?e.dataTypes[0]:e.dataType||"json";if(!t||!t[n]){var a={};a[n]=t,t=a}return t};if(e.ajaxPrefilter&&e.ajaxTransport)e.ajaxPrefilter(n),e.ajaxTransport("fixture",function(t,n){t.dataTypes.shift();var r,s=!1;return{send:function(o,l){r=setTimeout(function(){var e=function(){s===!1&&l.apply(null,a.apply(t,arguments))},r=t.fixture(n,e,o,t);void 0!==r&&l(200,"success",i(t,r),{})},e.fixture.delay)},abort:function(){s=!0,clearTimeout(r)}}});else{var r=e.ajax;e.ajax=function(t){if(n(t,t),t.fixture){var i,s=new e.Deferred,o=!1;return s.getResponseHeader=function(){},s.then(t.success,t.fail),s.abort=function(){clearTimeout(i),o=!0,s.reject(s)},i=setTimeout(function(){var e=function(){var e=a.apply(t,arguments),n=e[0];(n>=200&&300>n||304===n)&&o===!1?s.resolve(e[2][t.dataType]):s.reject(s,"error",e[1])},n=t.fixture(t,e,t.headers,t);void 0!==n&&s.resolve(n)},e.fixture.delay),s}return r(t)}}var s=[],o=function(e,t){for(var n=0;n<s.length;n++)if(c._similar(e,s[n],t))return n;return-1},l=function(e){var t=o(e);return t>-1?(e.fixture=s[t].fixture,c._getData(s[t].url,e.url)):void 0},u=function(e){var t=e.data.id;return void 0===t&&"number"==typeof e.data&&(t=e.data),void 0===t&&e.url.replace(/\/(\d+)(\/|$|\.)/g,function(e,n){t=n}),void 0===t&&(t=e.url.replace(/\/(\w+)(\/|$|\.)/g,function(e,n){"update"!==n&&(t=n)})),void 0===t&&(t=Math.round(1e3*Math.random())),t},c=e.fixture=function(t,n){if(void 0!==n){if("string"==typeof t){var a=t.match(/(GET|POST|PUT|DELETE) (.+)/i);t=a?{url:a[2],type:a[1]}:{url:t}}var i=o(t,!!n);if(i>-1&&s.splice(i,1),null==n)return;t.fixture=n,s.push(t)}else e.each(t,function(e,t){c(t,e)})},d=e.replacer;return e.extend(e.fixture,{_similar:function(t,n,a){return a?e.Object.same(t,n,{fixture:null}):e.Object.subset(t,n,e.fixture._compare)},_compare:{url:function(e,t){return!!c._getData(t,e)},fixture:null,type:"i"},_getData:function(t,n){var a=[],i=t.replace(".","\\.").replace("?","\\?"),r=new RegExp(i.replace(d,function(e,t){return a.push(t),"([^/]+)"})+"$").exec(n),s={};return r?(r.shift(),e.each(a,function(e){s[e]=r.shift()}),s):null},store:function(t,n,a){var i,r,s,o=0,l=function(e){for(var t=0;t<r.length;t++)if(e==r[t].id)return r[t]},c={};if(e.isArray(t)&&"string"==typeof t[0]?(i=t,t=n,n=a,a=arguments[3]):"string"==typeof t&&(i=[t+"s",t],t=n,n=a,a=arguments[3]),"number"==typeof t)r=[],s=function(){r=[];for(var a=0;t>a;a++){var s=n(a,r);s.id||(s.id=a),o=Math.max(s.id+1,o+1)||r.length,r.push(s)}e.isArray(i)&&(e.fixture["~"+i[0]]=r,e.fixture["-"+i[0]]=c.findAll,e.fixture["-"+i[1]]=c.findOne,e.fixture["-"+i[1]+"Update"]=c.update,e.fixture["-"+i[1]+"Destroy"]=c.destroy,e.fixture["-"+i[1]+"Create"]=c.create)};else{a=n;var d=t;s=function(){r=d.slice(0)}}return e.extend(c,{findAll:function(t){t=t||{};var n=r.slice(0);t.data=t.data||{},e.each((t.data.order||[]).slice(0).reverse(),function(e){var t=e.split(" ");n=n.sort(function(e,n){return"ASC"!==t[1].toUpperCase()?e[t[0]]<n[t[0]]?1:e[t[0]]===n[t[0]]?0:-1:e[t[0]]<n[t[0]]?-1:e[t[0]]===n[t[0]]?0:1})}),e.each((t.data.group||[]).slice(0).reverse(),function(e){var t=e.split(" ");n=n.sort(function(e,n){return e[t[0]]>n[t[0]]})});var i=parseInt(t.data.offset,10)||0,s=parseInt(t.data.limit,10)||r.length-i,o=0;for(var l in t.data)if(o=0,void 0!==t.data[l]&&(-1!==l.indexOf("Id")||-1!==l.indexOf("_id")))for(;o<n.length;)t.data[l]!=n[o][l]?n.splice(o,1):o++;if("function"==typeof a)for(o=0;o<n.length;)a(n[o],t)?o++:n.splice(o,1);else if("object"==typeof a)for(o=0;o<n.length;)e.Object.subset(n[o],t.data,a)?o++:n.splice(o,1);return{count:n.length,limit:t.data.limit,offset:t.data.offset,data:n.slice(i,i+s)}},findOne:function(e,t){var n=l(u(e));return"undefined"==typeof n?t(404,"Requested resource not found"):void t(n)},update:function(t,n){var a=u(t),i=l(a);return"undefined"==typeof i?n(404,"Requested resource not found"):(e.extend(i,t.data),void n({id:a},{location:t.url||"/"+u(t)}))},destroy:function(e,t){var n=u(e),a=l(n);if("undefined"==typeof a)return t(404,"Requested resource not found");for(var i=0;i<r.length;i++)if(r[i].id==n){r.splice(i,1);break}return{}},create:function(t,a){var i=n(r.length,r);e.extend(i,t.data),i.id||(i.id=o++),r.push(i),a({id:i.id},{location:t.url+"/"+i.id})}}),s(),e.extend({getId:u,find:function(e){return l(u(e))},reset:s},c)},rand:function p(e,t,n){if("number"==typeof e)return"number"==typeof t?e+Math.floor(Math.random()*(t-e)):Math.floor(Math.random()*e);var a=p;if(void 0===t)return a(e,a(e.length+1));var i=[];e=e.slice(0),n||(n=t),n=t+Math.round(a(n-t));for(var r=0;n>r;r++)i.push(e.splice(a(e.length),1)[0]);return i},xhr:function(t){return e.extend({},{abort:e.noop,getAllResponseHeaders:function(){return""},getResponseHeader:function(){return""},open:e.noop,overrideMimeType:e.noop,readyState:4,responseText:"",responseXML:null,send:e.noop,setRequestHeader:e.noop,status:200,statusText:"OK"},t)},on:!0}),e.fixture.delay=200,e.fixture.rootUrl=t(""),e.fixture["-handleFunction"]=function(t){return"string"==typeof t.fixture&&e.fixture[t.fixture]&&(t.fixture=e.fixture[t.fixture]),"function"==typeof t.fixture?(setTimeout(function(){t.success&&t.success.apply(null,t.fixture(t,"success")),t.complete&&t.complete.apply(null,t.fixture(t,"complete"))},e.fixture.delay),!0):!1},e.fixture.overwrites=s,e.fixture.make=e.fixture.store,e.fixture}),define("app/models/fixtures",["can/util/fixture"],function(){can.fixture.delay=0;var e=function(e){var t=can.fixture.store(e.length,function(t){var n=e[t];return null==n.id&&(n.id=t),n});return t},t=e([{message:"Allright!"},{message:"New model arrived!"},{message:"Allright!"},{message:"New model arrived!"},{message:"Allright!"},{message:"New model arrived!"},{message:"Allright!"},{message:"New model arrived!"},{message:"Allright!"},{message:"New model arrived!"},{message:"Allright!"},{message:"New model arrived!"},{message:"Allright!"},{message:"New model arrived!"},{message:"Allright!"},{message:"New model arrived!"},{message:"Allright!"},{message:"New model arrived!"}]);can.fixture({"GET /mevent":t.findAll})}),define("mtemplate!app/partials/item.html",["can/view/mustache"],function(e){var t='<li class="story" {{data \'model\'}}>\n	<div class="item-content">\n		<div class="item-inner">\n			<div class="item-title-row">\n				<div class="item-title title">{{title}}</div>\n			</div>\n			<div class="description">{{description}}</div>\n		</div>\n	</div>\n</li>';return can.mustache(t)}),define("app/mustachehelpers",["can/view/mustache","mtemplate!app/partials/item.html"],function(e,t){var n={item:t};Mustache.registerHelper("categoryname",function(e){Category.getAll().done(function(t){return t.getOne(e).name})}),Mustache.registerHelper("date",function(e){return e=C.compute(e),C.formatDate(e)}),Mustache.registerHelper("partial",function(e,t){var a=n[e];return a.render(t.context)})}),define("app/appcommon",["canjs-commons/functions","can/view/mustache","canjs-commons/extensions","can/util/library","can/control/route","can/model","can/component","can/control","can/route","can/map/delegate","can/construct/super","can/construct/proxy","can/control/plugin","can/list","can/map/backup","can/map/define","can/map/validations"],function(e){C=e,can.extend(C,{formatDate:function(e){if(null==e)return console.error("could not format "+e),null;if("string"==typeof e)return e;var t=e.format("{yyyy}-{MM}-{dd}");return t},compute:function(e){return can.isFunction(e)?e():e},parseDate:function(e){var t=e.split("-"),n=new Date(t[0],t[1]-1,t[2],12,0,0,0);return console.log("parseDate "+n),n}})}),define("app/player",["can/model"],function(){can.Model("Player",{},{progress:"",setStory:function(e){if(this.story){if(this.story._id==e._id)return;this.story.clearPlaying()}this.attr("story",e);var t=this.audio;t.pause(),t.setAttribute("src","/mp3/"+e._id),t.load()},setTime:function(e){var t=this.audio,n=t.duration*e/100;this.audio.currentTime=n},playStory:function(e){this.setStory(e),this.play()},play:function(){this.story.attr("playing",!0),this.audio.play()},pause:function(){this.story.attr("playing",!1),this.audio.pause()},initPlayer:function(){var e=this,t=$(".audioplayer").get(0);this.audio=t,t.addEventListener("timeupdate",function(n){e.story.setTime(t.currentTime,t.duration)})}})}),define("app/appcontrol",["mtemplate!app/sitecontainer.html","mtemplate!app/pagenavbar.html","mtemplate!app/popupnavbar.html","canjs-commons/functions","jquery","can/view/mustache","canjs-commons/extensions","can/util/library","can/control/route","can/model","can/component","can/control","can/route","can/map/delegate","can/construct/super","can/construct/proxy","can/control/plugin","can/list","can/map/backup","can/map/define","can/map/validations","framework7","sugar","canjs-commons/extensions","canjsfm7-plugin/plugin","app/pages","app/models","app/models/fixtures","app/mustachehelpers","app/appcommon","app/player"],function(e,t,n,a){can.Control.extend("AppControl",{},{init:function(){var a=this;Profile.get().done(function(i){var r=new Player;a.element.find("body").append(e({player:r})),r.initPlayer(),FM7App=new Framework7({ajaxLinks:".link",swipeBackPage:!0,debug:!0,canjsPlugin:{navbarTemplate:t,popupNavbarTemplate:n}}),App={player:r,profile:i,openPage:function(e,t){var n;if("object"==typeof e)var n=e;else n={pageController:e,options:t};return n.options.profile=App.profile,e.requiresLogin&&!App.profile.loggedIn?void App.openPopup(Page.Login,{message:"Sidan krver att du r inloggad",callback:function(){FM7App.openPage(App.mainView,n),FM7App.closeModal(".popup")}}):void FM7App.openPage(App.mainView,n)},openPopup:function(e,t){var n;if("object"==typeof e)var n=e;else n={pageController:e,options:t};n.options.profile=App.profile,FM7App.openPopup(App.popupView,n)},openStoryPage:function(e){App.openPage(Page.Storypage,{story:e})},mainView:FM7App.addView(".view-main",{dynamicNavbar:!0,domCache:!0}),popupView:FM7App.addView(".popup > .view",{dynamicNavbar:!0,domCache:!0}),typeName:function(e){switch(e){case"free":return"Gratis";case"latest":return"Senaste"}}},App.mainView.history=[];var s=Page.Homepage;"undefined"!=typeof defaultPage&&(s=Page[can.capitalize(defaultPage)]),App.openPage({pageController:s,options:{},animatePages:!1,showBackLink:!1})})},"{window} ajaxerror":function(e,t,n){var a=n.responseJSON;a&&a.message&&(console.log(a.message),FM7App.addNotification({title:a.message}))},".popup .controller close":function(e,t){FM7App.closeModal(".popup")},".view-main .controller close":function(e,t){App.mainView.back()},".navbar .open-login click":function(e,t){t.stop(),App.openPopup(Page.Login,{})},".navbar .playerinfo .box click":function(e,t){t.stop(),App.openPopup(Page.Storypage,{story:App.player.story})},"a.navigate click":function(e,t){t.stop();var n=Page[can.capitalize(e.attr("href"))];App.openPage(n,{})}}),new AppControl(document,{})}),requirejs.config({paths:{jquery:"../bower_components/jquery/dist/jquery",can:"../bower_components/canjs/amd/can",framework7:"../bower_components/framework7/dist/js/framework7",text:"../bower_components/text/text","canjs-commons":"resources/canjs-commons",mtemplate:"resources/canjs-commons/mustachetemplate",basecontroller:"resources/canjs-commons/basecontroller","canjsfm7-plugin":"resources/canjs-commons/canjsfm7-plugin",jplayer:"resources/jquery.jplayer.2.7.0",sugar:"../bower_components/sugar/release/sugar-full.development"},shim:{can:["jquery"],mtemplate:["jquery","can"]}}),define("app",["app/appcontrol"],function(){});